<!DOCTYPE html>

<html lang="en">
<head><meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>16_SolarScenario</title><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<style type="text/css">
    pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: var(--jp-cell-editor-active-background) }
.highlight { background: var(--jp-cell-editor-background); color: var(--jp-mirror-editor-variable-color) }
.highlight .c { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment */
.highlight .err { color: var(--jp-mirror-editor-error-color) } /* Error */
.highlight .k { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword */
.highlight .o { color: var(--jp-mirror-editor-operator-color); font-weight: bold } /* Operator */
.highlight .p { color: var(--jp-mirror-editor-punctuation-color) } /* Punctuation */
.highlight .ch { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Multiline */
.highlight .cp { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Single */
.highlight .cs { color: var(--jp-mirror-editor-comment-color); font-style: italic } /* Comment.Special */
.highlight .kc { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Pseudo */
.highlight .kr { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: var(--jp-mirror-editor-keyword-color); font-weight: bold } /* Keyword.Type */
.highlight .m { color: var(--jp-mirror-editor-number-color) } /* Literal.Number */
.highlight .s { color: var(--jp-mirror-editor-string-color) } /* Literal.String */
.highlight .ow { color: var(--jp-mirror-editor-operator-color); font-weight: bold } /* Operator.Word */
.highlight .pm { color: var(--jp-mirror-editor-punctuation-color) } /* Punctuation.Marker */
.highlight .w { color: var(--jp-mirror-editor-variable-color) } /* Text.Whitespace */
.highlight .mb { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Bin */
.highlight .mf { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Float */
.highlight .mh { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Hex */
.highlight .mi { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Integer */
.highlight .mo { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Oct */
.highlight .sa { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Affix */
.highlight .sb { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Backtick */
.highlight .sc { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Char */
.highlight .dl { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Delimiter */
.highlight .sd { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Doc */
.highlight .s2 { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Double */
.highlight .se { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Escape */
.highlight .sh { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Heredoc */
.highlight .si { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Interpol */
.highlight .sx { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Other */
.highlight .sr { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Regex */
.highlight .s1 { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Single */
.highlight .ss { color: var(--jp-mirror-editor-string-color) } /* Literal.String.Symbol */
.highlight .il { color: var(--jp-mirror-editor-number-color) } /* Literal.Number.Integer.Long */
  </style>
<style type="text/css">
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*
 * Mozilla scrollbar styling
 */

/* use standard opaque scrollbars for most nodes */
[data-jp-theme-scrollbars='true'] {
  scrollbar-color: rgb(var(--jp-scrollbar-thumb-color))
    var(--jp-scrollbar-background-color);
}

/* for code nodes, use a transparent style of scrollbar. These selectors
 * will match lower in the tree, and so will override the above */
[data-jp-theme-scrollbars='true'] .CodeMirror-hscrollbar,
[data-jp-theme-scrollbars='true'] .CodeMirror-vscrollbar {
  scrollbar-color: rgba(var(--jp-scrollbar-thumb-color), 0.5) transparent;
}

/* tiny scrollbar */

.jp-scrollbar-tiny {
  scrollbar-color: rgba(var(--jp-scrollbar-thumb-color), 0.5) transparent;
  scrollbar-width: thin;
}

/* tiny scrollbar */

.jp-scrollbar-tiny::-webkit-scrollbar,
.jp-scrollbar-tiny::-webkit-scrollbar-corner {
  background-color: transparent;
  height: 4px;
  width: 4px;
}

.jp-scrollbar-tiny::-webkit-scrollbar-thumb {
  background: rgba(var(--jp-scrollbar-thumb-color), 0.5);
}

.jp-scrollbar-tiny::-webkit-scrollbar-track:horizontal {
  border-left: 0 solid transparent;
  border-right: 0 solid transparent;
}

.jp-scrollbar-tiny::-webkit-scrollbar-track:vertical {
  border-top: 0 solid transparent;
  border-bottom: 0 solid transparent;
}

/*
 * Lumino
 */

.lm-ScrollBar[data-orientation='horizontal'] {
  min-height: 16px;
  max-height: 16px;
  min-width: 45px;
  border-top: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='vertical'] {
  min-width: 16px;
  max-width: 16px;
  min-height: 45px;
  border-left: 1px solid #a0a0a0;
}

.lm-ScrollBar-button {
  background-color: #f0f0f0;
  background-position: center center;
  min-height: 15px;
  max-height: 15px;
  min-width: 15px;
  max-width: 15px;
}

.lm-ScrollBar-button:hover {
  background-color: #dadada;
}

.lm-ScrollBar-button.lm-mod-active {
  background-color: #cdcdcd;
}

.lm-ScrollBar-track {
  background: #f0f0f0;
}

.lm-ScrollBar-thumb {
  background: #cdcdcd;
}

.lm-ScrollBar-thumb:hover {
  background: #bababa;
}

.lm-ScrollBar-thumb.lm-mod-active {
  background: #a0a0a0;
}

.lm-ScrollBar[data-orientation='horizontal'] .lm-ScrollBar-thumb {
  height: 100%;
  min-width: 15px;
  border-left: 1px solid #a0a0a0;
  border-right: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='vertical'] .lm-ScrollBar-thumb {
  width: 100%;
  min-height: 15px;
  border-top: 1px solid #a0a0a0;
  border-bottom: 1px solid #a0a0a0;
}

.lm-ScrollBar[data-orientation='horizontal']
  .lm-ScrollBar-button[data-action='decrement'] {
  background-image: var(--jp-icon-caret-left);
  background-size: 17px;
}

.lm-ScrollBar[data-orientation='horizontal']
  .lm-ScrollBar-button[data-action='increment'] {
  background-image: var(--jp-icon-caret-right);
  background-size: 17px;
}

.lm-ScrollBar[data-orientation='vertical']
  .lm-ScrollBar-button[data-action='decrement'] {
  background-image: var(--jp-icon-caret-up);
  background-size: 17px;
}

.lm-ScrollBar[data-orientation='vertical']
  .lm-ScrollBar-button[data-action='increment'] {
  background-image: var(--jp-icon-caret-down);
  background-size: 17px;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-Widget {
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
}

.lm-Widget.lm-mod-hidden {
  display: none !important;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.lm-AccordionPanel[data-orientation='horizontal'] > .lm-AccordionPanel-title {
  /* Title is rotated for horizontal accordion panel using CSS */
  display: block;
  transform-origin: top left;
  transform: rotate(-90deg) translate(-100%);
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-CommandPalette {
  display: flex;
  flex-direction: column;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-CommandPalette-search {
  flex: 0 0 auto;
}

.lm-CommandPalette-content {
  flex: 1 1 auto;
  margin: 0;
  padding: 0;
  min-height: 0;
  overflow: auto;
  list-style-type: none;
}

.lm-CommandPalette-header {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.lm-CommandPalette-item {
  display: flex;
  flex-direction: row;
}

.lm-CommandPalette-itemIcon {
  flex: 0 0 auto;
}

.lm-CommandPalette-itemContent {
  flex: 1 1 auto;
  overflow: hidden;
}

.lm-CommandPalette-itemShortcut {
  flex: 0 0 auto;
}

.lm-CommandPalette-itemLabel {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.lm-close-icon {
  border: 1px solid transparent;
  background-color: transparent;
  position: absolute;
  z-index: 1;
  right: 3%;
  top: 0;
  bottom: 0;
  margin: auto;
  padding: 7px 0;
  display: none;
  vertical-align: middle;
  outline: 0;
  cursor: pointer;
}
.lm-close-icon:after {
  content: 'X';
  display: block;
  width: 15px;
  height: 15px;
  text-align: center;
  color: #000;
  font-weight: normal;
  font-size: 12px;
  cursor: pointer;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-DockPanel {
  z-index: 0;
}

.lm-DockPanel-widget {
  z-index: 0;
}

.lm-DockPanel-tabBar {
  z-index: 1;
}

.lm-DockPanel-handle {
  z-index: 2;
}

.lm-DockPanel-handle.lm-mod-hidden {
  display: none !important;
}

.lm-DockPanel-handle:after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  content: '';
}

.lm-DockPanel-handle[data-orientation='horizontal'] {
  cursor: ew-resize;
}

.lm-DockPanel-handle[data-orientation='vertical'] {
  cursor: ns-resize;
}

.lm-DockPanel-handle[data-orientation='horizontal']:after {
  left: 50%;
  min-width: 8px;
  transform: translateX(-50%);
}

.lm-DockPanel-handle[data-orientation='vertical']:after {
  top: 50%;
  min-height: 8px;
  transform: translateY(-50%);
}

.lm-DockPanel-overlay {
  z-index: 3;
  box-sizing: border-box;
  pointer-events: none;
}

.lm-DockPanel-overlay.lm-mod-hidden {
  display: none !important;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-Menu {
  z-index: 10000;
  position: absolute;
  white-space: nowrap;
  overflow-x: hidden;
  overflow-y: auto;
  outline: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-Menu-content {
  margin: 0;
  padding: 0;
  display: table;
  list-style-type: none;
}

.lm-Menu-item {
  display: table-row;
}

.lm-Menu-item.lm-mod-hidden,
.lm-Menu-item.lm-mod-collapsed {
  display: none !important;
}

.lm-Menu-itemIcon,
.lm-Menu-itemSubmenuIcon {
  display: table-cell;
  text-align: center;
}

.lm-Menu-itemLabel {
  display: table-cell;
  text-align: left;
}

.lm-Menu-itemShortcut {
  display: table-cell;
  text-align: right;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-MenuBar {
  outline: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-MenuBar-content {
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: row;
  list-style-type: none;
}

.lm-MenuBar-item {
  box-sizing: border-box;
}

.lm-MenuBar-itemIcon,
.lm-MenuBar-itemLabel {
  display: inline-block;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-ScrollBar {
  display: flex;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-ScrollBar[data-orientation='horizontal'] {
  flex-direction: row;
}

.lm-ScrollBar[data-orientation='vertical'] {
  flex-direction: column;
}

.lm-ScrollBar-button {
  box-sizing: border-box;
  flex: 0 0 auto;
}

.lm-ScrollBar-track {
  box-sizing: border-box;
  position: relative;
  overflow: hidden;
  flex: 1 1 auto;
}

.lm-ScrollBar-thumb {
  box-sizing: border-box;
  position: absolute;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-SplitPanel-child {
  z-index: 0;
}

.lm-SplitPanel-handle {
  z-index: 1;
}

.lm-SplitPanel-handle.lm-mod-hidden {
  display: none !important;
}

.lm-SplitPanel-handle:after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  content: '';
}

.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle {
  cursor: ew-resize;
}

.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle {
  cursor: ns-resize;
}

.lm-SplitPanel[data-orientation='horizontal'] > .lm-SplitPanel-handle:after {
  left: 50%;
  min-width: 8px;
  transform: translateX(-50%);
}

.lm-SplitPanel[data-orientation='vertical'] > .lm-SplitPanel-handle:after {
  top: 50%;
  min-height: 8px;
  transform: translateY(-50%);
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-TabBar {
  display: flex;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.lm-TabBar[data-orientation='horizontal'] {
  flex-direction: row;
  align-items: flex-end;
}

.lm-TabBar[data-orientation='vertical'] {
  flex-direction: column;
  align-items: flex-end;
}

.lm-TabBar-content {
  margin: 0;
  padding: 0;
  display: flex;
  flex: 1 1 auto;
  list-style-type: none;
}

.lm-TabBar[data-orientation='horizontal'] > .lm-TabBar-content {
  flex-direction: row;
}

.lm-TabBar[data-orientation='vertical'] > .lm-TabBar-content {
  flex-direction: column;
}

.lm-TabBar-tab {
  display: flex;
  flex-direction: row;
  box-sizing: border-box;
  overflow: hidden;
  touch-action: none; /* Disable native Drag/Drop */
}

.lm-TabBar-tabIcon,
.lm-TabBar-tabCloseIcon {
  flex: 0 0 auto;
}

.lm-TabBar-tabLabel {
  flex: 1 1 auto;
  overflow: hidden;
  white-space: nowrap;
}

.lm-TabBar-tabInput {
  user-select: all;
  width: 100%;
  box-sizing: border-box;
}

.lm-TabBar-tab.lm-mod-hidden {
  display: none !important;
}

.lm-TabBar-addButton.lm-mod-hidden {
  display: none !important;
}

.lm-TabBar.lm-mod-dragging .lm-TabBar-tab {
  position: relative;
}

.lm-TabBar.lm-mod-dragging[data-orientation='horizontal'] .lm-TabBar-tab {
  left: 0;
  transition: left 150ms ease;
}

.lm-TabBar.lm-mod-dragging[data-orientation='vertical'] .lm-TabBar-tab {
  top: 0;
  transition: top 150ms ease;
}

.lm-TabBar.lm-mod-dragging .lm-TabBar-tab.lm-mod-dragging {
  transition: none;
}

.lm-TabBar-tabLabel .lm-TabBar-tabInput {
  user-select: all;
  width: 100%;
  box-sizing: border-box;
  background: inherit;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-TabPanel-tabBar {
  z-index: 1;
}

.lm-TabPanel-stackedPanel {
  z-index: 0;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-Collapse {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}

.jp-Collapse-header {
  padding: 1px 12px;
  background-color: var(--jp-layout-color1);
  border-bottom: solid var(--jp-border-width) var(--jp-border-color2);
  color: var(--jp-ui-font-color1);
  cursor: pointer;
  display: flex;
  align-items: center;
  font-size: var(--jp-ui-font-size0);
  font-weight: 600;
  text-transform: uppercase;
  user-select: none;
}

.jp-Collapser-icon {
  height: 16px;
}

.jp-Collapse-header-collapsed .jp-Collapser-icon {
  transform: rotate(-90deg);
  margin: auto 0;
}

.jp-Collapser-title {
  line-height: 25px;
}

.jp-Collapse-contents {
  padding: 0 12px;
  background-color: var(--jp-layout-color1);
  color: var(--jp-ui-font-color1);
  overflow: auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/* This file was auto-generated by ensureUiComponents() in @jupyterlab/buildutils */

/**
 * (DEPRECATED) Support for consuming icons as CSS background images
 */

/* Icons urls */

:root {
  --jp-icon-add-above: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzEzN18xOTQ5MikiPgo8cGF0aCBjbGFzcz0ianAtaWNvbjMiIGQ9Ik00Ljc1IDQuOTMwNjZINi42MjVWNi44MDU2NkM2LjYyNSA3LjAxMTkxIDYuNzkzNzUgNy4xODA2NiA3IDcuMTgwNjZDNy4yMDYyNSA3LjE4MDY2IDcuMzc1IDcuMDExOTEgNy4zNzUgNi44MDU2NlY0LjkzMDY2SDkuMjVDOS40NTYyNSA0LjkzMDY2IDkuNjI1IDQuNzYxOTEgOS42MjUgNC41NTU2NkM5LjYyNSA0LjM0OTQxIDkuNDU2MjUgNC4xODA2NiA5LjI1IDQuMTgwNjZINy4zNzVWMi4zMDU2NkM3LjM3NSAyLjA5OTQxIDcuMjA2MjUgMS45MzA2NiA3IDEuOTMwNjZDNi43OTM3NSAxLjkzMDY2IDYuNjI1IDIuMDk5NDEgNi42MjUgMi4zMDU2NlY0LjE4MDY2SDQuNzVDNC41NDM3NSA0LjE4MDY2IDQuMzc1IDQuMzQ5NDEgNC4zNzUgNC41NTU2NkM0LjM3NSA0Ljc2MTkxIDQuNTQzNzUgNC45MzA2NiA0Ljc1IDQuOTMwNjZaIiBmaWxsPSIjNjE2MTYxIiBzdHJva2U9IiM2MTYxNjEiIHN0cm9rZS13aWR0aD0iMC43Ii8+CjwvZz4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTExLjUgOS41VjExLjVMMi41IDExLjVWOS41TDExLjUgOS41Wk0xMiA4QzEyLjU1MjMgOCAxMyA4LjQ0NzcyIDEzIDlWMTJDMTMgMTIuNTUyMyAxMi41NTIzIDEzIDEyIDEzTDIgMTNDMS40NDc3MiAxMyAxIDEyLjU1MjMgMSAxMlY5QzEgOC40NDc3MiAxLjQ0NzcxIDggMiA4TDEyIDhaIiBmaWxsPSIjNjE2MTYxIi8+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzEzN18xOTQ5MiI+CjxyZWN0IGNsYXNzPSJqcC1pY29uMyIgd2lkdGg9IjYiIGhlaWdodD0iNiIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDEwIDEuNTU1NjYpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==);
  --jp-icon-add-below: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzEzN18xOTQ5OCkiPgo8cGF0aCBjbGFzcz0ianAtaWNvbjMiIGQ9Ik05LjI1IDEwLjA2OTNMNy4zNzUgMTAuMDY5M0w3LjM3NSA4LjE5NDM0QzcuMzc1IDcuOTg4MDkgNy4yMDYyNSA3LjgxOTM0IDcgNy44MTkzNEM2Ljc5Mzc1IDcuODE5MzQgNi42MjUgNy45ODgwOSA2LjYyNSA4LjE5NDM0TDYuNjI1IDEwLjA2OTNMNC43NSAxMC4wNjkzQzQuNTQzNzUgMTAuMDY5MyA0LjM3NSAxMC4yMzgxIDQuMzc1IDEwLjQ0NDNDNC4zNzUgMTAuNjUwNiA0LjU0Mzc1IDEwLjgxOTMgNC43NSAxMC44MTkzTDYuNjI1IDEwLjgxOTNMNi42MjUgMTIuNjk0M0M2LjYyNSAxMi45MDA2IDYuNzkzNzUgMTMuMDY5MyA3IDEzLjA2OTNDNy4yMDYyNSAxMy4wNjkzIDcuMzc1IDEyLjkwMDYgNy4zNzUgMTIuNjk0M0w3LjM3NSAxMC44MTkzTDkuMjUgMTAuODE5M0M5LjQ1NjI1IDEwLjgxOTMgOS42MjUgMTAuNjUwNiA5LjYyNSAxMC40NDQzQzkuNjI1IDEwLjIzODEgOS40NTYyNSAxMC4wNjkzIDkuMjUgMTAuMDY5M1oiIGZpbGw9IiM2MTYxNjEiIHN0cm9rZT0iIzYxNjE2MSIgc3Ryb2tlLXdpZHRoPSIwLjciLz4KPC9nPgo8cGF0aCBjbGFzcz0ianAtaWNvbjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMi41IDUuNUwyLjUgMy41TDExLjUgMy41TDExLjUgNS41TDIuNSA1LjVaTTIgN0MxLjQ0NzcyIDcgMSA2LjU1MjI4IDEgNkwxIDNDMSAyLjQ0NzcyIDEuNDQ3NzIgMiAyIDJMMTIgMkMxMi41NTIzIDIgMTMgMi40NDc3MiAxMyAzTDEzIDZDMTMgNi41NTIyOSAxMi41NTIzIDcgMTIgN0wyIDdaIiBmaWxsPSIjNjE2MTYxIi8+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzEzN18xOTQ5OCI+CjxyZWN0IGNsYXNzPSJqcC1pY29uMyIgd2lkdGg9IjYiIGhlaWdodD0iNiIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0ibWF0cml4KDEgMS43NDg0NmUtMDcgMS43NDg0NmUtMDcgLTEgNCAxMy40NDQzKSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=);
  --jp-icon-add: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE5IDEzaC02djZoLTJ2LTZINXYtMmg2VjVoMnY2aDZ2MnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-bell: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiPgogICA8cGF0aCBjbGFzcz0ianAtaWNvbjIganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjMzMzMzMzIgogICAgICBkPSJtOCAwLjI5Yy0xLjQgMC0yLjcgMC43My0zLjYgMS44LTEuMiAxLjUtMS40IDMuNC0xLjUgNS4yLTAuMTggMi4yLTAuNDQgNC0yLjMgNS4zbDAuMjggMS4zaDVjMC4wMjYgMC42NiAwLjMyIDEuMSAwLjcxIDEuNSAwLjg0IDAuNjEgMiAwLjYxIDIuOCAwIDAuNTItMC40IDAuNi0xIDAuNzEtMS41aDVsMC4yOC0xLjNjLTEuOS0wLjk3LTIuMi0zLjMtMi4zLTUuMy0wLjEzLTEuOC0wLjI2LTMuNy0xLjUtNS4yLTAuODUtMS0yLjItMS44LTMuNi0xLjh6bTAgMS40YzAuODggMCAxLjkgMC41NSAyLjUgMS4zIDAuODggMS4xIDEuMSAyLjcgMS4yIDQuNCAwLjEzIDEuNyAwLjIzIDMuNiAxLjMgNS4yaC0xMGMxLjEtMS42IDEuMi0zLjQgMS4zLTUuMiAwLjEzLTEuNyAwLjMtMy4zIDEuMi00LjQgMC41OS0wLjcyIDEuNi0xLjMgMi41LTEuM3ptLTAuNzQgMTJoMS41Yy0wLjAwMTUgMC4yOCAwLjAxNSAwLjc5LTAuNzQgMC43OS0wLjczIDAuMDAxNi0wLjcyLTAuNTMtMC43NC0wLjc5eiIgLz4KPC9zdmc+Cg==);
  --jp-icon-bug-dot: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiM2MTYxNjEiPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTcuMTkgOEgyMFYxMEgxNy45MUMxNy45NiAxMC4zMyAxOCAxMC42NiAxOCAxMVYxMkgyMFYxNEgxOC41SDE4VjE0LjAyNzVDMTUuNzUgMTQuMjc2MiAxNCAxNi4xODM3IDE0IDE4LjVDMTQgMTkuMjA4IDE0LjE2MzUgMTkuODc3OSAxNC40NTQ5IDIwLjQ3MzlDMTMuNzA2MyAyMC44MTE3IDEyLjg3NTcgMjEgMTIgMjFDOS43OCAyMSA3Ljg1IDE5Ljc5IDYuODEgMThINFYxNkg2LjA5QzYuMDQgMTUuNjcgNiAxNS4zNCA2IDE1VjE0SDRWMTJINlYxMUM2IDEwLjY2IDYuMDQgMTAuMzMgNi4wOSAxMEg0VjhINi44MUM3LjI2IDcuMjIgNy44OCA2LjU1IDguNjIgNi4wNEw3IDQuNDFMOC40MSAzTDEwLjU5IDUuMTdDMTEuMDQgNS4wNiAxMS41MSA1IDEyIDVDMTIuNDkgNSAxMi45NiA1LjA2IDEzLjQyIDUuMTdMMTUuNTkgM0wxNyA0LjQxTDE1LjM3IDYuMDRDMTYuMTIgNi41NSAxNi43NCA3LjIyIDE3LjE5IDhaTTEwIDE2SDE0VjE0SDEwVjE2Wk0xMCAxMkgxNFYxMEgxMFYxMloiIGZpbGw9IiM2MTYxNjEiLz4KICAgICAgICA8cGF0aCBkPSJNMjIgMTguNUMyMiAyMC40MzMgMjAuNDMzIDIyIDE4LjUgMjJDMTYuNTY3IDIyIDE1IDIwLjQzMyAxNSAxOC41QzE1IDE2LjU2NyAxNi41NjcgMTUgMTguNSAxNUMyMC40MzMgMTUgMjIgMTYuNTY3IDIyIDE4LjVaIiBmaWxsPSIjNjE2MTYxIi8+CiAgICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-bug: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik0yMCA4aC0yLjgxYy0uNDUtLjc4LTEuMDctMS40NS0xLjgyLTEuOTZMMTcgNC40MSAxNS41OSAzbC0yLjE3IDIuMTdDMTIuOTYgNS4wNiAxMi40OSA1IDEyIDVjLS40OSAwLS45Ni4wNi0xLjQxLjE3TDguNDEgMyA3IDQuNDFsMS42MiAxLjYzQzcuODggNi41NSA3LjI2IDcuMjIgNi44MSA4SDR2MmgyLjA5Yy0uMDUuMzMtLjA5LjY2LS4wOSAxdjFINHYyaDJ2MWMwIC4zNC4wNC42Ny4wOSAxSDR2MmgyLjgxYzEuMDQgMS43OSAyLjk3IDMgNS4xOSAzczQuMTUtMS4yMSA1LjE5LTNIMjB2LTJoLTIuMDljLjA1LS4zMy4wOS0uNjYuMDktMXYtMWgydi0yaC0ydi0xYzAtLjM0LS4wNC0uNjctLjA5LTFIMjBWOHptLTYgOGgtNHYtMmg0djJ6bTAtNGgtNHYtMmg0djJ6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-build: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE0LjkgMTcuNDVDMTYuMjUgMTcuNDUgMTcuMzUgMTYuMzUgMTcuMzUgMTVDMTcuMzUgMTMuNjUgMTYuMjUgMTIuNTUgMTQuOSAxMi41NUMxMy41NCAxMi41NSAxMi40NSAxMy42NSAxMi40NSAxNUMxMi40NSAxNi4zNSAxMy41NCAxNy40NSAxNC45IDE3LjQ1Wk0yMC4xIDE1LjY4TDIxLjU4IDE2Ljg0QzIxLjcxIDE2Ljk1IDIxLjc1IDE3LjEzIDIxLjY2IDE3LjI5TDIwLjI2IDE5LjcxQzIwLjE3IDE5Ljg2IDIwIDE5LjkyIDE5LjgzIDE5Ljg2TDE4LjA5IDE5LjE2QzE3LjczIDE5LjQ0IDE3LjMzIDE5LjY3IDE2LjkxIDE5Ljg1TDE2LjY0IDIxLjdDMTYuNjIgMjEuODcgMTYuNDcgMjIgMTYuMyAyMkgxMy41QzEzLjMyIDIyIDEzLjE4IDIxLjg3IDEzLjE1IDIxLjdMMTIuODkgMTkuODVDMTIuNDYgMTkuNjcgMTIuMDcgMTkuNDQgMTEuNzEgMTkuMTZMOS45NjAwMiAxOS44NkM5LjgxMDAyIDE5LjkyIDkuNjIwMDIgMTkuODYgOS41NDAwMiAxOS43MUw4LjE0MDAyIDE3LjI5QzguMDUwMDIgMTcuMTMgOC4wOTAwMiAxNi45NSA4LjIyMDAyIDE2Ljg0TDkuNzAwMDIgMTUuNjhMOS42NTAwMSAxNUw5LjcwMDAyIDE0LjMxTDguMjIwMDIgMTMuMTZDOC4wOTAwMiAxMy4wNSA4LjA1MDAyIDEyLjg2IDguMTQwMDIgMTIuNzFMOS41NDAwMiAxMC4yOUM5LjYyMDAyIDEwLjEzIDkuODEwMDIgMTAuMDcgOS45NjAwMiAxMC4xM0wxMS43MSAxMC44NEMxMi4wNyAxMC41NiAxMi40NiAxMC4zMiAxMi44OSAxMC4xNUwxMy4xNSA4LjI4OTk4QzEzLjE4IDguMTI5OTggMTMuMzIgNy45OTk5OCAxMy41IDcuOTk5OThIMTYuM0MxNi40NyA3Ljk5OTk4IDE2LjYyIDguMTI5OTggMTYuNjQgOC4yODk5OEwxNi45MSAxMC4xNUMxNy4zMyAxMC4zMiAxNy43MyAxMC41NiAxOC4wOSAxMC44NEwxOS44MyAxMC4xM0MyMCAxMC4wNyAyMC4xNyAxMC4xMyAyMC4yNiAxMC4yOUwyMS42NiAxMi43MUMyMS43NSAxMi44NiAyMS43MSAxMy4wNSAyMS41OCAxMy4xNkwyMC4xIDE0LjMxTDIwLjE1IDE1TDIwLjEgMTUuNjhaIi8+CiAgICA8cGF0aCBkPSJNNy4zMjk2NiA3LjQ0NDU0QzguMDgzMSA3LjAwOTU0IDguMzM5MzIgNi4wNTMzMiA3LjkwNDMyIDUuMjk5ODhDNy40NjkzMiA0LjU0NjQzIDYuNTA4MSA0LjI4MTU2IDUuNzU0NjYgNC43MTY1NkM1LjM5MTc2IDQuOTI2MDggNS4xMjY5NSA1LjI3MTE4IDUuMDE4NDkgNS42NzU5NEM0LjkxMDA0IDYuMDgwNzEgNC45NjY4MiA2LjUxMTk4IDUuMTc2MzQgNi44NzQ4OEM1LjYxMTM0IDcuNjI4MzIgNi41NzYyMiA3Ljg3OTU0IDcuMzI5NjYgNy40NDQ1NFpNOS42NTcxOCA0Ljc5NTkzTDEwLjg2NzIgNC45NTE3OUMxMC45NjI4IDQuOTc3NDEgMTEuMDQwMiA1LjA3MTMzIDExLjAzODIgNS4xODc5M0wxMS4wMzg4IDYuOTg4OTNDMTEuMDQ1NSA3LjEwMDU0IDEwLjk2MTYgNy4xOTUxOCAxMC44NTUgNy4yMTA1NEw5LjY2MDAxIDcuMzgwODNMOS4yMzkxNSA4LjEzMTg4TDkuNjY5NjEgOS4yNTc0NUM5LjcwNzI5IDkuMzYyNzEgOS42NjkzNCA5LjQ3Njk5IDkuNTc0MDggOS41MzE5OUw4LjAxNTIzIDEwLjQzMkM3LjkxMTMxIDEwLjQ5MiA3Ljc5MzM3IDEwLjQ2NzcgNy43MjEwNSAxMC4zODI0TDYuOTg3NDggOS40MzE4OEw2LjEwOTMxIDkuNDMwODNMNS4zNDcwNCAxMC4zOTA1QzUuMjg5MDkgMTAuNDcwMiA1LjE3MzgzIDEwLjQ5MDUgNS4wNzE4NyAxMC40MzM5TDMuNTEyNDUgOS41MzI5M0MzLjQxMDQ5IDkuNDc2MzMgMy4zNzY0NyA5LjM1NzQxIDMuNDEwNzUgOS4yNTY3OUwzLjg2MzQ3IDguMTQwOTNMMy42MTc0OSA3Ljc3NDg4TDMuNDIzNDcgNy4zNzg4M0wyLjIzMDc1IDcuMjEyOTdDMi4xMjY0NyA3LjE5MjM1IDIuMDQwNDkgNy4xMDM0MiAyLjA0MjQ1IDYuOTg2ODJMMi4wNDE4NyA1LjE4NTgyQzIuMDQzODMgNS4wNjkyMiAyLjExOTA5IDQuOTc5NTggMi4yMTcwNCA0Ljk2OTIyTDMuNDIwNjUgNC43OTM5M0wzLjg2NzQ5IDQuMDI3ODhMMy40MTEwNSAyLjkxNzMxQzMuMzczMzcgMi44MTIwNCAzLjQxMTMxIDIuNjk3NzYgMy41MTUyMyAyLjYzNzc2TDUuMDc0MDggMS43Mzc3NkM1LjE2OTM0IDEuNjgyNzYgNS4yODcyOSAxLjcwNzA0IDUuMzU5NjEgMS43OTIzMUw2LjExOTE1IDIuNzI3ODhMNi45ODAwMSAyLjczODkzTDcuNzI0OTYgMS43ODkyMkM3Ljc5MTU2IDEuNzA0NTggNy45MTU0OCAxLjY3OTIyIDguMDA4NzkgMS43NDA4Mkw5LjU2ODIxIDIuNjQxODJDOS42NzAxNyAyLjY5ODQyIDkuNzEyODUgMi44MTIzNCA5LjY4NzIzIDIuOTA3OTdMOS4yMTcxOCA0LjAzMzgzTDkuNDYzMTYgNC4zOTk4OEw5LjY1NzE4IDQuNzk1OTNaIi8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-caret-down-empty-thin: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgoJCTxwb2x5Z29uIGNsYXNzPSJzdDEiIHBvaW50cz0iOS45LDEzLjYgMy42LDcuNCA0LjQsNi42IDkuOSwxMi4yIDE1LjQsNi43IDE2LjEsNy40ICIvPgoJPC9nPgo8L3N2Zz4K);
  --jp-icon-caret-down-empty: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KICAgIDxwYXRoIGQ9Ik01LjIsNS45TDksOS43bDMuOC0zLjhsMS4yLDEuMmwtNC45LDVsLTQuOS01TDUuMiw1Ljl6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-caret-down: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KICAgIDxwYXRoIGQ9Ik01LjIsNy41TDksMTEuMmwzLjgtMy44SDUuMnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-caret-left: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgoJCTxwYXRoIGQ9Ik0xMC44LDEyLjhMNy4xLDlsMy44LTMuOGwwLDcuNkgxMC44eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-caret-right: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KICAgIDxwYXRoIGQ9Ik03LjIsNS4yTDEwLjksOWwtMy44LDMuOFY1LjJINy4yeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-caret-up-empty-thin: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgoJCTxwb2x5Z29uIGNsYXNzPSJzdDEiIHBvaW50cz0iMTUuNCwxMy4zIDkuOSw3LjcgNC40LDEzLjIgMy42LDEyLjUgOS45LDYuMyAxNi4xLDEyLjYgIi8+Cgk8L2c+Cjwvc3ZnPgo=);
  --jp-icon-caret-up: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgoJCTxwYXRoIGQ9Ik01LjIsMTAuNUw5LDYuOGwzLjgsMy44SDUuMnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-case-sensitive: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KICA8ZyBjbGFzcz0ianAtaWNvbjIiIGZpbGw9IiM0MTQxNDEiPgogICAgPHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+CiAgPC9nPgogIDxnIGNsYXNzPSJqcC1pY29uLWFjY2VudDIiIGZpbGw9IiNGRkYiPgogICAgPHBhdGggZD0iTTcuNiw4aDAuOWwzLjUsOGgtMS4xTDEwLDE0SDZsLTAuOSwySDRMNy42LDh6IE04LDkuMUw2LjQsMTNoMy4yTDgsOS4xeiIvPgogICAgPHBhdGggZD0iTTE2LjYsOS44Yy0wLjIsMC4xLTAuNCwwLjEtMC43LDAuMWMtMC4yLDAtMC40LTAuMS0wLjYtMC4yYy0wLjEtMC4xLTAuMi0wLjQtMC4yLTAuNyBjLTAuMywwLjMtMC42LDAuNS0wLjksMC43Yy0wLjMsMC4xLTAuNywwLjItMS4xLDAuMmMtMC4zLDAtMC41LDAtMC43LTAuMWMtMC4yLTAuMS0wLjQtMC4yLTAuNi0wLjNjLTAuMi0wLjEtMC4zLTAuMy0wLjQtMC41IGMtMC4xLTAuMi0wLjEtMC40LTAuMS0wLjdjMC0wLjMsMC4xLTAuNiwwLjItMC44YzAuMS0wLjIsMC4zLTAuNCwwLjQtMC41QzEyLDcsMTIuMiw2LjksMTIuNSw2LjhjMC4yLTAuMSwwLjUtMC4xLDAuNy0wLjIgYzAuMy0wLjEsMC41LTAuMSwwLjctMC4xYzAuMiwwLDAuNC0wLjEsMC42LTAuMWMwLjIsMCwwLjMtMC4xLDAuNC0wLjJjMC4xLTAuMSwwLjItMC4yLDAuMi0wLjRjMC0xLTEuMS0xLTEuMy0xIGMtMC40LDAtMS40LDAtMS40LDEuMmgtMC45YzAtMC40LDAuMS0wLjcsMC4yLTFjMC4xLTAuMiwwLjMtMC40LDAuNS0wLjZjMC4yLTAuMiwwLjUtMC4zLDAuOC0wLjNDMTMuMyw0LDEzLjYsNCwxMy45LDQgYzAuMywwLDAuNSwwLDAuOCwwLjFjMC4zLDAsMC41LDAuMSwwLjcsMC4yYzAuMiwwLjEsMC40LDAuMywwLjUsMC41QzE2LDUsMTYsNS4yLDE2LDUuNnYyLjljMCwwLjIsMCwwLjQsMCwwLjUgYzAsMC4xLDAuMSwwLjIsMC4zLDAuMmMwLjEsMCwwLjIsMCwwLjMsMFY5Ljh6IE0xNS4yLDYuOWMtMS4yLDAuNi0zLjEsMC4yLTMuMSwxLjRjMCwxLjQsMy4xLDEsMy4xLTAuNVY2Ljl6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-check: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-circle-empty: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEyIDJDNi40NyAyIDIgNi40NyAyIDEyczQuNDcgMTAgMTAgMTAgMTAtNC40NyAxMC0xMFMxNy41MyAyIDEyIDJ6bTAgMThjLTQuNDEgMC04LTMuNTktOC04czMuNTktOCA4LTggOCAzLjU5IDggOC0zLjU5IDgtOCA4eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-circle: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTggMTgiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjgiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-clear: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8bWFzayBpZD0iZG9udXRIb2xlIj4KICAgIDxyZWN0IHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0id2hpdGUiIC8+CiAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI4IiBmaWxsPSJibGFjayIvPgogIDwvbWFzaz4KCiAgPGcgY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxyZWN0IGhlaWdodD0iMTgiIHdpZHRoPSIyIiB4PSIxMSIgeT0iMyIgdHJhbnNmb3JtPSJyb3RhdGUoMzE1LCAxMiwgMTIpIi8+CiAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgbWFzaz0idXJsKCNkb251dEhvbGUpIi8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-close: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbi1ub25lIGpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlIGpwLWljb24zLWhvdmVyIiBmaWxsPSJub25lIj4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjExIi8+CiAgPC9nPgoKICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIGpwLWljb24tYWNjZW50Mi1ob3ZlciIgZmlsbD0iIzYxNjE2MSI+CiAgICA8cGF0aCBkPSJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeiIvPgogIDwvZz4KCiAgPGcgY2xhc3M9ImpwLWljb24tbm9uZSBqcC1pY29uLWJ1c3kiIGZpbGw9Im5vbmUiPgogICAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNyIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-code-check: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICA8cGF0aCBkPSJNNi41OSwzLjQxTDIsOEw2LjU5LDEyLjZMOCwxMS4xOEw0LjgyLDhMOCw0LjgyTDYuNTksMy40MU0xMi40MSwzLjQxTDExLDQuODJMMTQuMTgsOEwxMSwxMS4xOEwxMi40MSwxMi42TDE3LDhMMTIuNDEsMy40MU0yMS41OSwxMS41OUwxMy41LDE5LjY4TDkuODMsMTZMOC40MiwxNy40MUwxMy41LDIyLjVMMjMsMTNMMjEuNTksMTEuNTlaIiAvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-code: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAyOCAyOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CgkJPHBhdGggZD0iTTExLjQgMTguNkw2LjggMTRMMTEuNCA5LjRMMTAgOEw0IDE0TDEwIDIwTDExLjQgMTguNlpNMTYuNiAxOC42TDIxLjIgMTRMMTYuNiA5LjRMMTggOEwyNCAxNEwxOCAyMEwxNi42IDE4LjZWMTguNloiLz4KCTwvZz4KPC9zdmc+Cg==);
  --jp-icon-collapse-all: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGgKICAgICAgICAgICAgZD0iTTggMmMxIDAgMTEgMCAxMiAwczIgMSAyIDJjMCAxIDAgMTEgMCAxMnMwIDItMiAyQzIwIDE0IDIwIDQgMjAgNFMxMCA0IDYgNGMwLTIgMS0yIDItMnoiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICAgZD0iTTE4IDhjMC0xLTEtMi0yLTJTNSA2IDQgNnMtMiAxLTIgMmMwIDEgMCAxMSAwIDEyczEgMiAyIDJjMSAwIDExIDAgMTIgMHMyLTEgMi0yYzAtMSAwLTExIDAtMTJ6bS0yIDB2MTJINFY4eiIgLz4KICAgICAgICA8cGF0aCBkPSJNNiAxM3YyaDh2LTJ6IiAvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-console: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwMCAyMDAiPgogIDxnIGNsYXNzPSJqcC1jb25zb2xlLWljb24tYmFja2dyb3VuZC1jb2xvciBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiMwMjg4RDEiPgogICAgPHBhdGggZD0iTTIwIDE5LjhoMTYwdjE1OS45SDIweiIvPgogIDwvZz4KICA8ZyBjbGFzcz0ianAtY29uc29sZS1pY29uLWNvbG9yIGpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlIiBmaWxsPSIjZmZmIj4KICAgIDxwYXRoIGQ9Ik0xMDUgMTI3LjNoNDB2MTIuOGgtNDB6TTUxLjEgNzdMNzQgOTkuOWwtMjMuMyAyMy4zIDEwLjUgMTAuNSAyMy4zLTIzLjNMOTUgOTkuOSA4NC41IDg5LjQgNjEuNiA2Ni41eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-copy: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTggMTgiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTExLjksMUgzLjJDMi40LDEsMS43LDEuNywxLjcsMi41djEwLjJoMS41VjIuNWg4LjdWMXogTTE0LjEsMy45aC04Yy0wLjgsMC0xLjUsMC43LTEuNSwxLjV2MTAuMmMwLDAuOCwwLjcsMS41LDEuNSwxLjVoOCBjMC44LDAsMS41LTAuNywxLjUtMS41VjUuNEMxNS41LDQuNiwxNC45LDMuOSwxNC4xLDMuOXogTTE0LjEsMTUuNWgtOFY1LjRoOFYxNS41eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-copyright: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCI+CiAgPGcgY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik0xMS44OCw5LjE0YzEuMjgsMC4wNiwxLjYxLDEuMTUsMS42MywxLjY2aDEuNzljLTAuMDgtMS45OC0xLjQ5LTMuMTktMy40NS0zLjE5QzkuNjQsNy42MSw4LDksOCwxMi4xNCBjMCwxLjk0LDAuOTMsNC4yNCwzLjg0LDQuMjRjMi4yMiwwLDMuNDEtMS42NSwzLjQ0LTIuOTVoLTEuNzljLTAuMDMsMC41OS0wLjQ1LDEuMzgtMS42MywxLjQ0QzEwLjU1LDE0LjgzLDEwLDEzLjgxLDEwLDEyLjE0IEMxMCw5LjI1LDExLjI4LDkuMTYsMTEuODgsOS4xNHogTTEyLDJDNi40OCwyLDIsNi40OCwyLDEyczQuNDgsMTAsMTAsMTBzMTAtNC40OCwxMC0xMFMxNy41MiwyLDEyLDJ6IE0xMiwyMGMtNC40MSwwLTgtMy41OS04LTggczMuNTktOCw4LThzOCwzLjU5LDgsOFMxNi40MSwyMCwxMiwyMHoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-cut: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTkuNjQgNy42NGMuMjMtLjUuMzYtMS4wNS4zNi0xLjY0IDAtMi4yMS0xLjc5LTQtNC00UzIgMy43OSAyIDZzMS43OSA0IDQgNGMuNTkgMCAxLjE0LS4xMyAxLjY0LS4zNkwxMCAxMmwtMi4zNiAyLjM2QzcuMTQgMTQuMTMgNi41OSAxNCA2IDE0Yy0yLjIxIDAtNCAxLjc5LTQgNHMxLjc5IDQgNCA0IDQtMS43OSA0LTRjMC0uNTktLjEzLTEuMTQtLjM2LTEuNjRMMTIgMTRsNyA3aDN2LTFMOS42NCA3LjY0ek02IDhjLTEuMSAwLTItLjg5LTItMnMuOS0yIDItMiAyIC44OSAyIDItLjkgMi0yIDJ6bTAgMTJjLTEuMSAwLTItLjg5LTItMnMuOS0yIDItMiAyIC44OSAyIDItLjkgMi0yIDJ6bTYtNy41Yy0uMjggMC0uNS0uMjItLjUtLjVzLjIyLS41LjUtLjUuNS4yMi41LjUtLjIyLjUtLjUuNXpNMTkgM2wtNiA2IDIgMiA3LTdWM3oiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-delete: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiAvPgogICAgPHBhdGggY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjI2MjYyIiBkPSJNNiAxOWMwIDEuMS45IDIgMiAyaDhjMS4xIDAgMi0uOSAyLTJWN0g2djEyek0xOSA0aC0zLjVsLTEtMWgtNWwtMSAxSDV2MmgxNFY0eiIgLz4KPC9zdmc+Cg==);
  --jp-icon-download: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE5IDloLTRWM0g5djZINWw3IDcgNy03ek01IDE4djJoMTR2LTJINXoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-duplicate: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIuNzk5OTggMC44NzVIOC44OTU4MkM5LjIwMDYxIDAuODc1IDkuNDQ5OTggMS4xMzkxNCA5LjQ0OTk4IDEuNDYxOThDOS40NDk5OCAxLjc4NDgyIDkuMjAwNjEgMi4wNDg5NiA4Ljg5NTgyIDIuMDQ4OTZIMy4zNTQxNUMzLjA0OTM2IDIuMDQ4OTYgMi43OTk5OCAyLjMxMzEgMi43OTk5OCAyLjYzNTk0VjkuNjc5NjlDMi43OTk5OCAxMC4wMDI1IDIuNTUwNjEgMTAuMjY2NyAyLjI0NTgyIDEwLjI2NjdDMS45NDEwMyAxMC4yNjY3IDEuNjkxNjUgMTAuMDAyNSAxLjY5MTY1IDkuNjc5NjlWMi4wNDg5NkMxLjY5MTY1IDEuNDAzMjggMi4xOTA0IDAuODc1IDIuNzk5OTggMC44NzVaTTUuMzY2NjUgMTEuOVY0LjU1SDExLjA4MzNWMTEuOUg1LjM2NjY1Wk00LjE0MTY1IDQuMTQxNjdDNC4xNDE2NSAzLjY5MDYzIDQuNTA3MjggMy4zMjUgNC45NTgzMiAzLjMyNUgxMS40OTE3QzExLjk0MjcgMy4zMjUgMTIuMzA4MyAzLjY5MDYzIDEyLjMwODMgNC4xNDE2N1YxMi4zMDgzQzEyLjMwODMgMTIuNzU5NCAxMS45NDI3IDEzLjEyNSAxMS40OTE3IDEzLjEyNUg0Ljk1ODMyQzQuNTA3MjggMTMuMTI1IDQuMTQxNjUgMTIuNzU5NCA0LjE0MTY1IDEyLjMwODNWNC4xNDE2N1oiIGZpbGw9IiM2MTYxNjEiLz4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBkPSJNOS40MzU3NCA4LjI2NTA3SDguMzY0MzFWOS4zMzY1QzguMzY0MzEgOS40NTQzNSA4LjI2Nzg4IDkuNTUwNzggOC4xNTAwMiA5LjU1MDc4QzguMDMyMTcgOS41NTA3OCA3LjkzNTc0IDkuNDU0MzUgNy45MzU3NCA5LjMzNjVWOC4yNjUwN0g2Ljg2NDMxQzYuNzQ2NDUgOC4yNjUwNyA2LjY1MDAyIDguMTY4NjQgNi42NTAwMiA4LjA1MDc4QzYuNjUwMDIgNy45MzI5MiA2Ljc0NjQ1IDcuODM2NSA2Ljg2NDMxIDcuODM2NUg3LjkzNTc0VjYuNzY1MDdDNy45MzU3NCA2LjY0NzIxIDguMDMyMTcgNi41NTA3OCA4LjE1MDAyIDYuNTUwNzhDOC4yNjc4OCA2LjU1MDc4IDguMzY0MzEgNi42NDcyMSA4LjM2NDMxIDYuNzY1MDdWNy44MzY1SDkuNDM1NzRDOS41NTM2IDcuODM2NSA5LjY1MDAyIDcuOTMyOTIgOS42NTAwMiA4LjA1MDc4QzkuNjUwMDIgOC4xNjg2NCA5LjU1MzYgOC4yNjUwNyA5LjQzNTc0IDguMjY1MDdaIiBmaWxsPSIjNjE2MTYxIiBzdHJva2U9IiM2MTYxNjEiIHN0cm9rZS13aWR0aD0iMC41Ii8+Cjwvc3ZnPgo=);
  --jp-icon-edit: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTMgMTcuMjVWMjFoMy43NUwxNy44MSA5Ljk0bC0zLjc1LTMuNzVMMyAxNy4yNXpNMjAuNzEgNy4wNGMuMzktLjM5LjM5LTEuMDIgMC0xLjQxbC0yLjM0LTIuMzRjLS4zOS0uMzktMS4wMi0uMzktMS40MSAwbC0xLjgzIDEuODMgMy43NSAzLjc1IDEuODMtMS44M3oiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-ellipses: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPGNpcmNsZSBjeD0iNSIgY3k9IjEyIiByPSIyIi8+CiAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIyIi8+CiAgICA8Y2lyY2xlIGN4PSIxOSIgY3k9IjEyIiByPSIyIi8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-error: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KPGcgY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjE2MTYxIj48Y2lyY2xlIGN4PSIxMiIgY3k9IjE5IiByPSIyIi8+PHBhdGggZD0iTTEwIDNoNHYxMmgtNHoiLz48L2c+CjxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMjR2MjRIMHoiLz4KPC9zdmc+Cg==);
  --jp-icon-expand-all: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGgKICAgICAgICAgICAgZD0iTTggMmMxIDAgMTEgMCAxMiAwczIgMSAyIDJjMCAxIDAgMTEgMCAxMnMwIDItMiAyQzIwIDE0IDIwIDQgMjAgNFMxMCA0IDYgNGMwLTIgMS0yIDItMnoiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICAgZD0iTTE4IDhjMC0xLTEtMi0yLTJTNSA2IDQgNnMtMiAxLTIgMmMwIDEgMCAxMSAwIDEyczEgMiAyIDJjMSAwIDExIDAgMTIgMHMyLTEgMi0yYzAtMSAwLTExIDAtMTJ6bS0yIDB2MTJINFY4eiIgLz4KICAgICAgICA8cGF0aCBkPSJNMTEgMTBIOXYzSDZ2MmgzdjNoMnYtM2gzdi0yaC0zeiIgLz4KICAgIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-extension: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTIwLjUgMTFIMTlWN2MwLTEuMS0uOS0yLTItMmgtNFYzLjVDMTMgMi4xMiAxMS44OCAxIDEwLjUgMVM4IDIuMTIgOCAzLjVWNUg0Yy0xLjEgMC0xLjk5LjktMS45OSAydjMuOEgzLjVjMS40OSAwIDIuNyAxLjIxIDIuNyAyLjdzLTEuMjEgMi43LTIuNyAyLjdIMlYyMGMwIDEuMS45IDIgMiAyaDMuOHYtMS41YzAtMS40OSAxLjIxLTIuNyAyLjctMi43IDEuNDkgMCAyLjcgMS4yMSAyLjcgMi43VjIySDE3YzEuMSAwIDItLjkgMi0ydi00aDEuNWMxLjM4IDAgMi41LTEuMTIgMi41LTIuNVMyMS44OCAxMSAyMC41IDExeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-fast-forward: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTQgMThsOC41LTZMNCA2djEyem05LTEydjEybDguNS02TDEzIDZ6Ii8+CiAgICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-file-upload: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTkgMTZoNnYtNmg0bC03LTctNyA3aDR6bS00IDJoMTR2Mkg1eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-file: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMTkuMyA4LjJsLTUuNS01LjVjLS4zLS4zLS43LS41LTEuMi0uNUgzLjljLS44LjEtMS42LjktMS42IDEuOHYxNC4xYzAgLjkuNyAxLjYgMS42IDEuNmgxNC4yYy45IDAgMS42LS43IDEuNi0xLjZWOS40Yy4xLS41LS4xLS45LS40LTEuMnptLTUuOC0zLjNsMy40IDMuNmgtMy40VjQuOXptMy45IDEyLjdINC43Yy0uMSAwLS4yIDAtLjItLjJWNC43YzAtLjIuMS0uMy4yLS4zaDcuMnY0LjRzMCAuOC4zIDEuMWMuMy4zIDEuMS4zIDEuMS4zaDQuM3Y3LjJzLS4xLjItLjIuMnoiLz4KPC9zdmc+Cg==);
  --jp-icon-filter-dot: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiNGRkYiPgogICAgPHBhdGggZD0iTTE0LDEyVjE5Ljg4QzE0LjA0LDIwLjE4IDEzLjk0LDIwLjUgMTMuNzEsMjAuNzFDMTMuMzIsMjEuMSAxMi42OSwyMS4xIDEyLjMsMjAuNzFMMTAuMjksMTguN0MxMC4wNiwxOC40NyA5Ljk2LDE4LjE2IDEwLDE3Ljg3VjEySDkuOTdMNC4yMSw0LjYyQzMuODcsNC4xOSAzLjk1LDMuNTYgNC4zOCwzLjIyQzQuNTcsMy4wOCA0Ljc4LDMgNSwzVjNIMTlWM0MxOS4yMiwzIDE5LjQzLDMuMDggMTkuNjIsMy4yMkMyMC4wNSwzLjU2IDIwLjEzLDQuMTkgMTkuNzksNC42MkwxNC4wMywxMkgxNFoiIC8+CiAgPC9nPgogIDxnIGNsYXNzPSJqcC1pY29uLWRvdCIgZmlsbD0iI0ZGRiI+CiAgICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjE3IiByPSIzIj48L2NpcmNsZT4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-filter-list: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEwIDE4aDR2LTJoLTR2MnpNMyA2djJoMThWNkgzem0zIDdoMTJ2LTJINnYyeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-filter: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiNGRkYiPgogICAgPHBhdGggZD0iTTE0LDEyVjE5Ljg4QzE0LjA0LDIwLjE4IDEzLjk0LDIwLjUgMTMuNzEsMjAuNzFDMTMuMzIsMjEuMSAxMi42OSwyMS4xIDEyLjMsMjAuNzFMMTAuMjksMTguN0MxMC4wNiwxOC40NyA5Ljk2LDE4LjE2IDEwLDE3Ljg3VjEySDkuOTdMNC4yMSw0LjYyQzMuODcsNC4xOSAzLjk1LDMuNTYgNC4zOCwzLjIyQzQuNTcsMy4wOCA0Ljc4LDMgNSwzVjNIMTlWM0MxOS4yMiwzIDE5LjQzLDMuMDggMTkuNjIsMy4yMkMyMC4wNSwzLjU2IDIwLjEzLDQuMTkgMTkuNzksNC42MkwxNC4wMywxMkgxNFoiIC8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-folder-favorite: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggY2xhc3M9ImpwLWljb24zIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzYxNjE2MSIgZD0iTTIwIDZoLThsLTItMkg0Yy0xLjEgMC0yIC45LTIgMnYxMmMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjhjMC0xLjEtLjktMi0yLTJ6bS0yLjA2IDExTDE1IDE1LjI4IDEyLjA2IDE3bC43OC0zLjMzLTIuNTktMi4yNCAzLjQxLS4yOUwxNSA4bDEuMzQgMy4xNCAzLjQxLjI5LTIuNTkgMi4yNC43OCAzLjMzeiIvPgo8L3N2Zz4K);
  --jp-icon-folder: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMTAgNEg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMThjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY4YzAtMS4xLS45LTItMi0yaC04bC0yLTJ6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-home: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzAwMDAwMCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGNsYXNzPSJqcC1pY29uMyBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiM2MTYxNjEiIGQ9Ik0xMCAyMHYtNmg0djZoNXYtOGgzTDEyIDMgMiAxMmgzdjh6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-html5: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDUxMiA1MTIiPgogIDxwYXRoIGNsYXNzPSJqcC1pY29uMCBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiMwMDAiIGQ9Ik0xMDguNCAwaDIzdjIyLjhoMjEuMlYwaDIzdjY5aC0yM1Y0NmgtMjF2MjNoLTIzLjJNMjA2IDIzaC0yMC4zVjBoNjMuN3YyM0gyMjl2NDZoLTIzbTUzLjUtNjloMjQuMWwxNC44IDI0LjNMMzEzLjIgMGgyNC4xdjY5aC0yM1YzNC44bC0xNi4xIDI0LjgtMTYuMS0yNC44VjY5aC0yMi42bTg5LjItNjloMjN2NDYuMmgzMi42VjY5aC01NS42Ii8+CiAgPHBhdGggY2xhc3M9ImpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iI2U0NGQyNiIgZD0iTTEwNy42IDQ3MWwtMzMtMzcwLjRoMzYyLjhsLTMzIDM3MC4yTDI1NS43IDUxMiIvPgogIDxwYXRoIGNsYXNzPSJqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiNmMTY1MjkiIGQ9Ik0yNTYgNDgwLjVWMTMxaDE0OC4zTDM3NiA0NDciLz4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1zZWxlY3RhYmxlLWludmVyc2UiIGZpbGw9IiNlYmViZWIiIGQ9Ik0xNDIgMTc2LjNoMTE0djQ1LjRoLTY0LjJsNC4yIDQ2LjVoNjB2NDUuM0gxNTQuNG0yIDIyLjhIMjAybDMuMiAzNi4zIDUwLjggMTMuNnY0Ny40bC05My4yLTI2Ii8+CiAgPHBhdGggY2xhc3M9ImpwLWljb24tc2VsZWN0YWJsZS1pbnZlcnNlIiBmaWxsPSIjZmZmIiBkPSJNMzY5LjYgMTc2LjNIMjU1Ljh2NDUuNGgxMDkuNm0tNC4xIDQ2LjVIMjU1Ljh2NDUuNGg1NmwtNS4zIDU5LTUwLjcgMTMuNnY0Ny4ybDkzLTI1LjgiLz4KPC9zdmc+Cg==);
  --jp-icon-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1icmFuZDQganAtaWNvbi1zZWxlY3RhYmxlLWludmVyc2UiIGZpbGw9IiNGRkYiIGQ9Ik0yLjIgMi4yaDE3LjV2MTcuNUgyLjJ6Ii8+CiAgPHBhdGggY2xhc3M9ImpwLWljb24tYnJhbmQwIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzNGNTFCNSIgZD0iTTIuMiAyLjJ2MTcuNWgxNy41bC4xLTE3LjVIMi4yem0xMi4xIDIuMmMxLjIgMCAyLjIgMSAyLjIgMi4ycy0xIDIuMi0yLjIgMi4yLTIuMi0xLTIuMi0yLjIgMS0yLjIgMi4yLTIuMnpNNC40IDE3LjZsMy4zLTguOCAzLjMgNi42IDIuMi0zLjIgNC40IDUuNEg0LjR6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-info: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDUwLjk3OCA1MC45NzgiPgoJPGcgY2xhc3M9ImpwLWljb24zIiBmaWxsPSIjNjE2MTYxIj4KCQk8cGF0aCBkPSJNNDMuNTIsNy40NThDMzguNzExLDIuNjQ4LDMyLjMwNywwLDI1LjQ4OSwwQzE4LjY3LDAsMTIuMjY2LDIuNjQ4LDcuNDU4LDcuNDU4CgkJCWMtOS45NDMsOS45NDEtOS45NDMsMjYuMTE5LDAsMzYuMDYyYzQuODA5LDQuODA5LDExLjIxMiw3LjQ1NiwxOC4wMzEsNy40NThjMCwwLDAuMDAxLDAsMC4wMDIsMAoJCQljNi44MTYsMCwxMy4yMjEtMi42NDgsMTguMDI5LTcuNDU4YzQuODA5LTQuODA5LDcuNDU3LTExLjIxMiw3LjQ1Ny0xOC4wM0M1MC45NzcsMTguNjcsNDguMzI4LDEyLjI2Niw0My41Miw3LjQ1OHoKCQkJIE00Mi4xMDYsNDIuMTA1Yy00LjQzMiw0LjQzMS0xMC4zMzIsNi44NzItMTYuNjE1LDYuODcyaC0wLjAwMmMtNi4yODUtMC4wMDEtMTIuMTg3LTIuNDQxLTE2LjYxNy02Ljg3MgoJCQljLTkuMTYyLTkuMTYzLTkuMTYyLTI0LjA3MSwwLTMzLjIzM0MxMy4zMDMsNC40NCwxOS4yMDQsMiwyNS40ODksMmM2LjI4NCwwLDEyLjE4NiwyLjQ0LDE2LjYxNyw2Ljg3MgoJCQljNC40MzEsNC40MzEsNi44NzEsMTAuMzMyLDYuODcxLDE2LjYxN0M0OC45NzcsMzEuNzcyLDQ2LjUzNiwzNy42NzUsNDIuMTA2LDQyLjEwNXoiLz4KCQk8cGF0aCBkPSJNMjMuNTc4LDMyLjIxOGMtMC4wMjMtMS43MzQsMC4xNDMtMy4wNTksMC40OTYtMy45NzJjMC4zNTMtMC45MTMsMS4xMS0xLjk5NywyLjI3Mi0zLjI1MwoJCQljMC40NjgtMC41MzYsMC45MjMtMS4wNjIsMS4zNjctMS41NzVjMC42MjYtMC43NTMsMS4xMDQtMS40NzgsMS40MzYtMi4xNzVjMC4zMzEtMC43MDcsMC40OTUtMS41NDEsMC40OTUtMi41CgkJCWMwLTEuMDk2LTAuMjYtMi4wODgtMC43NzktMi45NzljLTAuNTY1LTAuODc5LTEuNTAxLTEuMzM2LTIuODA2LTEuMzY5Yy0xLjgwMiwwLjA1Ny0yLjk4NSwwLjY2Ny0zLjU1LDEuODMyCgkJCWMtMC4zMDEsMC41MzUtMC41MDMsMS4xNDEtMC42MDcsMS44MTRjLTAuMTM5LDAuNzA3LTAuMjA3LDEuNDMyLTAuMjA3LDIuMTc0aC0yLjkzN2MtMC4wOTEtMi4yMDgsMC40MDctNC4xMTQsMS40OTMtNS43MTkKCQkJYzEuMDYyLTEuNjQsMi44NTUtMi40ODEsNS4zNzgtMi41MjdjMi4xNiwwLjAyMywzLjg3NCwwLjYwOCw1LjE0MSwxLjc1OGMxLjI3OCwxLjE2LDEuOTI5LDIuNzY0LDEuOTUsNC44MTEKCQkJYzAsMS4xNDItMC4xMzcsMi4xMTEtMC40MSwyLjkxMWMtMC4zMDksMC44NDUtMC43MzEsMS41OTMtMS4yNjgsMi4yNDNjLTAuNDkyLDAuNjUtMS4wNjgsMS4zMTgtMS43MywyLjAwMgoJCQljLTAuNjUsMC42OTctMS4zMTMsMS40NzktMS45ODcsMi4zNDZjLTAuMjM5LDAuMzc3LTAuNDI5LDAuNzc3LTAuNTY1LDEuMTk5Yy0wLjE2LDAuOTU5LTAuMjE3LDEuOTUxLTAuMTcxLDIuOTc5CgkJCUMyNi41ODksMzIuMjE4LDIzLjU3OCwzMi4yMTgsMjMuNTc4LDMyLjIxOHogTTIzLjU3OCwzOC4yMnYtMy40ODRoMy4wNzZ2My40ODRIMjMuNTc4eiIvPgoJPC9nPgo8L3N2Zz4K);
  --jp-icon-inspector: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaW5zcGVjdG9yLWljb24tY29sb3IganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMjAgNEg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMThjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY2YzAtMS4xLS45LTItMi0yem0tNSAxNEg0di00aDExdjR6bTAtNUg0VjloMTF2NHptNSA1aC00VjloNHY5eiIvPgo8L3N2Zz4K);
  --jp-icon-json: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8ZyBjbGFzcz0ianAtanNvbi1pY29uLWNvbG9yIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iI0Y5QTgyNSI+CiAgICA8cGF0aCBkPSJNMjAuMiAxMS44Yy0xLjYgMC0xLjcuNS0xLjcgMSAwIC40LjEuOS4xIDEuMy4xLjUuMS45LjEgMS4zIDAgMS43LTEuNCAyLjMtMy41IDIuM2gtLjl2LTEuOWguNWMxLjEgMCAxLjQgMCAxLjQtLjggMC0uMyAwLS42LS4xLTEgMC0uNC0uMS0uOC0uMS0xLjIgMC0xLjMgMC0xLjggMS4zLTItMS4zLS4yLTEuMy0uNy0xLjMtMiAwLS40LjEtLjguMS0xLjIuMS0uNC4xLS43LjEtMSAwLS44LS40LS43LTEuNC0uOGgtLjVWNC4xaC45YzIuMiAwIDMuNS43IDMuNSAyLjMgMCAuNC0uMS45LS4xIDEuMy0uMS41LS4xLjktLjEgMS4zIDAgLjUuMiAxIDEuNyAxdjEuOHpNMS44IDEwLjFjMS42IDAgMS43LS41IDEuNy0xIDAtLjQtLjEtLjktLjEtMS4zLS4xLS41LS4xLS45LS4xLTEuMyAwLTEuNiAxLjQtMi4zIDMuNS0yLjNoLjl2MS45aC0uNWMtMSAwLTEuNCAwLTEuNC44IDAgLjMgMCAuNi4xIDEgMCAuMi4xLjYuMSAxIDAgMS4zIDAgMS44LTEuMyAyQzYgMTEuMiA2IDExLjcgNiAxM2MwIC40LS4xLjgtLjEgMS4yLS4xLjMtLjEuNy0uMSAxIDAgLjguMy44IDEuNC44aC41djEuOWgtLjljLTIuMSAwLTMuNS0uNi0zLjUtMi4zIDAtLjQuMS0uOS4xLTEuMy4xLS41LjEtLjkuMS0xLjMgMC0uNS0uMi0xLTEuNy0xdi0xLjl6Ii8+CiAgICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjEzLjgiIHI9IjIuMSIvPgogICAgPGNpcmNsZSBjeD0iMTEiIGN5PSI4LjIiIHI9IjIuMSIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-julia: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDMyNSAzMDAiPgogIDxnIGNsYXNzPSJqcC1icmFuZDAganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjY2IzYzMzIj4KICAgIDxwYXRoIGQ9Ik0gMTUwLjg5ODQzOCAyMjUgQyAxNTAuODk4NDM4IDI2Ni40MjE4NzUgMTE3LjMyMDMxMiAzMDAgNzUuODk4NDM4IDMwMCBDIDM0LjQ3NjU2MiAzMDAgMC44OTg0MzggMjY2LjQyMTg3NSAwLjg5ODQzOCAyMjUgQyAwLjg5ODQzOCAxODMuNTc4MTI1IDM0LjQ3NjU2MiAxNTAgNzUuODk4NDM4IDE1MCBDIDExNy4zMjAzMTIgMTUwIDE1MC44OTg0MzggMTgzLjU3ODEyNSAxNTAuODk4NDM4IDIyNSIvPgogIDwvZz4KICA8ZyBjbGFzcz0ianAtYnJhbmQwIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzM4OTgyNiI+CiAgICA8cGF0aCBkPSJNIDIzNy41IDc1IEMgMjM3LjUgMTE2LjQyMTg3NSAyMDMuOTIxODc1IDE1MCAxNjIuNSAxNTAgQyAxMjEuMDc4MTI1IDE1MCA4Ny41IDExNi40MjE4NzUgODcuNSA3NSBDIDg3LjUgMzMuNTc4MTI1IDEyMS4wNzgxMjUgMCAxNjIuNSAwIEMgMjAzLjkyMTg3NSAwIDIzNy41IDMzLjU3ODEyNSAyMzcuNSA3NSIvPgogIDwvZz4KICA8ZyBjbGFzcz0ianAtYnJhbmQwIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzk1NThiMiI+CiAgICA8cGF0aCBkPSJNIDMyNC4xMDE1NjIgMjI1IEMgMzI0LjEwMTU2MiAyNjYuNDIxODc1IDI5MC41MjM0MzggMzAwIDI0OS4xMDE1NjIgMzAwIEMgMjA3LjY3OTY4OCAzMDAgMTc0LjEwMTU2MiAyNjYuNDIxODc1IDE3NC4xMDE1NjIgMjI1IEMgMTc0LjEwMTU2MiAxODMuNTc4MTI1IDIwNy42Nzk2ODggMTUwIDI0OS4xMDE1NjIgMTUwIEMgMjkwLjUyMzQzOCAxNTAgMzI0LjEwMTU2MiAxODMuNTc4MTI1IDMyNC4xMDE1NjIgMjI1Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-jupyter-favicon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUyIiBoZWlnaHQ9IjE2NSIgdmlld0JveD0iMCAwIDE1MiAxNjUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgPGcgY2xhc3M9ImpwLWp1cHl0ZXItaWNvbi1jb2xvciIgZmlsbD0iI0YzNzcyNiI+CiAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjA3ODk0NywgMTEwLjU4MjkyNykiIGQ9Ik03NS45NDIyODQyLDI5LjU4MDQ1NjEgQzQzLjMwMjM5NDcsMjkuNTgwNDU2MSAxNC43OTY3ODMyLDE3LjY1MzQ2MzQgMCwwIEM1LjUxMDgzMjExLDE1Ljg0MDY4MjkgMTUuNzgxNTM4OSwyOS41NjY3NzMyIDI5LjM5MDQ5NDcsMzkuMjc4NDE3MSBDNDIuOTk5Nyw0OC45ODk4NTM3IDU5LjI3MzcsNTQuMjA2NzgwNSA3NS45NjA1Nzg5LDU0LjIwNjc4MDUgQzkyLjY0NzQ1NzksNTQuMjA2NzgwNSAxMDguOTIxNDU4LDQ4Ljk4OTg1MzcgMTIyLjUzMDY2MywzOS4yNzg0MTcxIEMxMzYuMTM5NDUzLDI5LjU2Njc3MzIgMTQ2LjQxMDI4NCwxNS44NDA2ODI5IDE1MS45MjExNTgsMCBDMTM3LjA4Nzg2OCwxNy42NTM0NjM0IDEwOC41ODI1ODksMjkuNTgwNDU2MSA3NS45NDIyODQyLDI5LjU4MDQ1NjEgTDc1Ljk0MjI4NDIsMjkuNTgwNDU2MSBaIiAvPgogICAgPHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMzczNjgsIDAuNzA0ODc4KSIgZD0iTTc1Ljk3ODQ1NzksMjQuNjI2NDA3MyBDMTA4LjYxODc2MywyNC42MjY0MDczIDEzNy4xMjQ0NTgsMzYuNTUzNDQxNSAxNTEuOTIxMTU4LDU0LjIwNjc4MDUgQzE0Ni40MTAyODQsMzguMzY2MjIyIDEzNi4xMzk0NTMsMjQuNjQwMTMxNyAxMjIuNTMwNjYzLDE0LjkyODQ4NzggQzEwOC45MjE0NTgsNS4yMTY4NDM5IDkyLjY0NzQ1NzksMCA3NS45NjA1Nzg5LDAgQzU5LjI3MzcsMCA0Mi45OTk3LDUuMjE2ODQzOSAyOS4zOTA0OTQ3LDE0LjkyODQ4NzggQzE1Ljc4MTUzODksMjQuNjQwMTMxNyA1LjUxMDgzMjExLDM4LjM2NjIyMiAwLDU0LjIwNjc4MDUgQzE0LjgzMzA4MTYsMzYuNTg5OTI5MyA0My4zMzg1Njg0LDI0LjYyNjQwNzMgNzUuOTc4NDU3OSwyNC42MjY0MDczIEw3NS45Nzg0NTc5LDI0LjYyNjQwNzMgWiIgLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-jupyter: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzkiIGhlaWdodD0iNTEiIHZpZXdCb3g9IjAgMCAzOSA1MSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTYzOCAtMjI4MSkiPgogICAgIDxnIGNsYXNzPSJqcC1qdXB5dGVyLWljb24tY29sb3IiIGZpbGw9IiNGMzc3MjYiPgogICAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjM5Ljc0IDIzMTEuOTgpIiBkPSJNIDE4LjI2NDYgNy4xMzQxMUMgMTAuNDE0NSA3LjEzNDExIDMuNTU4NzIgNC4yNTc2IDAgMEMgMS4zMjUzOSAzLjgyMDQgMy43OTU1NiA3LjEzMDgxIDcuMDY4NiA5LjQ3MzAzQyAxMC4zNDE3IDExLjgxNTIgMTQuMjU1NyAxMy4wNzM0IDE4LjI2OSAxMy4wNzM0QyAyMi4yODIzIDEzLjA3MzQgMjYuMTk2MyAxMS44MTUyIDI5LjQ2OTQgOS40NzMwM0MgMzIuNzQyNCA3LjEzMDgxIDM1LjIxMjYgMy44MjA0IDM2LjUzOCAwQyAzMi45NzA1IDQuMjU3NiAyNi4xMTQ4IDcuMTM0MTEgMTguMjY0NiA3LjEzNDExWiIvPgogICAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjM5LjczIDIyODUuNDgpIiBkPSJNIDE4LjI3MzMgNS45MzkzMUMgMjYuMTIzNSA1LjkzOTMxIDMyLjk3OTMgOC44MTU4MyAzNi41MzggMTMuMDczNEMgMzUuMjEyNiA5LjI1MzAzIDMyLjc0MjQgNS45NDI2MiAyOS40Njk0IDMuNjAwNEMgMjYuMTk2MyAxLjI1ODE4IDIyLjI4MjMgMCAxOC4yNjkgMEMgMTQuMjU1NyAwIDEwLjM0MTcgMS4yNTgxOCA3LjA2ODYgMy42MDA0QyAzLjc5NTU2IDUuOTQyNjIgMS4zMjUzOSA5LjI1MzAzIDAgMTMuMDczNEMgMy41Njc0NSA4LjgyNDYzIDEwLjQyMzIgNS45MzkzMSAxOC4yNzMzIDUuOTM5MzFaIi8+CiAgICA8L2c+CiAgICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjY5LjMgMjI4MS4zMSkiIGQ9Ik0gNS44OTM1MyAyLjg0NEMgNS45MTg4OSAzLjQzMTY1IDUuNzcwODUgNC4wMTM2NyA1LjQ2ODE1IDQuNTE2NDVDIDUuMTY1NDUgNS4wMTkyMiA0LjcyMTY4IDUuNDIwMTUgNC4xOTI5OSA1LjY2ODUxQyAzLjY2NDMgNS45MTY4OCAzLjA3NDQ0IDYuMDAxNTEgMi40OTgwNSA1LjkxMTcxQyAxLjkyMTY2IDUuODIxOSAxLjM4NDYzIDUuNTYxNyAwLjk1NDg5OCA1LjE2NDAxQyAwLjUyNTE3IDQuNzY2MzMgMC4yMjIwNTYgNC4yNDkwMyAwLjA4MzkwMzcgMy42Nzc1N0MgLTAuMDU0MjQ4MyAzLjEwNjExIC0wLjAyMTIzIDIuNTA2MTcgMC4xNzg3ODEgMS45NTM2NEMgMC4zNzg3OTMgMS40MDExIDAuNzM2ODA5IDAuOTIwODE3IDEuMjA3NTQgMC41NzM1MzhDIDEuNjc4MjYgMC4yMjYyNTkgMi4yNDA1NSAwLjAyNzU5MTkgMi44MjMyNiAwLjAwMjY3MjI5QyAzLjYwMzg5IC0wLjAzMDcxMTUgNC4zNjU3MyAwLjI0OTc4OSA0Ljk0MTQyIDAuNzgyNTUxQyA1LjUxNzExIDEuMzE1MzEgNS44NTk1NiAyLjA1Njc2IDUuODkzNTMgMi44NDRaIi8+CiAgICAgIDxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MzkuOCAyMzIzLjgxKSIgZD0iTSA3LjQyNzg5IDMuNTgzMzhDIDcuNDYwMDggNC4zMjQzIDcuMjczNTUgNS4wNTgxOSA2Ljg5MTkzIDUuNjkyMTNDIDYuNTEwMzEgNi4zMjYwNyA1Ljk1MDc1IDYuODMxNTYgNS4yODQxMSA3LjE0NDZDIDQuNjE3NDcgNy40NTc2MyAzLjg3MzcxIDcuNTY0MTQgMy4xNDcwMiA3LjQ1MDYzQyAyLjQyMDMyIDcuMzM3MTIgMS43NDMzNiA3LjAwODcgMS4yMDE4NCA2LjUwNjk1QyAwLjY2MDMyOCA2LjAwNTIgMC4yNzg2MSA1LjM1MjY4IDAuMTA1MDE3IDQuNjMyMDJDIC0wLjA2ODU3NTcgMy45MTEzNSAtMC4wMjYyMzYxIDMuMTU0OTQgMC4yMjY2NzUgMi40NTg1NkMgMC40Nzk1ODcgMS43NjIxNyAwLjkzMTY5NyAxLjE1NzEzIDEuNTI1NzYgMC43MjAwMzNDIDIuMTE5ODMgMC4yODI5MzUgMi44MjkxNCAwLjAzMzQzOTUgMy41NjM4OSAwLjAwMzEzMzQ0QyA0LjU0NjY3IC0wLjAzNzQwMzMgNS41MDUyOSAwLjMxNjcwNiA2LjIyOTYxIDAuOTg3ODM1QyA2Ljk1MzkzIDEuNjU4OTYgNy4zODQ4NCAyLjU5MjM1IDcuNDI3ODkgMy41ODMzOEwgNy40Mjc4OSAzLjU4MzM4WiIvPgogICAgICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjM4LjM2IDIyODYuMDYpIiBkPSJNIDIuMjc0NzEgNC4zOTYyOUMgMS44NDM2MyA0LjQxNTA4IDEuNDE2NzEgNC4zMDQ0NSAxLjA0Nzk5IDQuMDc4NDNDIDAuNjc5MjY4IDMuODUyNCAwLjM4NTMyOCAzLjUyMTE0IDAuMjAzMzcxIDMuMTI2NTZDIDAuMDIxNDEzNiAyLjczMTk4IC0wLjA0MDM3OTggMi4yOTE4MyAwLjAyNTgxMTYgMS44NjE4MUMgMC4wOTIwMDMxIDEuNDMxOCAwLjI4MzIwNCAxLjAzMTI2IDAuNTc1MjEzIDAuNzEwODgzQyAwLjg2NzIyMiAwLjM5MDUxIDEuMjQ2OTEgMC4xNjQ3MDggMS42NjYyMiAwLjA2MjA1OTJDIDIuMDg1NTMgLTAuMDQwNTg5NyAyLjUyNTYxIC0wLjAxNTQ3MTQgMi45MzA3NiAwLjEzNDIzNUMgMy4zMzU5MSAwLjI4Mzk0MSAzLjY4NzkyIDAuNTUxNTA1IDMuOTQyMjIgMC45MDMwNkMgNC4xOTY1MiAxLjI1NDYyIDQuMzQxNjkgMS42NzQzNiA0LjM1OTM1IDIuMTA5MTZDIDQuMzgyOTkgMi42OTEwNyA0LjE3Njc4IDMuMjU4NjkgMy43ODU5NyAzLjY4NzQ2QyAzLjM5NTE2IDQuMTE2MjQgMi44NTE2NiA0LjM3MTE2IDIuMjc0NzEgNC4zOTYyOUwgMi4yNzQ3MSA0LjM5NjI5WiIvPgogICAgPC9nPgogIDwvZz4+Cjwvc3ZnPgo=);
  --jp-icon-jupyterlab-wordmark: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIHZpZXdCb3g9IjAgMCAxODYwLjggNDc1Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjIiIGZpbGw9IiM0RTRFNEUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ4MC4xMzY0MDEsIDY0LjI3MTQ5MykiPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDU4Ljg3NTU2NikiPgogICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjA4NzYwMywgMC4xNDAyOTQpIj4KICAgICAgICA8cGF0aCBkPSJNLTQyNi45LDE2OS44YzAsNDguNy0zLjcsNjQuNy0xMy42LDc2LjRjLTEwLjgsMTAtMjUsMTUuNS0zOS43LDE1LjVsMy43LDI5IGMyMi44LDAuMyw0NC44LTcuOSw2MS45LTIzLjFjMTcuOC0xOC41LDI0LTQ0LjEsMjQtODMuM1YwSC00Mjd2MTcwLjFMLTQyNi45LDE2OS44TC00MjYuOSwxNjkuOHoiLz4KICAgICAgPC9nPgogICAgPC9nPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU1LjA0NTI5NiwgNTYuODM3MTA0KSI+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEuNTYyNDUzLCAxLjc5OTg0MikiPgogICAgICAgIDxwYXRoIGQ9Ik0tMzEyLDE0OGMwLDIxLDAsMzkuNSwxLjcsNTUuNGgtMzEuOGwtMi4xLTMzLjNoLTAuOGMtNi43LDExLjYtMTYuNCwyMS4zLTI4LDI3LjkgYy0xMS42LDYuNi0yNC44LDEwLTM4LjIsOS44Yy0zMS40LDAtNjktMTcuNy02OS04OVYwaDM2LjR2MTEyLjdjMCwzOC43LDExLjYsNjQuNyw0NC42LDY0LjdjMTAuMy0wLjIsMjAuNC0zLjUsMjguOS05LjQgYzguNS01LjksMTUuMS0xNC4zLDE4LjktMjMuOWMyLjItNi4xLDMuMy0xMi41LDMuMy0xOC45VjAuMmgzNi40VjE0OEgtMzEyTC0zMTIsMTQ4eiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOTAuMDEzMzIyLCA1My40Nzk2MzgpIj4KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS43MDY0NTgsIDAuMjMxNDI1KSI+CiAgICAgICAgPHBhdGggZD0iTS00NzguNiw3MS40YzAtMjYtMC44LTQ3LTEuNy02Ni43aDMyLjdsMS43LDM0LjhoMC44YzcuMS0xMi41LDE3LjUtMjIuOCwzMC4xLTI5LjcgYzEyLjUtNywyNi43LTEwLjMsNDEtOS44YzQ4LjMsMCw4NC43LDQxLjcsODQuNywxMDMuM2MwLDczLjEtNDMuNywxMDkuMi05MSwxMDkuMmMtMTIuMSwwLjUtMjQuMi0yLjItMzUtNy44IGMtMTAuOC01LjYtMTkuOS0xMy45LTI2LjYtMjQuMmgtMC44VjI5MWgtMzZ2LTIyMEwtNDc4LjYsNzEuNEwtNDc4LjYsNzEuNHogTS00NDIuNiwxMjUuNmMwLjEsNS4xLDAuNiwxMC4xLDEuNywxNS4xIGMzLDEyLjMsOS45LDIzLjMsMTkuOCwzMS4xYzkuOSw3LjgsMjIuMSwxMi4xLDM0LjcsMTIuMWMzOC41LDAsNjAuNy0zMS45LDYwLjctNzguNWMwLTQwLjctMjEuMS03NS42LTU5LjUtNzUuNiBjLTEyLjksMC40LTI1LjMsNS4xLTM1LjMsMTMuNGMtOS45LDguMy0xNi45LDE5LjctMTkuNiwzMi40Yy0xLjUsNC45LTIuMywxMC0yLjUsMTUuMVYxMjUuNkwtNDQyLjYsMTI1LjZMLTQ0Mi42LDEyNS42eiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDYuNzQwNzI2LCA1Ni44MzcxMDQpIj4KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC43NTEyMjYsIDEuOTg5Mjk5KSI+CiAgICAgICAgPHBhdGggZD0iTS00NDAuOCwwbDQzLjcsMTIwLjFjNC41LDEzLjQsOS41LDI5LjQsMTIuOCw0MS43aDAuOGMzLjctMTIuMiw3LjktMjcuNywxMi44LTQyLjQgbDM5LjctMTE5LjJoMzguNUwtMzQ2LjksMTQ1Yy0yNiw2OS43LTQzLjcsMTA1LjQtNjguNiwxMjcuMmMtMTIuNSwxMS43LTI3LjksMjAtNDQuNiwyMy45bC05LjEtMzEuMSBjMTEuNy0zLjksMjIuNS0xMC4xLDMxLjgtMTguMWMxMy4yLTExLjEsMjMuNy0yNS4yLDMwLjYtNDEuMmMxLjUtMi44LDIuNS01LjcsMi45LTguOGMtMC4zLTMuMy0xLjItNi42LTIuNS05LjdMLTQ4MC4yLDAuMSBoMzkuN0wtNDQwLjgsMEwtNDQwLjgsMHoiLz4KICAgICAgPC9nPgogICAgPC9nPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODIyLjc0ODEwNCwgMC4wMDAwMDApIj4KICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS40NjQwNTAsIDAuMzc4OTE0KSI+CiAgICAgICAgPHBhdGggZD0iTS00MTMuNywwdjU4LjNoNTJ2MjguMmgtNTJWMTk2YzAsMjUsNywzOS41LDI3LjMsMzkuNWM3LjEsMC4xLDE0LjItMC43LDIxLjEtMi41IGwxLjcsMjcuN2MtMTAuMywzLjctMjEuMyw1LjQtMzIuMiw1Yy03LjMsMC40LTE0LjYtMC43LTIxLjMtMy40Yy02LjgtMi43LTEyLjktNi44LTE3LjktMTIuMWMtMTAuMy0xMC45LTE0LjEtMjktMTQuMS01Mi45IFY4Ni41aC0zMVY1OC4zaDMxVjkuNkwtNDEzLjcsMEwtNDEzLjcsMHoiLz4KICAgICAgPC9nPgogICAgPC9nPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTc0LjQzMzI4NiwgNTMuNDc5NjM4KSI+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuOTkwMDM0LCAwLjYxMDMzOSkiPgogICAgICAgIDxwYXRoIGQ9Ik0tNDQ1LjgsMTEzYzAuOCw1MCwzMi4yLDcwLjYsNjguNiw3MC42YzE5LDAuNiwzNy45LTMsNTUuMy0xMC41bDYuMiwyNi40IGMtMjAuOSw4LjktNDMuNSwxMy4xLTY2LjIsMTIuNmMtNjEuNSwwLTk4LjMtNDEuMi05OC4zLTEwMi41Qy00ODAuMiw0OC4yLTQ0NC43LDAtMzg2LjUsMGM2NS4yLDAsODIuNyw1OC4zLDgyLjcsOTUuNyBjLTAuMSw1LjgtMC41LDExLjUtMS4yLDE3LjJoLTE0MC42SC00NDUuOEwtNDQ1LjgsMTEzeiBNLTMzOS4yLDg2LjZjMC40LTIzLjUtOS41LTYwLjEtNTAuNC02MC4xIGMtMzYuOCwwLTUyLjgsMzQuNC01NS43LDYwLjFILTMzOS4yTC0zMzkuMiw4Ni42TC0zMzkuMiw4Ni42eiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjAxLjk2MTA1OCwgNTMuNDc5NjM4KSI+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEuMTc5NjQwLCAwLjcwNTA2OCkiPgogICAgICAgIDxwYXRoIGQ9Ik0tNDc4LjYsNjhjMC0yMy45LTAuNC00NC41LTEuNy02My40aDMxLjhsMS4yLDM5LjloMS43YzkuMS0yNy4zLDMxLTQ0LjUsNTUuMy00NC41IGMzLjUtMC4xLDcsMC40LDEwLjMsMS4ydjM0LjhjLTQuMS0wLjktOC4yLTEuMy0xMi40LTEuMmMtMjUuNiwwLTQzLjcsMTkuNy00OC43LDQ3LjRjLTEsNS43LTEuNiwxMS41LTEuNywxNy4ydjEwOC4zaC0zNlY2OCBMLTQ3OC42LDY4eiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgPC9nPgoKICA8ZyBjbGFzcz0ianAtaWNvbi13YXJuMCIgZmlsbD0iI0YzNzcyNiI+CiAgICA8cGF0aCBkPSJNMTM1Mi4zLDMyNi4yaDM3VjI4aC0zN1YzMjYuMnogTTE2MDQuOCwzMjYuMmMtMi41LTEzLjktMy40LTMxLjEtMy40LTQ4Ljd2LTc2IGMwLTQwLjctMTUuMS04My4xLTc3LjMtODMuMWMtMjUuNiwwLTUwLDcuMS02Ni44LDE4LjFsOC40LDI0LjRjMTQuMy05LjIsMzQtMTUuMSw1My0xNS4xYzQxLjYsMCw0Ni4yLDMwLjIsNDYuMiw0N3Y0LjIgYy03OC42LTAuNC0xMjIuMywyNi41LTEyMi4zLDc1LjZjMCwyOS40LDIxLDU4LjQsNjIuMiw1OC40YzI5LDAsNTAuOS0xNC4zLDYyLjItMzAuMmgxLjNsMi45LDI1LjZIMTYwNC44eiBNMTU2NS43LDI1Ny43IGMwLDMuOC0wLjgsOC0yLjEsMTEuOGMtNS45LDE3LjItMjIuNywzNC00OS4yLDM0Yy0xOC45LDAtMzQuOS0xMS4zLTM0LjktMzUuM2MwLTM5LjUsNDUuOC00Ni42LDg2LjItNDUuOFYyNTcuN3ogTTE2OTguNSwzMjYuMiBsMS43LTMzLjZoMS4zYzE1LjEsMjYuOSwzOC43LDM4LjIsNjguMSwzOC4yYzQ1LjQsMCw5MS4yLTM2LjEsOTEuMi0xMDguOGMwLjQtNjEuNy0zNS4zLTEwMy43LTg1LjctMTAzLjcgYy0zMi44LDAtNTYuMywxNC43LTY5LjMsMzcuNGgtMC44VjI4aC0zNi42djI0NS43YzAsMTguMS0wLjgsMzguNi0xLjcsNTIuNUgxNjk4LjV6IE0xNzA0LjgsMjA4LjJjMC01LjksMS4zLTEwLjksMi4xLTE1LjEgYzcuNi0yOC4xLDMxLjEtNDUuNCw1Ni4zLTQ1LjRjMzkuNSwwLDYwLjUsMzQuOSw2MC41LDc1LjZjMCw0Ni42LTIzLjEsNzguMS02MS44LDc4LjFjLTI2LjksMC00OC4zLTE3LjYtNTUuNS00My4zIGMtMC44LTQuMi0xLjctOC44LTEuNy0xMy40VjIwOC4yeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-kernel: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiIgZmlsbD0iIzYxNjE2MSIgZD0iTTE1IDlIOXY2aDZWOXptLTIgNGgtMnYtMmgydjJ6bTgtMlY5aC0yVjdjMC0xLjEtLjktMi0yLTJoLTJWM2gtMnYyaC0yVjNIOXYySDdjLTEuMSAwLTIgLjktMiAydjJIM3YyaDJ2MkgzdjJoMnYyYzAgMS4xLjkgMiAyIDJoMnYyaDJ2LTJoMnYyaDJ2LTJoMmMxLjEgMCAyLS45IDItMnYtMmgydi0yaC0ydi0yaDJ6bS00IDZIN1Y3aDEwdjEweiIvPgo8L3N2Zz4K);
  --jp-icon-keyboard: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMjAgNUg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMTdjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY3YzAtMS4xLS45LTItMi0yem0tOSAzaDJ2MmgtMlY4em0wIDNoMnYyaC0ydi0yek04IDhoMnYySDhWOHptMCAzaDJ2Mkg4di0yem0tMSAySDV2LTJoMnYyem0wLTNINVY4aDJ2MnptOSA3SDh2LTJoOHYyem0wLTRoLTJ2LTJoMnYyem0wLTNoLTJWOGgydjJ6bTMgM2gtMnYtMmgydjJ6bTAtM2gtMlY4aDJ2MnoiLz4KPC9zdmc+Cg==);
  --jp-icon-launch: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzIgMzIiIHdpZHRoPSIzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik0yNiwyOEg2YTIuMDAyNywyLjAwMjcsMCwwLDEtMi0yVjZBMi4wMDI3LDIuMDAyNywwLDAsMSw2LDRIMTZWNkg2VjI2SDI2VjE2aDJWMjZBMi4wMDI3LDIuMDAyNywwLDAsMSwyNiwyOFoiLz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMjAgMiAyMCA0IDI2LjU4NiA0IDE4IDEyLjU4NiAxOS40MTQgMTQgMjggNS40MTQgMjggMTIgMzAgMTIgMzAgMiAyMCAyIi8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-launcher: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMTkgMTlINVY1aDdWM0g1YTIgMiAwIDAwLTIgMnYxNGEyIDIgMCAwMDIgMmgxNGMxLjEgMCAyLS45IDItMnYtN2gtMnY3ek0xNCAzdjJoMy41OWwtOS44MyA5LjgzIDEuNDEgMS40MUwxOSA2LjQxVjEwaDJWM2gtN3oiLz4KPC9zdmc+Cg==);
  --jp-icon-line-form: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9IndoaXRlIiBkPSJNNS44OCA0LjEyTDEzLjc2IDEybC03Ljg4IDcuODhMOCAyMmwxMC0xMEw4IDJ6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-link: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTMuOSAxMmMwLTEuNzEgMS4zOS0zLjEgMy4xLTMuMWg0VjdIN2MtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNWg0di0xLjlIN2MtMS43MSAwLTMuMS0xLjM5LTMuMS0zLjF6TTggMTNoOHYtMkg4djJ6bTktNmgtNHYxLjloNGMxLjcxIDAgMy4xIDEuMzkgMy4xIDMuMXMtMS4zOSAzLjEtMy4xIDMuMWgtNFYxN2g0YzIuNzYgMCA1LTIuMjQgNS01cy0yLjI0LTUtNS01eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-list: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiM2MTYxNjEiIGQ9Ik0xOSA1djE0SDVWNWgxNG0xLjEtMkgzLjljLS41IDAtLjkuNC0uOS45djE2LjJjMCAuNC40LjkuOS45aDE2LjJjLjQgMCAuOS0uNS45LS45VjMuOWMwLS41LS41LS45LS45LS45ek0xMSA3aDZ2MmgtNlY3em0wIDRoNnYyaC02di0yem0wIDRoNnYyaC02ek03IDdoMnYySDd6bTAgNGgydjJIN3ptMCA0aDJ2Mkg3eiIvPgo8L3N2Zz4K);
  --jp-icon-markdown: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1jb250cmFzdDAganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjN0IxRkEyIiBkPSJNNSAxNC45aDEybC02LjEgNnptOS40LTYuOGMwLTEuMy0uMS0yLjktLjEtNC41LS40IDEuNC0uOSAyLjktMS4zIDQuM2wtMS4zIDQuM2gtMkw4LjUgNy45Yy0uNC0xLjMtLjctMi45LTEtNC4zLS4xIDEuNi0uMSAzLjItLjIgNC42TDcgMTIuNEg0LjhsLjctMTFoMy4zTDEwIDVjLjQgMS4yLjcgMi43IDEgMy45LjMtMS4yLjctMi42IDEtMy45bDEuMi0zLjdoMy4zbC42IDExaC0yLjRsLS4zLTQuMnoiLz4KPC9zdmc+Cg==);
  --jp-icon-move-down: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBkPSJNMTIuNDcxIDcuNTI4OTlDMTIuNzYzMiA3LjIzNjg0IDEyLjc2MzIgNi43NjMxNiAxMi40NzEgNi40NzEwMVY2LjQ3MTAxQzEyLjE3OSA2LjE3OTA1IDExLjcwNTcgNi4xNzg4NCAxMS40MTM1IDYuNDcwNTRMNy43NSAxMC4xMjc1VjEuNzVDNy43NSAxLjMzNTc5IDcuNDE0MjEgMSA3IDFWMUM2LjU4NTc5IDEgNi4yNSAxLjMzNTc5IDYuMjUgMS43NVYxMC4xMjc1TDIuNTk3MjYgNi40NjgyMkMyLjMwMzM4IDYuMTczODEgMS44MjY0MSA2LjE3MzU5IDEuNTMyMjYgNi40Njc3NFY2LjQ2Nzc0QzEuMjM4MyA2Ljc2MTcgMS4yMzgzIDcuMjM4MyAxLjUzMjI2IDcuNTMyMjZMNi4yOTI4OSAxMi4yOTI5QzYuNjgzNDIgMTIuNjgzNCA3LjMxNjU4IDEyLjY4MzQgNy43MDcxMSAxMi4yOTI5TDEyLjQ3MSA3LjUyODk5WiIgZmlsbD0iIzYxNjE2MSIvPgo8L3N2Zz4K);
  --jp-icon-move-up: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggY2xhc3M9ImpwLWljb24zIiBkPSJNMS41Mjg5OSA2LjQ3MTAxQzEuMjM2ODQgNi43NjMxNiAxLjIzNjg0IDcuMjM2ODQgMS41Mjg5OSA3LjUyODk5VjcuNTI4OTlDMS44MjA5NSA3LjgyMDk1IDIuMjk0MjYgNy44MjExNiAyLjU4NjQ5IDcuNTI5NDZMNi4yNSAzLjg3MjVWMTIuMjVDNi4yNSAxMi42NjQyIDYuNTg1NzkgMTMgNyAxM1YxM0M3LjQxNDIxIDEzIDcuNzUgMTIuNjY0MiA3Ljc1IDEyLjI1VjMuODcyNUwxMS40MDI3IDcuNTMxNzhDMTEuNjk2NiA3LjgyNjE5IDEyLjE3MzYgNy44MjY0MSAxMi40Njc3IDcuNTMyMjZWNy41MzIyNkMxMi43NjE3IDcuMjM4MyAxMi43NjE3IDYuNzYxNyAxMi40Njc3IDYuNDY3NzRMNy43MDcxMSAxLjcwNzExQzcuMzE2NTggMS4zMTY1OCA2LjY4MzQyIDEuMzE2NTggNi4yOTI4OSAxLjcwNzExTDEuNTI4OTkgNi40NzEwMVoiIGZpbGw9IiM2MTYxNjEiLz4KPC9zdmc+Cg==);
  --jp-icon-new-folder: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTIwIDZoLThsLTItMkg0Yy0xLjExIDAtMS45OS44OS0xLjk5IDJMMiAxOGMwIDEuMTEuODkgMiAyIDJoMTZjMS4xMSAwIDItLjg5IDItMlY4YzAtMS4xMS0uODktMi0yLTJ6bS0xIDhoLTN2M2gtMnYtM2gtM3YtMmgzVjloMnYzaDN2MnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-not-trusted: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI1IDI1Ij4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMgMykiIGQ9Ik0xLjg2MDk0IDExLjQ0MDlDMC44MjY0NDggOC43NzAyNyAwLjg2Mzc3OSA2LjA1NzY0IDEuMjQ5MDcgNC4xOTkzMkMyLjQ4MjA2IDMuOTMzNDcgNC4wODA2OCAzLjQwMzQ3IDUuNjAxMDIgMi44NDQ5QzcuMjM1NDkgMi4yNDQ0IDguODU2NjYgMS41ODE1IDkuOTg3NiAxLjA5NTM5QzExLjA1OTcgMS41ODM0MSAxMi42MDk0IDIuMjQ0NCAxNC4yMTggMi44NDMzOUMxNS43NTAzIDMuNDEzOTQgMTcuMzk5NSAzLjk1MjU4IDE4Ljc1MzkgNC4yMTM4NUMxOS4xMzY0IDYuMDcxNzcgMTkuMTcwOSA4Ljc3NzIyIDE4LjEzOSAxMS40NDA5QzE3LjAzMDMgMTQuMzAzMiAxNC42NjY4IDE3LjE4NDQgOS45OTk5OSAxOC45MzU0QzUuMzMzMTkgMTcuMTg0NCAyLjk2OTY4IDE0LjMwMzIgMS44NjA5NCAxMS40NDA5WiIvPgogICAgPHBhdGggY2xhc3M9ImpwLWljb24yIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOS4zMTU5MiA5LjMyMDMxKSIgZD0iTTcuMzY4NDIgMEwwIDcuMzY0NzkiLz4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkuMzE1OTIgMTYuNjgzNikgc2NhbGUoMSAtMSkiIGQ9Ik03LjM2ODQyIDBMMCA3LjM2NDc5Ii8+Cjwvc3ZnPgo=);
  --jp-icon-notebook: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8ZyBjbGFzcz0ianAtbm90ZWJvb2staWNvbi1jb2xvciBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiNFRjZDMDAiPgogICAgPHBhdGggZD0iTTE4LjcgMy4zdjE1LjRIMy4zVjMuM2gxNS40bTEuNS0xLjVIMS44djE4LjNoMTguM2wuMS0xOC4zeiIvPgogICAgPHBhdGggZD0iTTE2LjUgMTYuNWwtNS40LTQuMy01LjYgNC4zdi0xMWgxMXoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-numbering: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAyOCAyOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CgkJPHBhdGggZD0iTTQgMTlINlYxOS41SDVWMjAuNUg2VjIxSDRWMjJIN1YxOEg0VjE5Wk01IDEwSDZWNkg0VjdINVYxMFpNNCAxM0g1LjhMNCAxNS4xVjE2SDdWMTVINS4yTDcgMTIuOVYxMkg0VjEzWk05IDdWOUgyM1Y3SDlaTTkgMjFIMjNWMTlIOVYyMVpNOSAxNUgyM1YxM0g5VjE1WiIvPgoJPC9nPgo8L3N2Zz4K);
  --jp-icon-offline-bolt: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEyIDIuMDJjLTUuNTEgMC05Ljk4IDQuNDctOS45OCA5Ljk4czQuNDcgOS45OCA5Ljk4IDkuOTggOS45OC00LjQ3IDkuOTgtOS45OFMxNy41MSAyLjAyIDEyIDIuMDJ6TTExLjQ4IDIwdi02LjI2SDhMMTMgNHY2LjI2aDMuMzVMMTEuNDggMjB6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-palette: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE4IDEzVjIwSDRWNkg5LjAyQzkuMDcgNS4yOSA5LjI0IDQuNjIgOS41IDRINEMyLjkgNCAyIDQuOSAyIDZWMjBDMiAyMS4xIDIuOSAyMiA0IDIySDE4QzE5LjEgMjIgMjAgMjEuMSAyMCAyMFYxNUwxOCAxM1pNMTkuMyA4Ljg5QzE5Ljc0IDguMTkgMjAgNy4zOCAyMCA2LjVDMjAgNC4wMSAxNy45OSAyIDE1LjUgMkMxMy4wMSAyIDExIDQuMDEgMTEgNi41QzExIDguOTkgMTMuMDEgMTEgMTUuNDkgMTFDMTYuMzcgMTEgMTcuMTkgMTAuNzQgMTcuODggMTAuM0wyMSAxMy40MkwyMi40MiAxMkwxOS4zIDguODlaTTE1LjUgOUMxNC4xMiA5IDEzIDcuODggMTMgNi41QzEzIDUuMTIgMTQuMTIgNCAxNS41IDRDMTYuODggNCAxOCA1LjEyIDE4IDYuNUMxOCA3Ljg4IDE2Ljg4IDkgMTUuNSA5WiIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDZIOS4wMTg5NEM5LjAwNjM5IDYuMTY1MDIgOSA2LjMzMTc2IDkgNi41QzkgOC44MTU3NyAxMC4yMTEgMTAuODQ4NyAxMi4wMzQzIDEySDlWMTRIMTZWMTIuOTgxMUMxNi41NzAzIDEyLjkzNzcgMTcuMTIgMTIuODIwNyAxNy42Mzk2IDEyLjYzOTZMMTggMTNWMjBINFY2Wk04IDhINlYxMEg4VjhaTTYgMTJIOFYxNEg2VjEyWk04IDE2SDZWMThIOFYxNlpNOSAxNkgxNlYxOEg5VjE2WiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-paste: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTE5IDJoLTQuMThDMTQuNC44NCAxMy4zIDAgMTIgMGMtMS4zIDAtMi40Ljg0LTIuODIgMkg1Yy0xLjEgMC0yIC45LTIgMnYxNmMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjRjMC0xLjEtLjktMi0yLTJ6bS03IDBjLjU1IDAgMSAuNDUgMSAxcy0uNDUgMS0xIDEtMS0uNDUtMS0xIC40NS0xIDEtMXptNyAxOEg1VjRoMnYzaDEwVjRoMnYxNnoiLz4KICAgIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-pdf: url(data:image/svg+xml;base64,PHN2ZwogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMiAyMiIgd2lkdGg9IjE2Ij4KICAgIDxwYXRoIHRyYW5zZm9ybT0icm90YXRlKDQ1KSIgY2xhc3M9ImpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iI0ZGMkEyQSIKICAgICAgIGQ9Im0gMjIuMzQ0MzY5LC0zLjAxNjM2NDIgaCA1LjYzODYwNCB2IDEuNTc5MjQzMyBoIC0zLjU0OTIyNyB2IDEuNTA4NjkyOTkgaCAzLjMzNzU3NiBWIDEuNjUwODE1NCBoIC0zLjMzNzU3NiB2IDMuNDM1MjYxMyBoIC0yLjA4OTM3NyB6IG0gLTcuMTM2NDQ0LDEuNTc5MjQzMyB2IDQuOTQzOTU0MyBoIDAuNzQ4OTIgcSAxLjI4MDc2MSwwIDEuOTUzNzAzLC0wLjYzNDk1MzUgMC42NzgzNjksLTAuNjM0OTUzNSAwLjY3ODM2OSwtMS44NDUxNjQxIDAsLTEuMjA0NzgzNTUgLTAuNjcyOTQyLC0xLjgzNDMxMDExIC0wLjY3Mjk0MiwtMC42Mjk1MjY1OSAtMS45NTkxMywtMC42Mjk1MjY1OSB6IG0gLTIuMDg5Mzc3LC0xLjU3OTI0MzMgaCAyLjIwMzM0MyBxIDEuODQ1MTY0LDAgMi43NDYwMzksMC4yNjU5MjA3IDAuOTA2MzAxLDAuMjYwNDkzNyAxLjU1MjEwOCwwLjg5MDAyMDMgMC41Njk4MywwLjU0ODEyMjMgMC44NDY2MDUsMS4yNjQ0ODAwNiAwLjI3Njc3NCwwLjcxNjM1NzgxIDAuMjc2Nzc0LDEuNjIyNjU4OTQgMCwwLjkxNzE1NTEgLTAuMjc2Nzc0LDEuNjM4OTM5OSAtMC4yNzY3NzUsMC43MTYzNTc4IC0wLjg0NjYwNSwxLjI2NDQ4IC0wLjY1MTIzNCwwLjYyOTUyNjYgLTEuNTYyOTYyLDAuODk1NDQ3MyAtMC45MTE3MjgsMC4yNjA0OTM3IC0yLjczNTE4NSwwLjI2MDQ5MzcgaCAtMi4yMDMzNDMgeiBtIC04LjE0NTg1NjUsMCBoIDMuNDY3ODIzIHEgMS41NDY2ODE2LDAgMi4zNzE1Nzg1LDAuNjg5MjIzIDAuODMwMzI0LDAuNjgzNzk2MSAwLjgzMDMyNCwxLjk1MzcwMzE0IDAsMS4yNzUzMzM5NyAtMC44MzAzMjQsMS45NjQ1NTcwNiBRIDkuOTg3MTk2MSwyLjI3NDkxNSA4LjQ0MDUxNDUsMi4yNzQ5MTUgSCA3LjA2MjA2ODQgViA1LjA4NjA3NjcgSCA0Ljk3MjY5MTUgWiBtIDIuMDg5Mzc2OSwxLjUxNDExOTkgdiAyLjI2MzAzOTQzIGggMS4xNTU5NDEgcSAwLjYwNzgxODgsMCAwLjkzODg2MjksLTAuMjkzMDU1NDcgMC4zMzEwNDQxLC0wLjI5ODQ4MjQxIDAuMzMxMDQ0MSwtMC44NDExNzc3MiAwLC0wLjU0MjY5NTMxIC0wLjMzMTA0NDEsLTAuODM1NzUwNzQgLTAuMzMxMDQ0MSwtMC4yOTMwNTU1IC0wLjkzODg2MjksLTAuMjkzMDU1NSB6IgovPgo8L3N2Zz4K);
  --jp-icon-python: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iLTEwIC0xMCAxMzEuMTYxMzYxNjk0MzM1OTQgMTMyLjM4ODk5OTkzODk2NDg0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjMzA2OTk4IiBkPSJNIDU0LjkxODc4NSw5LjE5Mjc0MjFlLTQgQyA1MC4zMzUxMzIsMC4wMjIyMTcyNyA0NS45NTc4NDYsMC40MTMxMzY5NyA0Mi4xMDYyODUsMS4wOTQ2NjkzIDMwLjc2MDA2OSwzLjA5OTE3MzEgMjguNzAwMDM2LDcuMjk0NzcxNCAyOC43MDAwMzUsMTUuMDMyMTY5IHYgMTAuMjE4NzUgaCAyNi44MTI1IHYgMy40MDYyNSBoIC0yNi44MTI1IC0xMC4wNjI1IGMgLTcuNzkyNDU5LDAgLTE0LjYxNTc1ODgsNC42ODM3MTcgLTE2Ljc0OTk5OTgsMTMuNTkzNzUgLTIuNDYxODE5OTgsMTAuMjEyOTY2IC0yLjU3MTAxNTA4LDE2LjU4NjAyMyAwLDI3LjI1IDEuOTA1OTI4Myw3LjkzNzg1MiA2LjQ1NzU0MzIsMTMuNTkzNzQ4IDE0LjI0OTk5OTgsMTMuNTkzNzUgaCA5LjIxODc1IHYgLTEyLjI1IGMgMCwtOC44NDk5MDIgNy42NTcxNDQsLTE2LjY1NjI0OCAxNi43NSwtMTYuNjU2MjUgaCAyNi43ODEyNSBjIDcuNDU0OTUxLDAgMTMuNDA2MjUzLC02LjEzODE2NCAxMy40MDYyNSwtMTMuNjI1IHYgLTI1LjUzMTI1IGMgMCwtNy4yNjYzMzg2IC02LjEyOTk4LC0xMi43MjQ3NzcxIC0xMy40MDYyNSwtMTMuOTM3NDk5NyBDIDY0LjI4MTU0OCwwLjMyNzk0Mzk3IDU5LjUwMjQzOCwtMC4wMjAzNzkwMyA1NC45MTg3ODUsOS4xOTI3NDIxZS00IFogbSAtMTQuNSw4LjIxODc1MDEyNTc5IGMgMi43Njk1NDcsMCA1LjAzMTI1LDIuMjk4NjQ1NiA1LjAzMTI1LDUuMTI0OTk5NiAtMmUtNiwyLjgxNjMzNiAtMi4yNjE3MDMsNS4wOTM3NSAtNS4wMzEyNSw1LjA5Mzc1IC0yLjc3OTQ3NiwtMWUtNiAtNS4wMzEyNSwtMi4yNzc0MTUgLTUuMDMxMjUsLTUuMDkzNzUgLTEwZS03LC0yLjgyNjM1MyAyLjI1MTc3NCwtNS4xMjQ5OTk2IDUuMDMxMjUsLTUuMTI0OTk5NiB6Ii8+CiAgPHBhdGggY2xhc3M9ImpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iI2ZmZDQzYiIgZD0ibSA4NS42Mzc1MzUsMjguNjU3MTY5IHYgMTEuOTA2MjUgYyAwLDkuMjMwNzU1IC03LjgyNTg5NSwxNi45OTk5OTkgLTE2Ljc1LDE3IGggLTI2Ljc4MTI1IGMgLTcuMzM1ODMzLDAgLTEzLjQwNjI0OSw2LjI3ODQ4MyAtMTMuNDA2MjUsMTMuNjI1IHYgMjUuNTMxMjQ3IGMgMCw3LjI2NjM0NCA2LjMxODU4OCwxMS41NDAzMjQgMTMuNDA2MjUsMTMuNjI1MDA0IDguNDg3MzMxLDIuNDk1NjEgMTYuNjI2MjM3LDIuOTQ2NjMgMjYuNzgxMjUsMCA2Ljc1MDE1NSwtMS45NTQzOSAxMy40MDYyNTMsLTUuODg3NjEgMTMuNDA2MjUsLTEzLjYyNTAwNCBWIDg2LjUwMDkxOSBoIC0yNi43ODEyNSB2IC0zLjQwNjI1IGggMjYuNzgxMjUgMTMuNDA2MjU0IGMgNy43OTI0NjEsMCAxMC42OTYyNTEsLTUuNDM1NDA4IDEzLjQwNjI0MSwtMTMuNTkzNzUgMi43OTkzMywtOC4zOTg4ODYgMi42ODAyMiwtMTYuNDc1Nzc2IDAsLTI3LjI1IC0xLjkyNTc4LC03Ljc1NzQ0MSAtNS42MDM4NywtMTMuNTkzNzUgLTEzLjQwNjI0MSwtMTMuNTkzNzUgeiBtIC0xNS4wNjI1LDY0LjY1NjI1IGMgMi43Nzk0NzgsM2UtNiA1LjAzMTI1LDIuMjc3NDE3IDUuMDMxMjUsNS4wOTM3NDcgLTJlLTYsMi44MjYzNTQgLTIuMjUxNzc1LDUuMTI1MDA0IC01LjAzMTI1LDUuMTI1MDA0IC0yLjc2OTU1LDAgLTUuMDMxMjUsLTIuMjk4NjUgLTUuMDMxMjUsLTUuMTI1MDA0IDJlLTYsLTIuODE2MzMgMi4yNjE2OTcsLTUuMDkzNzQ3IDUuMDMxMjUsLTUuMDkzNzQ3IHoiLz4KPC9zdmc+Cg==);
  --jp-icon-r-kernel: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1jb250cmFzdDMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjMjE5NkYzIiBkPSJNNC40IDIuNWMxLjItLjEgMi45LS4zIDQuOS0uMyAyLjUgMCA0LjEuNCA1LjIgMS4zIDEgLjcgMS41IDEuOSAxLjUgMy41IDAgMi0xLjQgMy41LTIuOSA0LjEgMS4yLjQgMS43IDEuNiAyLjIgMyAuNiAxLjkgMSAzLjkgMS4zIDQuNmgtMy44Yy0uMy0uNC0uOC0xLjctMS4yLTMuN3MtMS4yLTIuNi0yLjYtMi42aC0uOXY2LjRINC40VjIuNXptMy43IDYuOWgxLjRjMS45IDAgMi45LS45IDIuOS0yLjNzLTEtMi4zLTIuOC0yLjNjLS43IDAtMS4zIDAtMS42LjJ2NC41aC4xdi0uMXoiLz4KPC9zdmc+Cg==);
  --jp-icon-react: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMTUwIDE1MCA1NDEuOSAyOTUuMyI+CiAgPGcgY2xhc3M9ImpwLWljb24tYnJhbmQyIGpwLWljb24tc2VsZWN0YWJsZSIgZmlsbD0iIzYxREFGQiI+CiAgICA8cGF0aCBkPSJNNjY2LjMgMjk2LjVjMC0zMi41LTQwLjctNjMuMy0xMDMuMS04Mi40IDE0LjQtNjMuNiA4LTExNC4yLTIwLjItMTMwLjQtNi41LTMuOC0xNC4xLTUuNi0yMi40LTUuNnYyMi4zYzQuNiAwIDguMy45IDExLjQgMi42IDEzLjYgNy44IDE5LjUgMzcuNSAxNC45IDc1LjctMS4xIDkuNC0yLjkgMTkuMy01LjEgMjkuNC0xOS42LTQuOC00MS04LjUtNjMuNS0xMC45LTEzLjUtMTguNS0yNy41LTM1LjMtNDEuNi01MCAzMi42LTMwLjMgNjMuMi00Ni45IDg0LTQ2LjlWNzhjLTI3LjUgMC02My41IDE5LjYtOTkuOSA1My42LTM2LjQtMzMuOC03Mi40LTUzLjItOTkuOS01My4ydjIyLjNjMjAuNyAwIDUxLjQgMTYuNSA4NCA0Ni42LTE0IDE0LjctMjggMzEuNC00MS4zIDQ5LjktMjIuNiAyLjQtNDQgNi4xLTYzLjYgMTEtMi4zLTEwLTQtMTkuNy01LjItMjktNC43LTM4LjIgMS4xLTY3LjkgMTQuNi03NS44IDMtMS44IDYuOS0yLjYgMTEuNS0yLjZWNzguNWMtOC40IDAtMTYgMS44LTIyLjYgNS42LTI4LjEgMTYuMi0zNC40IDY2LjctMTkuOSAxMzAuMS02Mi4yIDE5LjItMTAyLjcgNDkuOS0xMDIuNyA4Mi4zIDAgMzIuNSA0MC43IDYzLjMgMTAzLjEgODIuNC0xNC40IDYzLjYtOCAxMTQuMiAyMC4yIDEzMC40IDYuNSAzLjggMTQuMSA1LjYgMjIuNSA1LjYgMjcuNSAwIDYzLjUtMTkuNiA5OS45LTUzLjYgMzYuNCAzMy44IDcyLjQgNTMuMiA5OS45IDUzLjIgOC40IDAgMTYtMS44IDIyLjYtNS42IDI4LjEtMTYuMiAzNC40LTY2LjcgMTkuOS0xMzAuMSA2Mi0xOS4xIDEwMi41LTQ5LjkgMTAyLjUtODIuM3ptLTEzMC4yLTY2LjdjLTMuNyAxMi45LTguMyAyNi4yLTEzLjUgMzkuNS00LjEtOC04LjQtMTYtMTMuMS0yNC00LjYtOC05LjUtMTUuOC0xNC40LTIzLjQgMTQuMiAyLjEgMjcuOSA0LjcgNDEgNy45em0tNDUuOCAxMDYuNWMtNy44IDEzLjUtMTUuOCAyNi4zLTI0LjEgMzguMi0xNC45IDEuMy0zMCAyLTQ1LjIgMi0xNS4xIDAtMzAuMi0uNy00NS0xLjktOC4zLTExLjktMTYuNC0yNC42LTI0LjItMzgtNy42LTEzLjEtMTQuNS0yNi40LTIwLjgtMzkuOCA2LjItMTMuNCAxMy4yLTI2LjggMjAuNy0zOS45IDcuOC0xMy41IDE1LjgtMjYuMyAyNC4xLTM4LjIgMTQuOS0xLjMgMzAtMiA0NS4yLTIgMTUuMSAwIDMwLjIuNyA0NSAxLjkgOC4zIDExLjkgMTYuNCAyNC42IDI0LjIgMzggNy42IDEzLjEgMTQuNSAyNi40IDIwLjggMzkuOC02LjMgMTMuNC0xMy4yIDI2LjgtMjAuNyAzOS45em0zMi4zLTEzYzUuNCAxMy40IDEwIDI2LjggMTMuOCAzOS44LTEzLjEgMy4yLTI2LjkgNS45LTQxLjIgOCA0LjktNy43IDkuOC0xNS42IDE0LjQtMjMuNyA0LjYtOCA4LjktMTYuMSAxMy0yNC4xek00MjEuMiA0MzBjLTkuMy05LjYtMTguNi0yMC4zLTI3LjgtMzIgOSAuNCAxOC4yLjcgMjcuNS43IDkuNCAwIDE4LjctLjIgMjcuOC0uNy05IDExLjctMTguMyAyMi40LTI3LjUgMzJ6bS03NC40LTU4LjljLTE0LjItMi4xLTI3LjktNC43LTQxLTcuOSAzLjctMTIuOSA4LjMtMjYuMiAxMy41LTM5LjUgNC4xIDggOC40IDE2IDEzLjEgMjQgNC43IDggOS41IDE1LjggMTQuNCAyMy40ek00MjAuNyAxNjNjOS4zIDkuNiAxOC42IDIwLjMgMjcuOCAzMi05LS40LTE4LjItLjctMjcuNS0uNy05LjQgMC0xOC43LjItMjcuOC43IDktMTEuNyAxOC4zLTIyLjQgMjcuNS0zMnptLTc0IDU4LjljLTQuOSA3LjctOS44IDE1LjYtMTQuNCAyMy43LTQuNiA4LTguOSAxNi0xMyAyNC01LjQtMTMuNC0xMC0yNi44LTEzLjgtMzkuOCAxMy4xLTMuMSAyNi45LTUuOCA0MS4yLTcuOXptLTkwLjUgMTI1LjJjLTM1LjQtMTUuMS01OC4zLTM0LjktNTguMy01MC42IDAtMTUuNyAyMi45LTM1LjYgNTguMy01MC42IDguNi0zLjcgMTgtNyAyNy43LTEwLjEgNS43IDE5LjYgMTMuMiA0MCAyMi41IDYwLjktOS4yIDIwLjgtMTYuNiA0MS4xLTIyLjIgNjAuNi05LjktMy4xLTE5LjMtNi41LTI4LTEwLjJ6TTMxMCA0OTBjLTEzLjYtNy44LTE5LjUtMzcuNS0xNC45LTc1LjcgMS4xLTkuNCAyLjktMTkuMyA1LjEtMjkuNCAxOS42IDQuOCA0MSA4LjUgNjMuNSAxMC45IDEzLjUgMTguNSAyNy41IDM1LjMgNDEuNiA1MC0zMi42IDMwLjMtNjMuMiA0Ni45LTg0IDQ2LjktNC41LS4xLTguMy0xLTExLjMtMi43em0yMzcuMi03Ni4yYzQuNyAzOC4yLTEuMSA2Ny45LTE0LjYgNzUuOC0zIDEuOC02LjkgMi42LTExLjUgMi42LTIwLjcgMC01MS40LTE2LjUtODQtNDYuNiAxNC0xNC43IDI4LTMxLjQgNDEuMy00OS45IDIyLjYtMi40IDQ0LTYuMSA2My42LTExIDIuMyAxMC4xIDQuMSAxOS44IDUuMiAyOS4xem0zOC41LTY2LjdjLTguNiAzLjctMTggNy0yNy43IDEwLjEtNS43LTE5LjYtMTMuMi00MC0yMi41LTYwLjkgOS4yLTIwLjggMTYuNi00MS4xIDIyLjItNjAuNiA5LjkgMy4xIDE5LjMgNi41IDI4LjEgMTAuMiAzNS40IDE1LjEgNTguMyAzNC45IDU4LjMgNTAuNi0uMSAxNS43LTIzIDM1LjYtNTguNCA1MC42ek0zMjAuOCA3OC40eiIvPgogICAgPGNpcmNsZSBjeD0iNDIwLjkiIGN5PSIyOTYuNSIgcj0iNDUuNyIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-redo: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE4LjQgMTAuNkMxNi41NSA4Ljk5IDE0LjE1IDggMTEuNSA4Yy00LjY1IDAtOC41OCAzLjAzLTkuOTYgNy4yMkwzLjkgMTZjMS4wNS0zLjE5IDQuMDUtNS41IDcuNi01LjUgMS45NSAwIDMuNzMuNzIgNS4xMiAxLjg4TDEzIDE2aDlWN2wtMy42IDMuNnoiLz4KICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-refresh: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDE4IDE4Ij4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTkgMTMuNWMtMi40OSAwLTQuNS0yLjAxLTQuNS00LjVTNi41MSA0LjUgOSA0LjVjMS4yNCAwIDIuMzYuNTIgMy4xNyAxLjMzTDEwIDhoNVYzbC0xLjc2IDEuNzZDMTIuMTUgMy42OCAxMC42NiAzIDkgMyA1LjY5IDMgMy4wMSA1LjY5IDMuMDEgOVM1LjY5IDE1IDkgMTVjMi45NyAwIDUuNDMtMi4xNiA1LjktNWgtMS41MmMtLjQ2IDItMi4yNCAzLjUtNC4zOCAzLjV6Ii8+CiAgICA8L2c+Cjwvc3ZnPgo=);
  --jp-icon-regex: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KICA8ZyBjbGFzcz0ianAtaWNvbjIiIGZpbGw9IiM0MTQxNDEiPgogICAgPHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+CiAgPC9nPgoKICA8ZyBjbGFzcz0ianAtaWNvbi1hY2NlbnQyIiBmaWxsPSIjRkZGIj4KICAgIDxjaXJjbGUgY2xhc3M9InN0MiIgY3g9IjUuNSIgY3k9IjE0LjUiIHI9IjEuNSIvPgogICAgPHJlY3QgeD0iMTIiIHk9IjQiIGNsYXNzPSJzdDIiIHdpZHRoPSIxIiBoZWlnaHQ9IjgiLz4KICAgIDxyZWN0IHg9IjguNSIgeT0iNy41IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjg2NiAtMC41IDAuNSAwLjg2NiAtMi4zMjU1IDcuMzIxOSkiIGNsYXNzPSJzdDIiIHdpZHRoPSI4IiBoZWlnaHQ9IjEiLz4KICAgIDxyZWN0IHg9IjEyIiB5PSI0IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjUgLTAuODY2IDAuODY2IDAuNSAtMC42Nzc5IDE0LjgyNTIpIiBjbGFzcz0ic3QyIiB3aWR0aD0iMSIgaGVpZ2h0PSI4Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-run: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTggNXYxNGwxMS03eiIvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-running: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDUxMiA1MTIiPgogIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICA8cGF0aCBkPSJNMjU2IDhDMTE5IDggOCAxMTkgOCAyNTZzMTExIDI0OCAyNDggMjQ4IDI0OC0xMTEgMjQ4LTI0OFMzOTMgOCAyNTYgOHptOTYgMzI4YzAgOC44LTcuMiAxNi0xNiAxNkgxNzZjLTguOCAwLTE2LTcuMi0xNi0xNlYxNzZjMC04LjggNy4yLTE2IDE2LTE2aDE2MGM4LjggMCAxNiA3LjIgMTYgMTZ2MTYweiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-save: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTE3IDNINWMtMS4xMSAwLTIgLjktMiAydjE0YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjdsLTQtNHptLTUgMTZjLTEuNjYgMC0zLTEuMzQtMy0zczEuMzQtMyAzLTMgMyAxLjM0IDMgMy0xLjM0IDMtMyAzem0zLTEwSDVWNWgxMHY0eiIvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-search: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTggMTgiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEyLjEsMTAuOWgtMC43bC0wLjItMC4yYzAuOC0wLjksMS4zLTIuMiwxLjMtMy41YzAtMy0yLjQtNS40LTUuNC01LjRTMS44LDQuMiwxLjgsNy4xczIuNCw1LjQsNS40LDUuNCBjMS4zLDAsMi41LTAuNSwzLjUtMS4zbDAuMiwwLjJ2MC43bDQuMSw0LjFsMS4yLTEuMkwxMi4xLDEwLjl6IE03LjEsMTAuOWMtMi4xLDAtMy43LTEuNy0zLjctMy43czEuNy0zLjcsMy43LTMuN3MzLjcsMS43LDMuNywzLjcgUzkuMiwxMC45LDcuMSwxMC45eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-settings: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIiBkPSJNMTkuNDMgMTIuOThjLjA0LS4zMi4wNy0uNjQuMDctLjk4cy0uMDMtLjY2LS4wNy0uOThsMi4xMS0xLjY1Yy4xOS0uMTUuMjQtLjQyLjEyLS42NGwtMi0zLjQ2Yy0uMTItLjIyLS4zOS0uMy0uNjEtLjIybC0yLjQ5IDFjLS41Mi0uNC0xLjA4LS43My0xLjY5LS45OGwtLjM4LTIuNjVBLjQ4OC40ODggMCAwMDE0IDJoLTRjLS4yNSAwLS40Ni4xOC0uNDkuNDJsLS4zOCAyLjY1Yy0uNjEuMjUtMS4xNy41OS0xLjY5Ljk4bC0yLjQ5LTFjLS4yMy0uMDktLjQ5IDAtLjYxLjIybC0yIDMuNDZjLS4xMy4yMi0uMDcuNDkuMTIuNjRsMi4xMSAxLjY1Yy0uMDQuMzItLjA3LjY1LS4wNy45OHMuMDMuNjYuMDcuOThsLTIuMTEgMS42NWMtLjE5LjE1LS4yNC40Mi0uMTIuNjRsMiAzLjQ2Yy4xMi4yMi4zOS4zLjYxLjIybDIuNDktMWMuNTIuNCAxLjA4LjczIDEuNjkuOThsLjM4IDIuNjVjLjAzLjI0LjI0LjQyLjQ5LjQyaDRjLjI1IDAgLjQ2LS4xOC40OS0uNDJsLjM4LTIuNjVjLjYxLS4yNSAxLjE3LS41OSAxLjY5LS45OGwyLjQ5IDFjLjIzLjA5LjQ5IDAgLjYxLS4yMmwyLTMuNDZjLjEyLS4yMi4wNy0uNDktLjEyLS42NGwtMi4xMS0xLjY1ek0xMiAxNS41Yy0xLjkzIDAtMy41LTEuNTctMy41LTMuNXMxLjU3LTMuNSAzLjUtMy41IDMuNSAxLjU3IDMuNSAzLjUtMS41NyAzLjUtMy41IDMuNXoiLz4KPC9zdmc+Cg==);
  --jp-icon-share: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTSAxOCAyIEMgMTYuMzU0OTkgMiAxNSAzLjM1NDk5MDQgMTUgNSBDIDE1IDUuMTkwOTUyOSAxNS4wMjE3OTEgNS4zNzcxMjI0IDE1LjA1NjY0MSA1LjU1ODU5MzggTCA3LjkyMTg3NSA5LjcyMDcwMzEgQyA3LjM5ODUzOTkgOS4yNzc4NTM5IDYuNzMyMDc3MSA5IDYgOSBDIDQuMzU0OTkwNCA5IDMgMTAuMzU0OTkgMyAxMiBDIDMgMTMuNjQ1MDEgNC4zNTQ5OTA0IDE1IDYgMTUgQyA2LjczMjA3NzEgMTUgNy4zOTg1Mzk5IDE0LjcyMjE0NiA3LjkyMTg3NSAxNC4yNzkyOTcgTCAxNS4wNTY2NDEgMTguNDM5NDUzIEMgMTUuMDIxNTU1IDE4LjYyMTUxNCAxNSAxOC44MDgzODYgMTUgMTkgQyAxNSAyMC42NDUwMSAxNi4zNTQ5OSAyMiAxOCAyMiBDIDE5LjY0NTAxIDIyIDIxIDIwLjY0NTAxIDIxIDE5IEMgMjEgMTcuMzU0OTkgMTkuNjQ1MDEgMTYgMTggMTYgQyAxNy4yNjc0OCAxNiAxNi42MDE1OTMgMTYuMjc5MzI4IDE2LjA3ODEyNSAxNi43MjI2NTYgTCA4Ljk0MzM1OTQgMTIuNTU4NTk0IEMgOC45NzgyMDk1IDEyLjM3NzEyMiA5IDEyLjE5MDk1MyA5IDEyIEMgOSAxMS44MDkwNDcgOC45NzgyMDk1IDExLjYyMjg3OCA4Ljk0MzM1OTQgMTEuNDQxNDA2IEwgMTYuMDc4MTI1IDcuMjc5Mjk2OSBDIDE2LjYwMTQ2IDcuNzIyMTQ2MSAxNy4yNjc5MjMgOCAxOCA4IEMgMTkuNjQ1MDEgOCAyMSA2LjY0NTAwOTYgMjEgNSBDIDIxIDMuMzU0OTkwNCAxOS42NDUwMSAyIDE4IDIgeiBNIDE4IDQgQyAxOC41NjQxMjkgNCAxOSA0LjQzNTg3MDYgMTkgNSBDIDE5IDUuNTY0MTI5NCAxOC41NjQxMjkgNiAxOCA2IEMgMTcuNDM1ODcxIDYgMTcgNS41NjQxMjk0IDE3IDUgQyAxNyA0LjQzNTg3MDYgMTcuNDM1ODcxIDQgMTggNCB6IE0gNiAxMSBDIDYuNTY0MTI5NCAxMSA3IDExLjQzNTg3MSA3IDEyIEMgNyAxMi41NjQxMjkgNi41NjQxMjk0IDEzIDYgMTMgQyA1LjQzNTg3MDYgMTMgNSAxMi41NjQxMjkgNSAxMiBDIDUgMTEuNDM1ODcxIDUuNDM1ODcwNiAxMSA2IDExIHogTSAxOCAxOCBDIDE4LjU2NDEyOSAxOCAxOSAxOC40MzU4NzEgMTkgMTkgQyAxOSAxOS41NjQxMjkgMTguNTY0MTI5IDIwIDE4IDIwIEMgMTcuNDM1ODcxIDIwIDE3IDE5LjU2NDEyOSAxNyAxOSBDIDE3IDE4LjQzNTg3MSAxNy40MzU4NzEgMTggMTggMTggeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-spreadsheet: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8cGF0aCBjbGFzcz0ianAtaWNvbi1jb250cmFzdDEganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNENBRjUwIiBkPSJNMi4yIDIuMnYxNy42aDE3LjZWMi4ySDIuMnptMTUuNCA3LjdoLTUuNVY0LjRoNS41djUuNXpNOS45IDQuNHY1LjVINC40VjQuNGg1LjV6bS01LjUgNy43aDUuNXY1LjVINC40di01LjV6bTcuNyA1LjV2LTUuNWg1LjV2NS41aC01LjV6Ii8+Cjwvc3ZnPgo=);
  --jp-icon-stop: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGQ9Ik02IDZoMTJ2MTJINnoiLz4KICAgIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-tab: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTIxIDNIM2MtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxOGMxLjEgMCAyLS45IDItMlY1YzAtMS4xLS45LTItMi0yem0wIDE2SDNWNWgxMHY0aDh2MTB6Ii8+CiAgPC9nPgo8L3N2Zz4K);
  --jp-icon-table-rows: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGQ9Ik0yMSw4SDNWNGgxOFY4eiBNMjEsMTBIM3Y0aDE4VjEweiBNMjEsMTZIM3Y0aDE4VjE2eiIvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-tag: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCA0MyAyOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCTxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CgkJPHBhdGggZD0iTTI4LjgzMzIgMTIuMzM0TDMyLjk5OTggMTYuNTAwN0wzNy4xNjY1IDEyLjMzNEgyOC44MzMyWiIvPgoJCTxwYXRoIGQ9Ik0xNi4yMDk1IDIxLjYxMDRDMTUuNjg3MyAyMi4xMjk5IDE0Ljg0NDMgMjIuMTI5OSAxNC4zMjQ4IDIxLjYxMDRMNi45ODI5IDE0LjcyNDVDNi41NzI0IDE0LjMzOTQgNi4wODMxMyAxMy42MDk4IDYuMDQ3ODYgMTMuMDQ4MkM1Ljk1MzQ3IDExLjUyODggNi4wMjAwMiA4LjYxOTQ0IDYuMDY2MjEgNy4wNzY5NUM2LjA4MjgxIDYuNTE0NzcgNi41NTU0OCA2LjA0MzQ3IDcuMTE4MDQgNi4wMzA1NUM5LjA4ODYzIDUuOTg0NzMgMTMuMjYzOCA1LjkzNTc5IDEzLjY1MTggNi4zMjQyNUwyMS43MzY5IDEzLjYzOUMyMi4yNTYgMTQuMTU4NSAyMS43ODUxIDE1LjQ3MjQgMjEuMjYyIDE1Ljk5NDZMMTYuMjA5NSAyMS42MTA0Wk05Ljc3NTg1IDguMjY1QzkuMzM1NTEgNy44MjU2NiA4LjYyMzUxIDcuODI1NjYgOC4xODI4IDguMjY1QzcuNzQzNDYgOC43MDU3MSA3Ljc0MzQ2IDkuNDE3MzMgOC4xODI4IDkuODU2NjdDOC42MjM4MiAxMC4yOTY0IDkuMzM1ODIgMTAuMjk2NCA5Ljc3NTg1IDkuODU2NjdDMTAuMjE1NiA5LjQxNzMzIDEwLjIxNTYgOC43MDUzMyA5Ljc3NTg1IDguMjY1WiIvPgoJPC9nPgo8L3N2Zz4K);
  --jp-icon-terminal: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiA+CiAgICA8cmVjdCBjbGFzcz0ianAtdGVybWluYWwtaWNvbi1iYWNrZ3JvdW5kLWNvbG9yIGpwLWljb24tc2VsZWN0YWJsZSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyIDIpIiBmaWxsPSIjMzMzMzMzIi8+CiAgICA8cGF0aCBjbGFzcz0ianAtdGVybWluYWwtaWNvbi1jb2xvciBqcC1pY29uLXNlbGVjdGFibGUtaW52ZXJzZSIgZD0iTTUuMDU2NjQgOC43NjE3MkM1LjA1NjY0IDguNTk3NjYgNS4wMzEyNSA4LjQ1MzEyIDQuOTgwNDcgOC4zMjgxMkM0LjkzMzU5IDguMTk5MjIgNC44NTU0NyA4LjA4MjAzIDQuNzQ2MDkgNy45NzY1NkM0LjY0MDYyIDcuODcxMDkgNC41IDcuNzc1MzkgNC4zMjQyMiA3LjY4OTQ1QzQuMTUyMzQgNy41OTk2MSAzLjk0MzM2IDcuNTExNzIgMy42OTcyNyA3LjQyNTc4QzMuMzAyNzMgNy4yODUxNiAyLjk0MzM2IDcuMTM2NzIgMi42MTkxNCA2Ljk4MDQ3QzIuMjk0OTIgNi44MjQyMiAyLjAxNzU4IDYuNjQyNTggMS43ODcxMSA2LjQzNTU1QzEuNTYwNTUgNi4yMjg1MiAxLjM4NDc3IDUuOTg4MjggMS4yNTk3NyA1LjcxNDg0QzEuMTM0NzcgNS40Mzc1IDEuMDcyMjcgNS4xMDkzOCAxLjA3MjI3IDQuNzMwNDdDMS4wNzIyNyA0LjM5ODQ0IDEuMTI4OTEgNC4wOTU3IDEuMjQyMTkgMy44MjIyN0MxLjM1NTQ3IDMuNTQ0OTIgMS41MTU2MiAzLjMwNDY5IDEuNzIyNjYgMy4xMDE1NkMxLjkyOTY5IDIuODk4NDQgMi4xNzk2OSAyLjczNDM3IDIuNDcyNjYgMi42MDkzOEMyLjc2NTYyIDIuNDg0MzggMy4wOTE4IDIuNDA0MyAzLjQ1MTE3IDIuMzY5MTRWMS4xMDkzOEg0LjM4ODY3VjIuMzgwODZDNC43NDAyMyAyLjQyNzczIDUuMDU2NjQgMi41MjM0NCA1LjMzNzg5IDIuNjY3OTdDNS42MTkxNCAyLjgxMjUgNS44NTc0MiAzLjAwMTk1IDYuMDUyNzMgMy4yMzYzM0M2LjI1MTk1IDMuNDY2OCA2LjQwNDMgMy43NDAyMyA2LjUwOTc3IDQuMDU2NjRDNi42MTkxNCA0LjM2OTE0IDYuNjczODMgNC43MjA3IDYuNjczODMgNS4xMTEzM0g1LjA0NDkyQzUuMDQ0OTIgNC42Mzg2NyA0LjkzNzUgNC4yODEyNSA0LjcyMjY2IDQuMDM5MDZDNC41MDc4MSAzLjc5Mjk3IDQuMjE2OCAzLjY2OTkyIDMuODQ5NjEgMy42Njk5MkMzLjY1MDM5IDMuNjY5OTIgMy40NzY1NiAzLjY5NzI3IDMuMzI4MTIgMy43NTE5NUMzLjE4MzU5IDMuODAyNzMgMy4wNjQ0NSAzLjg3Njk1IDIuOTcwNyAzLjk3NDYxQzIuODc2OTUgNC4wNjgzNiAyLjgwNjY0IDQuMTc5NjkgMi43NTk3NyA0LjMwODU5QzIuNzE2OCA0LjQzNzUgMi42OTUzMSA0LjU3ODEyIDIuNjk1MzEgNC43MzA0N0MyLjY5NTMxIDQuODgyODEgMi43MTY4IDUuMDE5NTMgMi43NTk3NyA1LjE0MDYyQzIuODA2NjQgNS4yNTc4MSAyLjg4MjgxIDUuMzY3MTkgMi45ODgyOCA1LjQ2ODc1QzMuMDk3NjYgNS41NzAzMSAzLjI0MDIzIDUuNjY3OTcgMy40MTYwMiA1Ljc2MTcyQzMuNTkxOCA1Ljg1MTU2IDMuODEwNTUgNS45NDMzNiA0LjA3MjI3IDYuMDM3MTFDNC40NjY4IDYuMTg1NTUgNC44MjQyMiA2LjMzOTg0IDUuMTQ0NTMgNi41QzUuNDY0ODQgNi42NTYyNSA1LjczODI4IDYuODM5ODQgNS45NjQ4NCA3LjA1MDc4QzYuMTk1MzEgNy4yNTc4MSA2LjM3MTA5IDcuNSA2LjQ5MjE5IDcuNzc3MzRDNi42MTcxOSA4LjA1MDc4IDYuNjc5NjkgOC4zNzUgNi42Nzk2OSA4Ljc1QzYuNjc5NjkgOS4wOTM3NSA2LjYyMzA1IDkuNDA0MyA2LjUwOTc3IDkuNjgxNjRDNi4zOTY0OCA5Ljk1NTA4IDYuMjM0MzggMTAuMTkxNCA2LjAyMzQ0IDEwLjM5MDZDNS44MTI1IDEwLjU4OTggNS41NTg1OSAxMC43NSA1LjI2MTcyIDEwLjg3MTFDNC45NjQ4NCAxMC45ODgzIDQuNjMyODEgMTEuMDY0NSA0LjI2NTYyIDExLjA5OTZWMTIuMjQ4SDMuMzMzOThWMTEuMDk5NkMzLjAwMTk1IDExLjA2ODQgMi42Nzk2OSAxMC45OTYxIDIuMzY3MTkgMTAuODgyOEMyLjA1NDY5IDEwLjc2NTYgMS43NzczNCAxMC41OTc3IDEuNTM1MTYgMTAuMzc4OUMxLjI5Njg4IDEwLjE2MDIgMS4xMDU0NyA5Ljg4NDc3IDAuOTYwOTM4IDkuNTUyNzNDMC44MTY0MDYgOS4yMTY4IDAuNzQ0MTQxIDguODE0NDUgMC43NDQxNDEgOC4zNDU3SDIuMzc4OTFDMi4zNzg5MSA4LjYyNjk1IDIuNDE5OTIgOC44NjMyOCAyLjUwMTk1IDkuMDU0NjlDMi41ODM5OCA5LjI0MjE5IDIuNjg5NDUgOS4zOTI1OCAyLjgxODM2IDkuNTA1ODZDMi45NTExNyA5LjYxNTIzIDMuMTAxNTYgOS42OTMzNiAzLjI2OTUzIDkuNzQwMjNDMy40Mzc1IDkuNzg3MTEgMy42MDkzOCA5LjgxMDU1IDMuNzg1MTYgOS44MTA1NUM0LjIwMzEyIDkuODEwNTUgNC41MTk1MyA5LjcxMjg5IDQuNzM0MzggOS41MTc1OEM0Ljk0OTIyIDkuMzIyMjcgNS4wNTY2NCA5LjA3MDMxIDUuMDU2NjQgOC43NjE3MlpNMTMuNDE4IDEyLjI3MTVIOC4wNzQyMlYxMUgxMy40MThWMTIuMjcxNVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMuOTUyNjQgNikiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=);
  --jp-icon-text-editor: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBjbGFzcz0ianAtdGV4dC1lZGl0b3ItaWNvbi1jb2xvciBqcC1pY29uLXNlbGVjdGFibGUiIGZpbGw9IiM2MTYxNjEiIGQ9Ik0xNSAxNUgzdjJoMTJ2LTJ6bTAtOEgzdjJoMTJWN3pNMyAxM2gxOHYtMkgzdjJ6bTAgOGgxOHYtMkgzdjJ6TTMgM3YyaDE4VjNIM3oiLz4KPC9zdmc+Cg==);
  --jp-icon-toc: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBjbGFzcz0ianAtaWNvbjMganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjNjE2MTYxIj4KICAgIDxwYXRoIGQ9Ik03LDVIMjFWN0g3VjVNNywxM1YxMUgyMVYxM0g3TTQsNC41QTEuNSwxLjUgMCAwLDEgNS41LDZBMS41LDEuNSAwIDAsMSA0LDcuNUExLjUsMS41IDAgMCwxIDIuNSw2QTEuNSwxLjUgMCAwLDEgNCw0LjVNNCwxMC41QTEuNSwxLjUgMCAwLDEgNS41LDEyQTEuNSwxLjUgMCAwLDEgNCwxMy41QTEuNSwxLjUgMCAwLDEgMi41LDEyQTEuNSwxLjUgMCAwLDEgNCwxMC41TTcsMTlWMTdIMjFWMTlIN000LDE2LjVBMS41LDEuNSAwIDAsMSA1LjUsMThBMS41LDEuNSAwIDAsMSA0LDE5LjVBMS41LDEuNSAwIDAsMSAyLjUsMThBMS41LDEuNSAwIDAsMSA0LDE2LjVaIiAvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-tree-view: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsYXNzPSJqcC1pY29uMyIgZmlsbD0iIzYxNjE2MSI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGQ9Ik0yMiAxMVYzaC03djNIOVYzSDJ2OGg3VjhoMnYxMGg0djNoN3YtOGgtN3YzaC0yVjhoMnYzeiIvPgogICAgPC9nPgo8L3N2Zz4K);
  --jp-icon-trusted: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDI0IDI1Ij4KICAgIDxwYXRoIGNsYXNzPSJqcC1pY29uMiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIgMykiIGQ9Ik0xLjg2MDk0IDExLjQ0MDlDMC44MjY0NDggOC43NzAyNyAwLjg2Mzc3OSA2LjA1NzY0IDEuMjQ5MDcgNC4xOTkzMkMyLjQ4MjA2IDMuOTMzNDcgNC4wODA2OCAzLjQwMzQ3IDUuNjAxMDIgMi44NDQ5QzcuMjM1NDkgMi4yNDQ0IDguODU2NjYgMS41ODE1IDkuOTg3NiAxLjA5NTM5QzExLjA1OTcgMS41ODM0MSAxMi42MDk0IDIuMjQ0NCAxNC4yMTggMi44NDMzOUMxNS43NTAzIDMuNDEzOTQgMTcuMzk5NSAzLjk1MjU4IDE4Ljc1MzkgNC4yMTM4NUMxOS4xMzY0IDYuMDcxNzcgMTkuMTcwOSA4Ljc3NzIyIDE4LjEzOSAxMS40NDA5QzE3LjAzMDMgMTQuMzAzMiAxNC42NjY4IDE3LjE4NDQgOS45OTk5OSAxOC45MzU0QzUuMzMzMiAxNy4xODQ0IDIuOTY5NjggMTQuMzAzMiAxLjg2MDk0IDExLjQ0MDlaIi8+CiAgICA8cGF0aCBjbGFzcz0ianAtaWNvbjIiIGZpbGw9IiMzMzMzMzMiIHN0cm9rZT0iIzMzMzMzMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCA5Ljg2NzE5KSIgZD0iTTIuODYwMTUgNC44NjUzNUwwLjcyNjU0OSAyLjk5OTU5TDAgMy42MzA0NUwyLjg2MDE1IDYuMTMxNTdMOCAwLjYzMDg3Mkw3LjI3ODU3IDBMMi44NjAxNSA0Ljg2NTM1WiIvPgo8L3N2Zz4K);
  --jp-icon-undo: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTEyLjUgOGMtMi42NSAwLTUuMDUuOTktNi45IDIuNkwyIDd2OWg5bC0zLjYyLTMuNjJjMS4zOS0xLjE2IDMuMTYtMS44OCA1LjEyLTEuODggMy41NCAwIDYuNTUgMi4zMSA3LjYgNS41bDIuMzctLjc4QzIxLjA4IDExLjAzIDE3LjE1IDggMTIuNSA4eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-user: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBjbGFzcz0ianAtaWNvbjMiIGZpbGw9IiM2MTYxNjEiPgogICAgPHBhdGggZD0iTTE2IDdhNCA0IDAgMTEtOCAwIDQgNCAwIDAxOCAwek0xMiAxNGE3IDcgMCAwMC03IDdoMTRhNyA3IDAgMDAtNy03eiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-users: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDM2IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogPGcgY2xhc3M9ImpwLWljb24zIiB0cmFuc2Zvcm09Im1hdHJpeCgxLjczMjcgMCAwIDEuNzMyNyAtMy42MjgyIC4wOTk1NzcpIiBmaWxsPSIjNjE2MTYxIj4KICA8cGF0aCB0cmFuc2Zvcm09Im1hdHJpeCgxLjUsMCwwLDEuNSwwLC02KSIgZD0ibTEyLjE4NiA3LjUwOThjLTEuMDUzNSAwLTEuOTc1NyAwLjU2NjUtMi40Nzg1IDEuNDEwMiAwLjc1MDYxIDAuMzEyNzcgMS4zOTc0IDAuODI2NDggMS44NzMgMS40NzI3aDMuNDg2M2MwLTEuNTkyLTEuMjg4OS0yLjg4MjgtMi44ODA5LTIuODgyOHoiLz4KICA8cGF0aCBkPSJtMjAuNDY1IDIuMzg5NWEyLjE4ODUgMi4xODg1IDAgMCAxLTIuMTg4NCAyLjE4ODUgMi4xODg1IDIuMTg4NSAwIDAgMS0yLjE4ODUtMi4xODg1IDIuMTg4NSAyLjE4ODUgMCAwIDEgMi4xODg1LTIuMTg4NSAyLjE4ODUgMi4xODg1IDAgMCAxIDIuMTg4NCAyLjE4ODV6Ii8+CiAgPHBhdGggdHJhbnNmb3JtPSJtYXRyaXgoMS41LDAsMCwxLjUsMCwtNikiIGQ9Im0zLjU4OTggOC40MjE5Yy0xLjExMjYgMC0yLjAxMzcgMC45MDExMS0yLjAxMzcgMi4wMTM3aDIuODE0NWMwLjI2Nzk3LTAuMzczMDkgMC41OTA3LTAuNzA0MzUgMC45NTg5OC0wLjk3ODUyLTAuMzQ0MzMtMC42MTY4OC0xLjAwMzEtMS4wMzUyLTEuNzU5OC0xLjAzNTJ6Ii8+CiAgPHBhdGggZD0ibTYuOTE1NCA0LjYyM2ExLjUyOTQgMS41Mjk0IDAgMCAxLTEuNTI5NCAxLjUyOTQgMS41Mjk0IDEuNTI5NCAwIDAgMS0xLjUyOTQtMS41Mjk0IDEuNTI5NCAxLjUyOTQgMCAwIDEgMS41Mjk0LTEuNTI5NCAxLjUyOTQgMS41Mjk0IDAgMCAxIDEuNTI5NCAxLjUyOTR6Ii8+CiAgPHBhdGggZD0ibTYuMTM1IDEzLjUzNWMwLTMuMjM5MiAyLjYyNTktNS44NjUgNS44NjUtNS44NjUgMy4yMzkyIDAgNS44NjUgMi42MjU5IDUuODY1IDUuODY1eiIvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMy43Njg1IiByPSIyLjk2ODUiLz4KIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-vega: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8ZyBjbGFzcz0ianAtaWNvbjEganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjMjEyMTIxIj4KICAgIDxwYXRoIGQ9Ik0xMC42IDUuNGwyLjItMy4ySDIuMnY3LjNsNC02LjZ6Ii8+CiAgICA8cGF0aCBkPSJNMTUuOCAyLjJsLTQuNCA2LjZMNyA2LjNsLTQuOCA4djUuNWgxNy42VjIuMmgtNHptLTcgMTUuNEg1LjV2LTQuNGgzLjN2NC40em00LjQgMEg5LjhWOS44aDMuNHY3Ljh6bTQuNCAwaC0zLjRWNi41aDMuNHYxMS4xeiIvPgogIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-word: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIwIDIwIj4KIDxnIGNsYXNzPSJqcC1pY29uMiIgZmlsbD0iIzQxNDE0MSI+CiAgPHJlY3QgeD0iMiIgeT0iMiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+CiA8L2c+CiA8ZyBjbGFzcz0ianAtaWNvbi1hY2NlbnQyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSguNDMgLjA0MDEpIiBmaWxsPSIjZmZmIj4KICA8cGF0aCBkPSJtNC4xNCA4Ljc2cTAuMDY4Mi0xLjg5IDIuNDItMS44OSAxLjE2IDAgMS42OCAwLjQyIDAuNTY3IDAuNDEgMC41NjcgMS4xNnYzLjQ3cTAgMC40NjIgMC41MTQgMC40NjIgMC4xMDMgMCAwLjItMC4wMjMxdjAuNzE0cS0wLjM5OSAwLjEwMy0wLjY1MSAwLjEwMy0wLjQ1MiAwLTAuNjkzLTAuMjItMC4yMzEtMC4yLTAuMjg0LTAuNjYyLTAuOTU2IDAuODcyLTIgMC44NzItMC45MDMgMC0xLjQ3LTAuNDcyLTAuNTI1LTAuNDcyLTAuNTI1LTEuMjYgMC0wLjI2MiAwLjA0NTItMC40NzIgMC4wNTY3LTAuMjIgMC4xMTYtMC4zNzggMC4wNjgyLTAuMTY4IDAuMjMxLTAuMzA0IDAuMTU4LTAuMTQ3IDAuMjYyLTAuMjQyIDAuMTE2LTAuMDkxNCAwLjM2OC0wLjE2OCAwLjI2Mi0wLjA5MTQgMC4zOTktMC4xMjYgMC4xMzYtMC4wNDUyIDAuNDcyLTAuMTAzIDAuMzM2LTAuMDU3OCAwLjUwNC0wLjA3OTggMC4xNTgtMC4wMjMxIDAuNTY3LTAuMDc5OCAwLjU1Ni0wLjA2ODIgMC43NzctMC4yMjEgMC4yMi0wLjE1MiAwLjIyLTAuNDQxdi0wLjI1MnEwLTAuNDMtMC4zNTctMC42NjItMC4zMzYtMC4yMzEtMC45NzYtMC4yMzEtMC42NjIgMC0wLjk5OCAwLjI2Mi0wLjMzNiAwLjI1Mi0wLjM5OSAwLjc5OHptMS44OSAzLjY4cTAuNzg4IDAgMS4yNi0wLjQxIDAuNTA0LTAuNDIgMC41MDQtMC45MDN2LTEuMDVxLTAuMjg0IDAuMTM2LTAuODYxIDAuMjMxLTAuNTY3IDAuMDkxNC0wLjk4NyAwLjE1OC0wLjQyIDAuMDY4Mi0wLjc2NiAwLjMyNi0wLjMzNiAwLjI1Mi0wLjMzNiAwLjcwNHQwLjMwNCAwLjcwNCAwLjg2MSAwLjI1MnoiIHN0cm9rZS13aWR0aD0iMS4wNSIvPgogIDxwYXRoIGQ9Im0xMCA0LjU2aDAuOTQ1djMuMTVxMC42NTEtMC45NzYgMS44OS0wLjk3NiAxLjE2IDAgMS44OSAwLjg0IDAuNjgyIDAuODQgMC42ODIgMi4zMSAwIDEuNDctMC43MDQgMi40Mi0wLjcwNCAwLjg4Mi0xLjg5IDAuODgyLTEuMjYgMC0xLjg5LTEuMDJ2MC43NjZoLTAuODV6bTIuNjIgMy4wNHEtMC43NDYgMC0xLjE2IDAuNjQtMC40NTIgMC42My0wLjQ1MiAxLjY4IDAgMS4wNSAwLjQ1MiAxLjY4dDEuMTYgMC42M3EwLjc3NyAwIDEuMjYtMC42MyAwLjQ5NC0wLjY0IDAuNDk0LTEuNjggMC0xLjA1LTAuNDcyLTEuNjgtMC40NjItMC42NC0xLjI2LTAuNjR6IiBzdHJva2Utd2lkdGg9IjEuMDUiLz4KICA8cGF0aCBkPSJtMi43MyAxNS44IDEzLjYgMC4wMDgxYzAuMDA2OSAwIDAtMi42IDAtMi42IDAtMC4wMDc4LTEuMTUgMC0xLjE1IDAtMC4wMDY5IDAtMC4wMDgzIDEuNS0wLjAwODMgMS41LTJlLTMgLTAuMDAxNC0xMS4zLTAuMDAxNC0xMS4zLTAuMDAxNGwtMC4wMDU5Mi0xLjVjMC0wLjAwNzgtMS4xNyAwLjAwMTMtMS4xNyAwLjAwMTN6IiBzdHJva2Utd2lkdGg9Ii45NzUiLz4KIDwvZz4KPC9zdmc+Cg==);
  --jp-icon-yaml: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDIyIDIyIj4KICA8ZyBjbGFzcz0ianAtaWNvbi1jb250cmFzdDIganAtaWNvbi1zZWxlY3RhYmxlIiBmaWxsPSIjRDgxQjYwIj4KICAgIDxwYXRoIGQ9Ik03LjIgMTguNnYtNS40TDMgNS42aDMuM2wxLjQgMy4xYy4zLjkuNiAxLjYgMSAyLjUuMy0uOC42LTEuNiAxLTIuNWwxLjQtMy4xaDMuNGwtNC40IDcuNnY1LjVsLTIuOS0uMXoiLz4KICAgIDxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjE3LjYiIGN5PSIxNi41IiByPSIyLjEiLz4KICAgIDxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjE3LjYiIGN5PSIxMSIgcj0iMi4xIi8+CiAgPC9nPgo8L3N2Zz4K);
}

/* Icon CSS class declarations */

.jp-AddAboveIcon {
  background-image: var(--jp-icon-add-above);
}

.jp-AddBelowIcon {
  background-image: var(--jp-icon-add-below);
}

.jp-AddIcon {
  background-image: var(--jp-icon-add);
}

.jp-BellIcon {
  background-image: var(--jp-icon-bell);
}

.jp-BugDotIcon {
  background-image: var(--jp-icon-bug-dot);
}

.jp-BugIcon {
  background-image: var(--jp-icon-bug);
}

.jp-BuildIcon {
  background-image: var(--jp-icon-build);
}

.jp-CaretDownEmptyIcon {
  background-image: var(--jp-icon-caret-down-empty);
}

.jp-CaretDownEmptyThinIcon {
  background-image: var(--jp-icon-caret-down-empty-thin);
}

.jp-CaretDownIcon {
  background-image: var(--jp-icon-caret-down);
}

.jp-CaretLeftIcon {
  background-image: var(--jp-icon-caret-left);
}

.jp-CaretRightIcon {
  background-image: var(--jp-icon-caret-right);
}

.jp-CaretUpEmptyThinIcon {
  background-image: var(--jp-icon-caret-up-empty-thin);
}

.jp-CaretUpIcon {
  background-image: var(--jp-icon-caret-up);
}

.jp-CaseSensitiveIcon {
  background-image: var(--jp-icon-case-sensitive);
}

.jp-CheckIcon {
  background-image: var(--jp-icon-check);
}

.jp-CircleEmptyIcon {
  background-image: var(--jp-icon-circle-empty);
}

.jp-CircleIcon {
  background-image: var(--jp-icon-circle);
}

.jp-ClearIcon {
  background-image: var(--jp-icon-clear);
}

.jp-CloseIcon {
  background-image: var(--jp-icon-close);
}

.jp-CodeCheckIcon {
  background-image: var(--jp-icon-code-check);
}

.jp-CodeIcon {
  background-image: var(--jp-icon-code);
}

.jp-CollapseAllIcon {
  background-image: var(--jp-icon-collapse-all);
}

.jp-ConsoleIcon {
  background-image: var(--jp-icon-console);
}

.jp-CopyIcon {
  background-image: var(--jp-icon-copy);
}

.jp-CopyrightIcon {
  background-image: var(--jp-icon-copyright);
}

.jp-CutIcon {
  background-image: var(--jp-icon-cut);
}

.jp-DeleteIcon {
  background-image: var(--jp-icon-delete);
}

.jp-DownloadIcon {
  background-image: var(--jp-icon-download);
}

.jp-DuplicateIcon {
  background-image: var(--jp-icon-duplicate);
}

.jp-EditIcon {
  background-image: var(--jp-icon-edit);
}

.jp-EllipsesIcon {
  background-image: var(--jp-icon-ellipses);
}

.jp-ErrorIcon {
  background-image: var(--jp-icon-error);
}

.jp-ExpandAllIcon {
  background-image: var(--jp-icon-expand-all);
}

.jp-ExtensionIcon {
  background-image: var(--jp-icon-extension);
}

.jp-FastForwardIcon {
  background-image: var(--jp-icon-fast-forward);
}

.jp-FileIcon {
  background-image: var(--jp-icon-file);
}

.jp-FileUploadIcon {
  background-image: var(--jp-icon-file-upload);
}

.jp-FilterDotIcon {
  background-image: var(--jp-icon-filter-dot);
}

.jp-FilterIcon {
  background-image: var(--jp-icon-filter);
}

.jp-FilterListIcon {
  background-image: var(--jp-icon-filter-list);
}

.jp-FolderFavoriteIcon {
  background-image: var(--jp-icon-folder-favorite);
}

.jp-FolderIcon {
  background-image: var(--jp-icon-folder);
}

.jp-HomeIcon {
  background-image: var(--jp-icon-home);
}

.jp-Html5Icon {
  background-image: var(--jp-icon-html5);
}

.jp-ImageIcon {
  background-image: var(--jp-icon-image);
}

.jp-InfoIcon {
  background-image: var(--jp-icon-info);
}

.jp-InspectorIcon {
  background-image: var(--jp-icon-inspector);
}

.jp-JsonIcon {
  background-image: var(--jp-icon-json);
}

.jp-JuliaIcon {
  background-image: var(--jp-icon-julia);
}

.jp-JupyterFaviconIcon {
  background-image: var(--jp-icon-jupyter-favicon);
}

.jp-JupyterIcon {
  background-image: var(--jp-icon-jupyter);
}

.jp-JupyterlabWordmarkIcon {
  background-image: var(--jp-icon-jupyterlab-wordmark);
}

.jp-KernelIcon {
  background-image: var(--jp-icon-kernel);
}

.jp-KeyboardIcon {
  background-image: var(--jp-icon-keyboard);
}

.jp-LaunchIcon {
  background-image: var(--jp-icon-launch);
}

.jp-LauncherIcon {
  background-image: var(--jp-icon-launcher);
}

.jp-LineFormIcon {
  background-image: var(--jp-icon-line-form);
}

.jp-LinkIcon {
  background-image: var(--jp-icon-link);
}

.jp-ListIcon {
  background-image: var(--jp-icon-list);
}

.jp-MarkdownIcon {
  background-image: var(--jp-icon-markdown);
}

.jp-MoveDownIcon {
  background-image: var(--jp-icon-move-down);
}

.jp-MoveUpIcon {
  background-image: var(--jp-icon-move-up);
}

.jp-NewFolderIcon {
  background-image: var(--jp-icon-new-folder);
}

.jp-NotTrustedIcon {
  background-image: var(--jp-icon-not-trusted);
}

.jp-NotebookIcon {
  background-image: var(--jp-icon-notebook);
}

.jp-NumberingIcon {
  background-image: var(--jp-icon-numbering);
}

.jp-OfflineBoltIcon {
  background-image: var(--jp-icon-offline-bolt);
}

.jp-PaletteIcon {
  background-image: var(--jp-icon-palette);
}

.jp-PasteIcon {
  background-image: var(--jp-icon-paste);
}

.jp-PdfIcon {
  background-image: var(--jp-icon-pdf);
}

.jp-PythonIcon {
  background-image: var(--jp-icon-python);
}

.jp-RKernelIcon {
  background-image: var(--jp-icon-r-kernel);
}

.jp-ReactIcon {
  background-image: var(--jp-icon-react);
}

.jp-RedoIcon {
  background-image: var(--jp-icon-redo);
}

.jp-RefreshIcon {
  background-image: var(--jp-icon-refresh);
}

.jp-RegexIcon {
  background-image: var(--jp-icon-regex);
}

.jp-RunIcon {
  background-image: var(--jp-icon-run);
}

.jp-RunningIcon {
  background-image: var(--jp-icon-running);
}

.jp-SaveIcon {
  background-image: var(--jp-icon-save);
}

.jp-SearchIcon {
  background-image: var(--jp-icon-search);
}

.jp-SettingsIcon {
  background-image: var(--jp-icon-settings);
}

.jp-ShareIcon {
  background-image: var(--jp-icon-share);
}

.jp-SpreadsheetIcon {
  background-image: var(--jp-icon-spreadsheet);
}

.jp-StopIcon {
  background-image: var(--jp-icon-stop);
}

.jp-TabIcon {
  background-image: var(--jp-icon-tab);
}

.jp-TableRowsIcon {
  background-image: var(--jp-icon-table-rows);
}

.jp-TagIcon {
  background-image: var(--jp-icon-tag);
}

.jp-TerminalIcon {
  background-image: var(--jp-icon-terminal);
}

.jp-TextEditorIcon {
  background-image: var(--jp-icon-text-editor);
}

.jp-TocIcon {
  background-image: var(--jp-icon-toc);
}

.jp-TreeViewIcon {
  background-image: var(--jp-icon-tree-view);
}

.jp-TrustedIcon {
  background-image: var(--jp-icon-trusted);
}

.jp-UndoIcon {
  background-image: var(--jp-icon-undo);
}

.jp-UserIcon {
  background-image: var(--jp-icon-user);
}

.jp-UsersIcon {
  background-image: var(--jp-icon-users);
}

.jp-VegaIcon {
  background-image: var(--jp-icon-vega);
}

.jp-WordIcon {
  background-image: var(--jp-icon-word);
}

.jp-YamlIcon {
  background-image: var(--jp-icon-yaml);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/**
 * (DEPRECATED) Support for consuming icons as CSS background images
 */

.jp-Icon,
.jp-MaterialIcon {
  background-position: center;
  background-repeat: no-repeat;
  background-size: 16px;
  min-width: 16px;
  min-height: 16px;
}

.jp-Icon-cover {
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
}

/**
 * (DEPRECATED) Support for specific CSS icon sizes
 */

.jp-Icon-16 {
  background-size: 16px;
  min-width: 16px;
  min-height: 16px;
}

.jp-Icon-18 {
  background-size: 18px;
  min-width: 18px;
  min-height: 18px;
}

.jp-Icon-20 {
  background-size: 20px;
  min-width: 20px;
  min-height: 20px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.lm-TabBar .lm-TabBar-addButton {
  align-items: center;
  display: flex;
  padding: 4px;
  padding-bottom: 5px;
  margin-right: 1px;
  background-color: var(--jp-layout-color2);
}

.lm-TabBar .lm-TabBar-addButton:hover {
  background-color: var(--jp-layout-color1);
}

.lm-DockPanel-tabBar .lm-TabBar-tab {
  width: var(--jp-private-horizontal-tab-width);
}

.lm-DockPanel-tabBar .lm-TabBar-content {
  flex: unset;
}

.lm-DockPanel-tabBar[data-orientation='horizontal'] {
  flex: 1 1 auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/**
 * Support for icons as inline SVG HTMLElements
 */

/* recolor the primary elements of an icon */
.jp-icon0[fill] {
  fill: var(--jp-inverse-layout-color0);
}

.jp-icon1[fill] {
  fill: var(--jp-inverse-layout-color1);
}

.jp-icon2[fill] {
  fill: var(--jp-inverse-layout-color2);
}

.jp-icon3[fill] {
  fill: var(--jp-inverse-layout-color3);
}

.jp-icon4[fill] {
  fill: var(--jp-inverse-layout-color4);
}

.jp-icon0[stroke] {
  stroke: var(--jp-inverse-layout-color0);
}

.jp-icon1[stroke] {
  stroke: var(--jp-inverse-layout-color1);
}

.jp-icon2[stroke] {
  stroke: var(--jp-inverse-layout-color2);
}

.jp-icon3[stroke] {
  stroke: var(--jp-inverse-layout-color3);
}

.jp-icon4[stroke] {
  stroke: var(--jp-inverse-layout-color4);
}

/* recolor the accent elements of an icon */
.jp-icon-accent0[fill] {
  fill: var(--jp-layout-color0);
}

.jp-icon-accent1[fill] {
  fill: var(--jp-layout-color1);
}

.jp-icon-accent2[fill] {
  fill: var(--jp-layout-color2);
}

.jp-icon-accent3[fill] {
  fill: var(--jp-layout-color3);
}

.jp-icon-accent4[fill] {
  fill: var(--jp-layout-color4);
}

.jp-icon-accent0[stroke] {
  stroke: var(--jp-layout-color0);
}

.jp-icon-accent1[stroke] {
  stroke: var(--jp-layout-color1);
}

.jp-icon-accent2[stroke] {
  stroke: var(--jp-layout-color2);
}

.jp-icon-accent3[stroke] {
  stroke: var(--jp-layout-color3);
}

.jp-icon-accent4[stroke] {
  stroke: var(--jp-layout-color4);
}

/* set the color of an icon to transparent */
.jp-icon-none[fill] {
  fill: none;
}

.jp-icon-none[stroke] {
  stroke: none;
}

/* brand icon colors. Same for light and dark */
.jp-icon-brand0[fill] {
  fill: var(--jp-brand-color0);
}

.jp-icon-brand1[fill] {
  fill: var(--jp-brand-color1);
}

.jp-icon-brand2[fill] {
  fill: var(--jp-brand-color2);
}

.jp-icon-brand3[fill] {
  fill: var(--jp-brand-color3);
}

.jp-icon-brand4[fill] {
  fill: var(--jp-brand-color4);
}

.jp-icon-brand0[stroke] {
  stroke: var(--jp-brand-color0);
}

.jp-icon-brand1[stroke] {
  stroke: var(--jp-brand-color1);
}

.jp-icon-brand2[stroke] {
  stroke: var(--jp-brand-color2);
}

.jp-icon-brand3[stroke] {
  stroke: var(--jp-brand-color3);
}

.jp-icon-brand4[stroke] {
  stroke: var(--jp-brand-color4);
}

/* warn icon colors. Same for light and dark */
.jp-icon-warn0[fill] {
  fill: var(--jp-warn-color0);
}

.jp-icon-warn1[fill] {
  fill: var(--jp-warn-color1);
}

.jp-icon-warn2[fill] {
  fill: var(--jp-warn-color2);
}

.jp-icon-warn3[fill] {
  fill: var(--jp-warn-color3);
}

.jp-icon-warn0[stroke] {
  stroke: var(--jp-warn-color0);
}

.jp-icon-warn1[stroke] {
  stroke: var(--jp-warn-color1);
}

.jp-icon-warn2[stroke] {
  stroke: var(--jp-warn-color2);
}

.jp-icon-warn3[stroke] {
  stroke: var(--jp-warn-color3);
}

/* icon colors that contrast well with each other and most backgrounds */
.jp-icon-contrast0[fill] {
  fill: var(--jp-icon-contrast-color0);
}

.jp-icon-contrast1[fill] {
  fill: var(--jp-icon-contrast-color1);
}

.jp-icon-contrast2[fill] {
  fill: var(--jp-icon-contrast-color2);
}

.jp-icon-contrast3[fill] {
  fill: var(--jp-icon-contrast-color3);
}

.jp-icon-contrast0[stroke] {
  stroke: var(--jp-icon-contrast-color0);
}

.jp-icon-contrast1[stroke] {
  stroke: var(--jp-icon-contrast-color1);
}

.jp-icon-contrast2[stroke] {
  stroke: var(--jp-icon-contrast-color2);
}

.jp-icon-contrast3[stroke] {
  stroke: var(--jp-icon-contrast-color3);
}

.jp-icon-dot[fill] {
  fill: var(--jp-warn-color0);
}

.jp-jupyter-icon-color[fill] {
  fill: var(--jp-jupyter-icon-color, var(--jp-warn-color0));
}

.jp-notebook-icon-color[fill] {
  fill: var(--jp-notebook-icon-color, var(--jp-warn-color0));
}

.jp-json-icon-color[fill] {
  fill: var(--jp-json-icon-color, var(--jp-warn-color1));
}

.jp-console-icon-color[fill] {
  fill: var(--jp-console-icon-color, white);
}

.jp-console-icon-background-color[fill] {
  fill: var(--jp-console-icon-background-color, var(--jp-brand-color1));
}

.jp-terminal-icon-color[fill] {
  fill: var(--jp-terminal-icon-color, var(--jp-layout-color2));
}

.jp-terminal-icon-background-color[fill] {
  fill: var(
    --jp-terminal-icon-background-color,
    var(--jp-inverse-layout-color2)
  );
}

.jp-text-editor-icon-color[fill] {
  fill: var(--jp-text-editor-icon-color, var(--jp-inverse-layout-color3));
}

.jp-inspector-icon-color[fill] {
  fill: var(--jp-inspector-icon-color, var(--jp-inverse-layout-color3));
}

/* CSS for icons in selected filebrowser listing items */
.jp-DirListing-item.jp-mod-selected .jp-icon-selectable[fill] {
  fill: #fff;
}

.jp-DirListing-item.jp-mod-selected .jp-icon-selectable-inverse[fill] {
  fill: var(--jp-brand-color1);
}

/* stylelint-disable selector-max-class, selector-max-compound-selectors */

/**
* TODO: come up with non css-hack solution for showing the busy icon on top
*  of the close icon
* CSS for complex behavior of close icon of tabs in the main area tabbar
*/
.lm-DockPanel-tabBar
  .lm-TabBar-tab.lm-mod-closable.jp-mod-dirty
  > .lm-TabBar-tabCloseIcon
  > :not(:hover)
  > .jp-icon3[fill] {
  fill: none;
}

.lm-DockPanel-tabBar
  .lm-TabBar-tab.lm-mod-closable.jp-mod-dirty
  > .lm-TabBar-tabCloseIcon
  > :not(:hover)
  > .jp-icon-busy[fill] {
  fill: var(--jp-inverse-layout-color3);
}

/* stylelint-enable selector-max-class, selector-max-compound-selectors */

/* CSS for icons in status bar */
#jp-main-statusbar .jp-mod-selected .jp-icon-selectable[fill] {
  fill: #fff;
}

#jp-main-statusbar .jp-mod-selected .jp-icon-selectable-inverse[fill] {
  fill: var(--jp-brand-color1);
}

/* special handling for splash icon CSS. While the theme CSS reloads during
   splash, the splash icon can loose theming. To prevent that, we set a
   default for its color variable */
:root {
  --jp-warn-color0: var(--md-orange-700);
}

/* not sure what to do with this one, used in filebrowser listing */
.jp-DragIcon {
  margin-right: 4px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/**
 * Support for alt colors for icons as inline SVG HTMLElements
 */

/* alt recolor the primary elements of an icon */
.jp-icon-alt .jp-icon0[fill] {
  fill: var(--jp-layout-color0);
}

.jp-icon-alt .jp-icon1[fill] {
  fill: var(--jp-layout-color1);
}

.jp-icon-alt .jp-icon2[fill] {
  fill: var(--jp-layout-color2);
}

.jp-icon-alt .jp-icon3[fill] {
  fill: var(--jp-layout-color3);
}

.jp-icon-alt .jp-icon4[fill] {
  fill: var(--jp-layout-color4);
}

.jp-icon-alt .jp-icon0[stroke] {
  stroke: var(--jp-layout-color0);
}

.jp-icon-alt .jp-icon1[stroke] {
  stroke: var(--jp-layout-color1);
}

.jp-icon-alt .jp-icon2[stroke] {
  stroke: var(--jp-layout-color2);
}

.jp-icon-alt .jp-icon3[stroke] {
  stroke: var(--jp-layout-color3);
}

.jp-icon-alt .jp-icon4[stroke] {
  stroke: var(--jp-layout-color4);
}

/* alt recolor the accent elements of an icon */
.jp-icon-alt .jp-icon-accent0[fill] {
  fill: var(--jp-inverse-layout-color0);
}

.jp-icon-alt .jp-icon-accent1[fill] {
  fill: var(--jp-inverse-layout-color1);
}

.jp-icon-alt .jp-icon-accent2[fill] {
  fill: var(--jp-inverse-layout-color2);
}

.jp-icon-alt .jp-icon-accent3[fill] {
  fill: var(--jp-inverse-layout-color3);
}

.jp-icon-alt .jp-icon-accent4[fill] {
  fill: var(--jp-inverse-layout-color4);
}

.jp-icon-alt .jp-icon-accent0[stroke] {
  stroke: var(--jp-inverse-layout-color0);
}

.jp-icon-alt .jp-icon-accent1[stroke] {
  stroke: var(--jp-inverse-layout-color1);
}

.jp-icon-alt .jp-icon-accent2[stroke] {
  stroke: var(--jp-inverse-layout-color2);
}

.jp-icon-alt .jp-icon-accent3[stroke] {
  stroke: var(--jp-inverse-layout-color3);
}

.jp-icon-alt .jp-icon-accent4[stroke] {
  stroke: var(--jp-inverse-layout-color4);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-icon-hoverShow:not(:hover) .jp-icon-hoverShow-content {
  display: none !important;
}

/**
 * Support for hover colors for icons as inline SVG HTMLElements
 */

/**
 * regular colors
 */

/* recolor the primary elements of an icon */
.jp-icon-hover :hover .jp-icon0-hover[fill] {
  fill: var(--jp-inverse-layout-color0);
}

.jp-icon-hover :hover .jp-icon1-hover[fill] {
  fill: var(--jp-inverse-layout-color1);
}

.jp-icon-hover :hover .jp-icon2-hover[fill] {
  fill: var(--jp-inverse-layout-color2);
}

.jp-icon-hover :hover .jp-icon3-hover[fill] {
  fill: var(--jp-inverse-layout-color3);
}

.jp-icon-hover :hover .jp-icon4-hover[fill] {
  fill: var(--jp-inverse-layout-color4);
}

.jp-icon-hover :hover .jp-icon0-hover[stroke] {
  stroke: var(--jp-inverse-layout-color0);
}

.jp-icon-hover :hover .jp-icon1-hover[stroke] {
  stroke: var(--jp-inverse-layout-color1);
}

.jp-icon-hover :hover .jp-icon2-hover[stroke] {
  stroke: var(--jp-inverse-layout-color2);
}

.jp-icon-hover :hover .jp-icon3-hover[stroke] {
  stroke: var(--jp-inverse-layout-color3);
}

.jp-icon-hover :hover .jp-icon4-hover[stroke] {
  stroke: var(--jp-inverse-layout-color4);
}

/* recolor the accent elements of an icon */
.jp-icon-hover :hover .jp-icon-accent0-hover[fill] {
  fill: var(--jp-layout-color0);
}

.jp-icon-hover :hover .jp-icon-accent1-hover[fill] {
  fill: var(--jp-layout-color1);
}

.jp-icon-hover :hover .jp-icon-accent2-hover[fill] {
  fill: var(--jp-layout-color2);
}

.jp-icon-hover :hover .jp-icon-accent3-hover[fill] {
  fill: var(--jp-layout-color3);
}

.jp-icon-hover :hover .jp-icon-accent4-hover[fill] {
  fill: var(--jp-layout-color4);
}

.jp-icon-hover :hover .jp-icon-accent0-hover[stroke] {
  stroke: var(--jp-layout-color0);
}

.jp-icon-hover :hover .jp-icon-accent1-hover[stroke] {
  stroke: var(--jp-layout-color1);
}

.jp-icon-hover :hover .jp-icon-accent2-hover[stroke] {
  stroke: var(--jp-layout-color2);
}

.jp-icon-hover :hover .jp-icon-accent3-hover[stroke] {
  stroke: var(--jp-layout-color3);
}

.jp-icon-hover :hover .jp-icon-accent4-hover[stroke] {
  stroke: var(--jp-layout-color4);
}

/* set the color of an icon to transparent */
.jp-icon-hover :hover .jp-icon-none-hover[fill] {
  fill: none;
}

.jp-icon-hover :hover .jp-icon-none-hover[stroke] {
  stroke: none;
}

/**
 * inverse colors
 */

/* inverse recolor the primary elements of an icon */
.jp-icon-hover.jp-icon-alt :hover .jp-icon0-hover[fill] {
  fill: var(--jp-layout-color0);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon1-hover[fill] {
  fill: var(--jp-layout-color1);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon2-hover[fill] {
  fill: var(--jp-layout-color2);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon3-hover[fill] {
  fill: var(--jp-layout-color3);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon4-hover[fill] {
  fill: var(--jp-layout-color4);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon0-hover[stroke] {
  stroke: var(--jp-layout-color0);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon1-hover[stroke] {
  stroke: var(--jp-layout-color1);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon2-hover[stroke] {
  stroke: var(--jp-layout-color2);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon3-hover[stroke] {
  stroke: var(--jp-layout-color3);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon4-hover[stroke] {
  stroke: var(--jp-layout-color4);
}

/* inverse recolor the accent elements of an icon */
.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent0-hover[fill] {
  fill: var(--jp-inverse-layout-color0);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent1-hover[fill] {
  fill: var(--jp-inverse-layout-color1);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent2-hover[fill] {
  fill: var(--jp-inverse-layout-color2);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent3-hover[fill] {
  fill: var(--jp-inverse-layout-color3);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent4-hover[fill] {
  fill: var(--jp-inverse-layout-color4);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent0-hover[stroke] {
  stroke: var(--jp-inverse-layout-color0);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent1-hover[stroke] {
  stroke: var(--jp-inverse-layout-color1);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent2-hover[stroke] {
  stroke: var(--jp-inverse-layout-color2);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent3-hover[stroke] {
  stroke: var(--jp-inverse-layout-color3);
}

.jp-icon-hover.jp-icon-alt :hover .jp-icon-accent4-hover[stroke] {
  stroke: var(--jp-inverse-layout-color4);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-IFrame {
  width: 100%;
  height: 100%;
}

.jp-IFrame > iframe {
  border: none;
}

/*
When drag events occur, `lm-mod-override-cursor` is added to the body.
Because iframes steal all cursor events, the following two rules are necessary
to suppress pointer events while resize drags are occurring. There may be a
better solution to this problem.
*/
body.lm-mod-override-cursor .jp-IFrame {
  position: relative;
}

body.lm-mod-override-cursor .jp-IFrame::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: transparent;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2016, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-HoverBox {
  position: fixed;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-FormGroup-content fieldset {
  border: none;
  padding: 0;
  min-width: 0;
  width: 100%;
}

/* stylelint-disable selector-max-type */

.jp-FormGroup-content fieldset .jp-inputFieldWrapper input,
.jp-FormGroup-content fieldset .jp-inputFieldWrapper select,
.jp-FormGroup-content fieldset .jp-inputFieldWrapper textarea {
  font-size: var(--jp-content-font-size2);
  border-color: var(--jp-input-border-color);
  border-style: solid;
  border-radius: var(--jp-border-radius);
  border-width: 1px;
  padding: 6px 8px;
  background: none;
  color: var(--jp-ui-font-color0);
  height: inherit;
}

.jp-FormGroup-content fieldset input[type='checkbox'] {
  position: relative;
  top: 2px;
  margin-left: 0;
}

.jp-FormGroup-content button.jp-mod-styled {
  cursor: pointer;
}

.jp-FormGroup-content .checkbox label {
  cursor: pointer;
  font-size: var(--jp-content-font-size1);
}

.jp-FormGroup-content .jp-root > fieldset > legend {
  display: none;
}

.jp-FormGroup-content .jp-root > fieldset > p {
  display: none;
}

/** copy of `input.jp-mod-styled:focus` style */
.jp-FormGroup-content fieldset input:focus,
.jp-FormGroup-content fieldset select:focus {
  -moz-outline-radius: unset;
  outline: var(--jp-border-width) solid var(--md-blue-500);
  outline-offset: -1px;
  box-shadow: inset 0 0 4px var(--md-blue-300);
}

.jp-FormGroup-content fieldset input:hover:not(:focus),
.jp-FormGroup-content fieldset select:hover:not(:focus) {
  background-color: var(--jp-border-color2);
}

/* stylelint-enable selector-max-type */

.jp-FormGroup-content .checkbox .field-description {
  /* Disable default description field for checkbox:
   because other widgets do not have description fields,
   we add descriptions to each widget on the field level.
  */
  display: none;
}

.jp-FormGroup-content #root__description {
  display: none;
}

.jp-FormGroup-content .jp-modifiedIndicator {
  width: 5px;
  background-color: var(--jp-brand-color2);
  margin-top: 0;
  margin-left: calc(var(--jp-private-settingeditor-modifier-indent) * -1);
  flex-shrink: 0;
}

.jp-FormGroup-content .jp-modifiedIndicator.jp-errorIndicator {
  background-color: var(--jp-error-color0);
  margin-right: 0.5em;
}

/* RJSF ARRAY style */

.jp-arrayFieldWrapper legend {
  font-size: var(--jp-content-font-size2);
  color: var(--jp-ui-font-color0);
  flex-basis: 100%;
  padding: 4px 0;
  font-weight: var(--jp-content-heading-font-weight);
  border-bottom: 1px solid var(--jp-border-color2);
}

.jp-arrayFieldWrapper .field-description {
  padding: 4px 0;
  white-space: pre-wrap;
}

.jp-arrayFieldWrapper .array-item {
  width: 100%;
  border: 1px solid var(--jp-border-color2);
  border-radius: 4px;
  margin: 4px;
}

.jp-ArrayOperations {
  display: flex;
  margin-left: 8px;
}

.jp-ArrayOperationsButton {
  margin: 2px;
}

.jp-ArrayOperationsButton .jp-icon3[fill] {
  fill: var(--jp-ui-font-color0);
}

button.jp-ArrayOperationsButton.jp-mod-styled:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

/* RJSF form validation error */

.jp-FormGroup-content .validationErrors {
  color: var(--jp-error-color0);
}

/* Hide panel level error as duplicated the field level error */
.jp-FormGroup-content .panel.errors {
  display: none;
}

/* RJSF normal content (settings-editor) */

.jp-FormGroup-contentNormal {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
}

.jp-FormGroup-contentNormal .jp-FormGroup-contentItem {
  margin-left: 7px;
  color: var(--jp-ui-font-color0);
}

.jp-FormGroup-contentNormal .jp-FormGroup-description {
  flex-basis: 100%;
  padding: 4px 7px;
}

.jp-FormGroup-contentNormal .jp-FormGroup-default {
  flex-basis: 100%;
  padding: 4px 7px;
}

.jp-FormGroup-contentNormal .jp-FormGroup-fieldLabel {
  font-size: var(--jp-content-font-size1);
  font-weight: normal;
  min-width: 120px;
}

.jp-FormGroup-contentNormal fieldset:not(:first-child) {
  margin-left: 7px;
}

.jp-FormGroup-contentNormal .field-array-of-string .array-item {
  /* Display `jp-ArrayOperations` buttons side-by-side with content except
    for small screens where flex-wrap will place them one below the other.
  */
  display: flex;
  align-items: center;
  flex-wrap: wrap;
}

.jp-FormGroup-contentNormal .jp-objectFieldWrapper .form-group {
  padding: 2px 8px 2px var(--jp-private-settingeditor-modifier-indent);
  margin-top: 2px;
}

/* RJSF compact content (metadata-form) */

.jp-FormGroup-content.jp-FormGroup-contentCompact {
  width: 100%;
}

.jp-FormGroup-contentCompact .form-group {
  display: flex;
  padding: 0.5em 0.2em 0.5em 0;
}

.jp-FormGroup-contentCompact
  .jp-FormGroup-compactTitle
  .jp-FormGroup-description {
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color2);
}

.jp-FormGroup-contentCompact .jp-FormGroup-fieldLabel {
  padding-bottom: 0.3em;
}

.jp-FormGroup-contentCompact .jp-inputFieldWrapper .form-control {
  width: 100%;
  box-sizing: border-box;
}

.jp-FormGroup-contentCompact .jp-arrayFieldWrapper .jp-FormGroup-compactTitle {
  padding-bottom: 7px;
}

.jp-FormGroup-contentCompact
  .jp-objectFieldWrapper
  .jp-objectFieldWrapper
  .form-group {
  padding: 2px 8px 2px var(--jp-private-settingeditor-modifier-indent);
  margin-top: 2px;
}

.jp-FormGroup-contentCompact ul.error-detail {
  margin-block-start: 0.5em;
  margin-block-end: 0.5em;
  padding-inline-start: 1em;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-SidePanel {
  display: flex;
  flex-direction: column;
  min-width: var(--jp-sidebar-min-width);
  overflow-y: auto;
  color: var(--jp-ui-font-color1);
  background: var(--jp-layout-color1);
  font-size: var(--jp-ui-font-size1);
}

.jp-SidePanel-header {
  flex: 0 0 auto;
  display: flex;
  border-bottom: var(--jp-border-width) solid var(--jp-border-color2);
  font-size: var(--jp-ui-font-size0);
  font-weight: 600;
  letter-spacing: 1px;
  margin: 0;
  padding: 2px;
  text-transform: uppercase;
}

.jp-SidePanel-toolbar {
  flex: 0 0 auto;
}

.jp-SidePanel-content {
  flex: 1 1 auto;
}

.jp-SidePanel-toolbar,
.jp-AccordionPanel-toolbar {
  height: var(--jp-private-toolbar-height);
}

.jp-SidePanel-toolbar.jp-Toolbar-micro {
  display: none;
}

.lm-AccordionPanel .jp-AccordionPanel-title {
  box-sizing: border-box;
  line-height: 25px;
  margin: 0;
  display: flex;
  align-items: center;
  background: var(--jp-layout-color1);
  color: var(--jp-ui-font-color1);
  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  box-shadow: var(--jp-toolbar-box-shadow);
  font-size: var(--jp-ui-font-size0);
}

.jp-AccordionPanel-title {
  cursor: pointer;
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  text-transform: uppercase;
}

.lm-AccordionPanel[data-orientation='horizontal'] > .jp-AccordionPanel-title {
  /* Title is rotated for horizontal accordion panel using CSS */
  display: block;
  transform-origin: top left;
  transform: rotate(-90deg) translate(-100%);
}

.jp-AccordionPanel-title .lm-AccordionPanel-titleLabel {
  user-select: none;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}

.jp-AccordionPanel-title .lm-AccordionPanel-titleCollapser {
  transform: rotate(-90deg);
  margin: auto 0;
  height: 16px;
}

.jp-AccordionPanel-title.lm-mod-expanded .lm-AccordionPanel-titleCollapser {
  transform: rotate(0deg);
}

.lm-AccordionPanel .jp-AccordionPanel-toolbar {
  background: none;
  box-shadow: none;
  border: none;
  margin-left: auto;
}

.lm-AccordionPanel .lm-SplitPanel-handle:hover {
  background: var(--jp-layout-color3);
}

.jp-text-truncated {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2017, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-Spinner {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: var(--jp-layout-color0);
  outline: none;
}

.jp-SpinnerContent {
  font-size: 10px;
  margin: 50px auto;
  text-indent: -9999em;
  width: 3em;
  height: 3em;
  border-radius: 50%;
  background: var(--jp-brand-color3);
  background: linear-gradient(
    to right,
    #f37626 10%,
    rgba(255, 255, 255, 0) 42%
  );
  position: relative;
  animation: load3 1s infinite linear, fadeIn 1s;
}

.jp-SpinnerContent::before {
  width: 50%;
  height: 50%;
  background: #f37626;
  border-radius: 100% 0 0;
  position: absolute;
  top: 0;
  left: 0;
  content: '';
}

.jp-SpinnerContent::after {
  background: var(--jp-layout-color0);
  width: 75%;
  height: 75%;
  border-radius: 50%;
  content: '';
  margin: auto;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
}

@keyframes fadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

@keyframes load3 {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2017, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

button.jp-mod-styled {
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color0);
  border: none;
  box-sizing: border-box;
  text-align: center;
  line-height: 32px;
  height: 32px;
  padding: 0 12px;
  letter-spacing: 0.8px;
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

input.jp-mod-styled {
  background: var(--jp-input-background);
  height: 28px;
  box-sizing: border-box;
  border: var(--jp-border-width) solid var(--jp-border-color1);
  padding-left: 7px;
  padding-right: 7px;
  font-size: var(--jp-ui-font-size2);
  color: var(--jp-ui-font-color0);
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

input[type='checkbox'].jp-mod-styled {
  appearance: checkbox;
  -webkit-appearance: checkbox;
  -moz-appearance: checkbox;
  height: auto;
}

input.jp-mod-styled:focus {
  border: var(--jp-border-width) solid var(--md-blue-500);
  box-shadow: inset 0 0 4px var(--md-blue-300);
}

.jp-select-wrapper {
  display: flex;
  position: relative;
  flex-direction: column;
  padding: 1px;
  background-color: var(--jp-layout-color1);
  box-sizing: border-box;
  margin-bottom: 12px;
}

.jp-select-wrapper:not(.multiple) {
  height: 28px;
}

.jp-select-wrapper.jp-mod-focused select.jp-mod-styled {
  border: var(--jp-border-width) solid var(--jp-input-active-border-color);
  box-shadow: var(--jp-input-box-shadow);
  background-color: var(--jp-input-active-background);
}

select.jp-mod-styled:hover {
  cursor: pointer;
  color: var(--jp-ui-font-color0);
  background-color: var(--jp-input-hover-background);
  box-shadow: inset 0 0 1px rgba(0, 0, 0, 0.5);
}

select.jp-mod-styled {
  flex: 1 1 auto;
  width: 100%;
  font-size: var(--jp-ui-font-size2);
  background: var(--jp-input-background);
  color: var(--jp-ui-font-color0);
  padding: 0 25px 0 8px;
  border: var(--jp-border-width) solid var(--jp-input-border-color);
  border-radius: 0;
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

select.jp-mod-styled:not([multiple]) {
  height: 32px;
}

select.jp-mod-styled[multiple] {
  max-height: 200px;
  overflow-y: auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-switch {
  display: flex;
  align-items: center;
  padding-left: 4px;
  padding-right: 4px;
  font-size: var(--jp-ui-font-size1);
  background-color: transparent;
  color: var(--jp-ui-font-color1);
  border: none;
  height: 20px;
}

.jp-switch:hover {
  background-color: var(--jp-layout-color2);
}

.jp-switch-label {
  margin-right: 5px;
  font-family: var(--jp-ui-font-family);
}

.jp-switch-track {
  cursor: pointer;
  background-color: var(--jp-switch-color, var(--jp-border-color1));
  -webkit-transition: 0.4s;
  transition: 0.4s;
  border-radius: 34px;
  height: 16px;
  width: 35px;
  position: relative;
}

.jp-switch-track::before {
  content: '';
  position: absolute;
  height: 10px;
  width: 10px;
  margin: 3px;
  left: 0;
  background-color: var(--jp-ui-inverse-font-color1);
  -webkit-transition: 0.4s;
  transition: 0.4s;
  border-radius: 50%;
}

.jp-switch[aria-checked='true'] .jp-switch-track {
  background-color: var(--jp-switch-true-position-color, var(--jp-warn-color0));
}

.jp-switch[aria-checked='true'] .jp-switch-track::before {
  /* track width (35) - margins (3 + 3) - thumb width (10) */
  left: 19px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2016, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

:root {
  --jp-private-toolbar-height: calc(
    28px + var(--jp-border-width)
  ); /* leave 28px for content */
}

.jp-Toolbar {
  color: var(--jp-ui-font-color1);
  flex: 0 0 auto;
  display: flex;
  flex-direction: row;
  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  box-shadow: var(--jp-toolbar-box-shadow);
  background: var(--jp-toolbar-background);
  min-height: var(--jp-toolbar-micro-height);
  padding: 2px;
  z-index: 8;
  overflow-x: hidden;
}

/* Toolbar items */

.jp-Toolbar > .jp-Toolbar-item.jp-Toolbar-spacer {
  flex-grow: 1;
  flex-shrink: 1;
}

.jp-Toolbar-item.jp-Toolbar-kernelStatus {
  display: inline-block;
  width: 32px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 16px;
}

.jp-Toolbar > .jp-Toolbar-item {
  flex: 0 0 auto;
  display: flex;
  padding-left: 1px;
  padding-right: 1px;
  font-size: var(--jp-ui-font-size1);
  line-height: var(--jp-private-toolbar-height);
  height: 100%;
}

/* Toolbar buttons */

/* This is the div we use to wrap the react component into a Widget */
div.jp-ToolbarButton {
  color: transparent;
  border: none;
  box-sizing: border-box;
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  padding: 0;
  margin: 0;
}

button.jp-ToolbarButtonComponent {
  background: var(--jp-layout-color1);
  border: none;
  box-sizing: border-box;
  outline: none;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  padding: 0 6px;
  margin: 0;
  height: 24px;
  border-radius: var(--jp-border-radius);
  display: flex;
  align-items: center;
  text-align: center;
  font-size: 14px;
  min-width: unset;
  min-height: unset;
}

button.jp-ToolbarButtonComponent:disabled {
  opacity: 0.4;
}

button.jp-ToolbarButtonComponent > span {
  padding: 0;
  flex: 0 0 auto;
}

button.jp-ToolbarButtonComponent .jp-ToolbarButtonComponent-label {
  font-size: var(--jp-ui-font-size1);
  line-height: 100%;
  padding-left: 2px;
  color: var(--jp-ui-font-color1);
  font-family: var(--jp-ui-font-family);
}

#jp-main-dock-panel[data-mode='single-document']
  .jp-MainAreaWidget
  > .jp-Toolbar.jp-Toolbar-micro {
  padding: 0;
  min-height: 0;
}

#jp-main-dock-panel[data-mode='single-document']
  .jp-MainAreaWidget
  > .jp-Toolbar {
  border: none;
  box-shadow: none;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-WindowedPanel-outer {
  position: relative;
  overflow-y: auto;
}

.jp-WindowedPanel-inner {
  position: relative;
}

.jp-WindowedPanel-window {
  position: absolute;
  left: 0;
  right: 0;
  overflow: visible;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/* Sibling imports */

body {
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
}

/* Disable native link decoration styles everywhere outside of dialog boxes */
a {
  text-decoration: unset;
  color: unset;
}

a:hover {
  text-decoration: unset;
  color: unset;
}

/* Accessibility for links inside dialog box text */
.jp-Dialog-content a {
  text-decoration: revert;
  color: var(--jp-content-link-color);
}

.jp-Dialog-content a:hover {
  text-decoration: revert;
}

/* Styles for ui-components */
.jp-Button {
  color: var(--jp-ui-font-color2);
  border-radius: var(--jp-border-radius);
  padding: 0 12px;
  font-size: var(--jp-ui-font-size1);

  /* Copy from blueprint 3 */
  display: inline-flex;
  flex-direction: row;
  border: none;
  cursor: pointer;
  align-items: center;
  justify-content: center;
  text-align: left;
  vertical-align: middle;
  min-height: 30px;
  min-width: 30px;
}

.jp-Button:disabled {
  cursor: not-allowed;
}

.jp-Button:empty {
  padding: 0 !important;
}

.jp-Button.jp-mod-small {
  min-height: 24px;
  min-width: 24px;
  font-size: 12px;
  padding: 0 7px;
}

/* Use our own theme for hover styles */
.jp-Button.jp-mod-minimal:hover {
  background-color: var(--jp-layout-color2);
}

.jp-Button.jp-mod-minimal {
  background: none;
}

.jp-InputGroup {
  display: block;
  position: relative;
}

.jp-InputGroup input {
  box-sizing: border-box;
  border: none;
  border-radius: 0;
  background-color: transparent;
  color: var(--jp-ui-font-color0);
  box-shadow: inset 0 0 0 var(--jp-border-width) var(--jp-input-border-color);
  padding-bottom: 0;
  padding-top: 0;
  padding-left: 10px;
  padding-right: 28px;
  position: relative;
  width: 100%;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  font-size: 14px;
  font-weight: 400;
  height: 30px;
  line-height: 30px;
  outline: none;
  vertical-align: middle;
}

.jp-InputGroup input:focus {
  box-shadow: inset 0 0 0 var(--jp-border-width)
      var(--jp-input-active-box-shadow-color),
    inset 0 0 0 3px var(--jp-input-active-box-shadow-color);
}

.jp-InputGroup input:disabled {
  cursor: not-allowed;
  resize: block;
  background-color: var(--jp-layout-color2);
  color: var(--jp-ui-font-color2);
}

.jp-InputGroup input:disabled ~ span {
  cursor: not-allowed;
  color: var(--jp-ui-font-color2);
}

.jp-InputGroup input::placeholder,
input::placeholder {
  color: var(--jp-ui-font-color2);
}

.jp-InputGroupAction {
  position: absolute;
  bottom: 1px;
  right: 0;
  padding: 6px;
}

.jp-HTMLSelect.jp-DefaultStyle select {
  background-color: initial;
  border: none;
  border-radius: 0;
  box-shadow: none;
  color: var(--jp-ui-font-color0);
  display: block;
  font-size: var(--jp-ui-font-size1);
  font-family: var(--jp-ui-font-family);
  height: 24px;
  line-height: 14px;
  padding: 0 25px 0 10px;
  text-align: left;
  -moz-appearance: none;
  -webkit-appearance: none;
}

.jp-HTMLSelect.jp-DefaultStyle select:disabled {
  background-color: var(--jp-layout-color2);
  color: var(--jp-ui-font-color2);
  cursor: not-allowed;
  resize: block;
}

.jp-HTMLSelect.jp-DefaultStyle select:disabled ~ span {
  cursor: not-allowed;
}

/* Use our own theme for hover and option styles */
/* stylelint-disable-next-line selector-max-type */
.jp-HTMLSelect.jp-DefaultStyle select:hover,
.jp-HTMLSelect.jp-DefaultStyle select > option {
  background-color: var(--jp-layout-color2);
  color: var(--jp-ui-font-color0);
}

select {
  box-sizing: border-box;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Styles
|----------------------------------------------------------------------------*/

.jp-StatusBar-Widget {
  display: flex;
  align-items: center;
  background: var(--jp-layout-color2);
  min-height: var(--jp-statusbar-height);
  justify-content: space-between;
  padding: 0 10px;
}

.jp-StatusBar-Left {
  display: flex;
  align-items: center;
  flex-direction: row;
}

.jp-StatusBar-Middle {
  display: flex;
  align-items: center;
}

.jp-StatusBar-Right {
  display: flex;
  align-items: center;
  flex-direction: row-reverse;
}

.jp-StatusBar-Item {
  max-height: var(--jp-statusbar-height);
  margin: 0 2px;
  height: var(--jp-statusbar-height);
  white-space: nowrap;
  text-overflow: ellipsis;
  color: var(--jp-ui-font-color1);
  padding: 0 6px;
}

.jp-mod-highlighted:hover {
  background-color: var(--jp-layout-color3);
}

.jp-mod-clicked {
  background-color: var(--jp-brand-color1);
}

.jp-mod-clicked:hover {
  background-color: var(--jp-brand-color0);
}

.jp-mod-clicked .jp-StatusBar-TextItem {
  color: var(--jp-ui-inverse-font-color1);
}

.jp-StatusBar-HoverItem {
  box-shadow: '0px 4px 4px rgba(0, 0, 0, 0.25)';
}

.jp-StatusBar-TextItem {
  font-size: var(--jp-ui-font-size1);
  font-family: var(--jp-ui-font-family);
  line-height: 24px;
  color: var(--jp-ui-font-color1);
}

.jp-StatusBar-GroupItem {
  display: flex;
  align-items: center;
  flex-direction: row;
}

.jp-Statusbar-ProgressCircle svg {
  display: block;
  margin: 0 auto;
  width: 16px;
  height: 24px;
  align-self: normal;
}

.jp-Statusbar-ProgressCircle path {
  fill: var(--jp-inverse-layout-color3);
}

.jp-Statusbar-ProgressBar-progress-bar {
  height: 10px;
  width: 100px;
  border: solid 0.25px var(--jp-brand-color2);
  border-radius: 3px;
  overflow: hidden;
  align-self: center;
}

.jp-Statusbar-ProgressBar-progress-bar > div {
  background-color: var(--jp-brand-color2);
  background-image: linear-gradient(
    -45deg,
    rgba(255, 255, 255, 0.2) 25%,
    transparent 25%,
    transparent 50%,
    rgba(255, 255, 255, 0.2) 50%,
    rgba(255, 255, 255, 0.2) 75%,
    transparent 75%,
    transparent
  );
  background-size: 40px 40px;
  float: left;
  width: 0%;
  height: 100%;
  font-size: 12px;
  line-height: 14px;
  color: #fff;
  text-align: center;
  animation: jp-Statusbar-ExecutionTime-progress-bar 2s linear infinite;
}

.jp-Statusbar-ProgressBar-progress-bar p {
  color: var(--jp-ui-font-color1);
  font-family: var(--jp-ui-font-family);
  font-size: var(--jp-ui-font-size1);
  line-height: 10px;
  width: 100px;
}

@keyframes jp-Statusbar-ExecutionTime-progress-bar {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 40px 40px;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Variables
|----------------------------------------------------------------------------*/

:root {
  --jp-private-commandpalette-search-height: 28px;
}

/*-----------------------------------------------------------------------------
| Overall styles
|----------------------------------------------------------------------------*/

.lm-CommandPalette {
  padding-bottom: 0;
  color: var(--jp-ui-font-color1);
  background: var(--jp-layout-color1);

  /* This is needed so that all font sizing of children done in ems is
   * relative to this base size */
  font-size: var(--jp-ui-font-size1);
}

/*-----------------------------------------------------------------------------
| Modal variant
|----------------------------------------------------------------------------*/

.jp-ModalCommandPalette {
  position: absolute;
  z-index: 10000;
  top: 38px;
  left: 30%;
  margin: 0;
  padding: 4px;
  width: 40%;
  box-shadow: var(--jp-elevation-z4);
  border-radius: 4px;
  background: var(--jp-layout-color0);
}

.jp-ModalCommandPalette .lm-CommandPalette {
  max-height: 40vh;
}

.jp-ModalCommandPalette .lm-CommandPalette .lm-close-icon::after {
  display: none;
}

.jp-ModalCommandPalette .lm-CommandPalette .lm-CommandPalette-header {
  display: none;
}

.jp-ModalCommandPalette .lm-CommandPalette .lm-CommandPalette-item {
  margin-left: 4px;
  margin-right: 4px;
}

.jp-ModalCommandPalette
  .lm-CommandPalette
  .lm-CommandPalette-item.lm-mod-disabled {
  display: none;
}

/*-----------------------------------------------------------------------------
| Search
|----------------------------------------------------------------------------*/

.lm-CommandPalette-search {
  padding: 4px;
  background-color: var(--jp-layout-color1);
  z-index: 2;
}

.lm-CommandPalette-wrapper {
  overflow: overlay;
  padding: 0 9px;
  background-color: var(--jp-input-active-background);
  height: 30px;
  box-shadow: inset 0 0 0 var(--jp-border-width) var(--jp-input-border-color);
}

.lm-CommandPalette.lm-mod-focused .lm-CommandPalette-wrapper {
  box-shadow: inset 0 0 0 1px var(--jp-input-active-box-shadow-color),
    inset 0 0 0 3px var(--jp-input-active-box-shadow-color);
}

.jp-SearchIconGroup {
  color: white;
  background-color: var(--jp-brand-color1);
  position: absolute;
  top: 4px;
  right: 4px;
  padding: 5px 5px 1px;
}

.jp-SearchIconGroup svg {
  height: 20px;
  width: 20px;
}

.jp-SearchIconGroup .jp-icon3[fill] {
  fill: var(--jp-layout-color0);
}

.lm-CommandPalette-input {
  background: transparent;
  width: calc(100% - 18px);
  float: left;
  border: none;
  outline: none;
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color0);
  line-height: var(--jp-private-commandpalette-search-height);
}

.lm-CommandPalette-input::-webkit-input-placeholder,
.lm-CommandPalette-input::-moz-placeholder,
.lm-CommandPalette-input:-ms-input-placeholder {
  color: var(--jp-ui-font-color2);
  font-size: var(--jp-ui-font-size1);
}

/*-----------------------------------------------------------------------------
| Results
|----------------------------------------------------------------------------*/

.lm-CommandPalette-header:first-child {
  margin-top: 0;
}

.lm-CommandPalette-header {
  border-bottom: solid var(--jp-border-width) var(--jp-border-color2);
  color: var(--jp-ui-font-color1);
  cursor: pointer;
  display: flex;
  font-size: var(--jp-ui-font-size0);
  font-weight: 600;
  letter-spacing: 1px;
  margin-top: 8px;
  padding: 8px 0 8px 12px;
  text-transform: uppercase;
}

.lm-CommandPalette-header.lm-mod-active {
  background: var(--jp-layout-color2);
}

.lm-CommandPalette-header > mark {
  background-color: transparent;
  font-weight: bold;
  color: var(--jp-ui-font-color1);
}

.lm-CommandPalette-item {
  padding: 4px 12px 4px 4px;
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
  font-weight: 400;
  display: flex;
}

.lm-CommandPalette-item.lm-mod-disabled {
  color: var(--jp-ui-font-color2);
}

.lm-CommandPalette-item.lm-mod-active {
  color: var(--jp-ui-inverse-font-color1);
  background: var(--jp-brand-color1);
}

.lm-CommandPalette-item.lm-mod-active .lm-CommandPalette-itemLabel > mark {
  color: var(--jp-ui-inverse-font-color0);
}

.lm-CommandPalette-item.lm-mod-active .jp-icon-selectable[fill] {
  fill: var(--jp-layout-color0);
}

.lm-CommandPalette-item.lm-mod-active:hover:not(.lm-mod-disabled) {
  color: var(--jp-ui-inverse-font-color1);
  background: var(--jp-brand-color1);
}

.lm-CommandPalette-item:hover:not(.lm-mod-active):not(.lm-mod-disabled) {
  background: var(--jp-layout-color2);
}

.lm-CommandPalette-itemContent {
  overflow: hidden;
}

.lm-CommandPalette-itemLabel > mark {
  color: var(--jp-ui-font-color0);
  background-color: transparent;
  font-weight: bold;
}

.lm-CommandPalette-item.lm-mod-disabled mark {
  color: var(--jp-ui-font-color2);
}

.lm-CommandPalette-item .lm-CommandPalette-itemIcon {
  margin: 0 4px 0 0;
  position: relative;
  width: 16px;
  top: 2px;
  flex: 0 0 auto;
}

.lm-CommandPalette-item.lm-mod-disabled .lm-CommandPalette-itemIcon {
  opacity: 0.6;
}

.lm-CommandPalette-item .lm-CommandPalette-itemShortcut {
  flex: 0 0 auto;
}

.lm-CommandPalette-itemCaption {
  display: none;
}

.lm-CommandPalette-content {
  background-color: var(--jp-layout-color1);
}

.lm-CommandPalette-content:empty::after {
  content: 'No results';
  margin: auto;
  margin-top: 20px;
  width: 100px;
  display: block;
  font-size: var(--jp-ui-font-size2);
  font-family: var(--jp-ui-font-family);
  font-weight: lighter;
}

.lm-CommandPalette-emptyMessage {
  text-align: center;
  margin-top: 24px;
  line-height: 1.32;
  padding: 0 8px;
  color: var(--jp-content-font-color3);
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2017, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-Dialog {
  position: absolute;
  z-index: 10000;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: 0;
  left: 0;
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  background: var(--jp-dialog-background);
}

.jp-Dialog-content {
  display: flex;
  flex-direction: column;
  margin-left: auto;
  margin-right: auto;
  background: var(--jp-layout-color1);
  padding: 24px 24px 12px;
  min-width: 300px;
  min-height: 150px;
  max-width: 1000px;
  max-height: 500px;
  box-sizing: border-box;
  box-shadow: var(--jp-elevation-z20);
  word-wrap: break-word;
  border-radius: var(--jp-border-radius);

  /* This is needed so that all font sizing of children done in ems is
   * relative to this base size */
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color1);
  resize: both;
}

.jp-Dialog-content.jp-Dialog-content-small {
  max-width: 500px;
}

.jp-Dialog-button {
  overflow: visible;
}

button.jp-Dialog-button:focus {
  outline: 1px solid var(--jp-brand-color1);
  outline-offset: 4px;
  -moz-outline-radius: 0;
}

button.jp-Dialog-button:focus::-moz-focus-inner {
  border: 0;
}

button.jp-Dialog-button.jp-mod-styled.jp-mod-accept:focus,
button.jp-Dialog-button.jp-mod-styled.jp-mod-warn:focus,
button.jp-Dialog-button.jp-mod-styled.jp-mod-reject:focus {
  outline-offset: 4px;
  -moz-outline-radius: 0;
}

button.jp-Dialog-button.jp-mod-styled.jp-mod-accept:focus {
  outline: 1px solid var(--jp-accept-color-normal, var(--jp-brand-color1));
}

button.jp-Dialog-button.jp-mod-styled.jp-mod-warn:focus {
  outline: 1px solid var(--jp-warn-color-normal, var(--jp-error-color1));
}

button.jp-Dialog-button.jp-mod-styled.jp-mod-reject:focus {
  outline: 1px solid var(--jp-reject-color-normal, var(--md-grey-600));
}

button.jp-Dialog-close-button {
  padding: 0;
  height: 100%;
  min-width: unset;
  min-height: unset;
}

.jp-Dialog-header {
  display: flex;
  justify-content: space-between;
  flex: 0 0 auto;
  padding-bottom: 12px;
  font-size: var(--jp-ui-font-size3);
  font-weight: 400;
  color: var(--jp-ui-font-color1);
}

.jp-Dialog-body {
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
  font-size: var(--jp-ui-font-size1);
  background: var(--jp-layout-color1);
  color: var(--jp-ui-font-color1);
  overflow: auto;
}

.jp-Dialog-footer {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  align-items: center;
  flex: 0 0 auto;
  margin-left: -12px;
  margin-right: -12px;
  padding: 12px;
}

.jp-Dialog-checkbox {
  padding-right: 5px;
}

.jp-Dialog-checkbox > input:focus-visible {
  outline: 1px solid var(--jp-input-active-border-color);
  outline-offset: 1px;
}

.jp-Dialog-spacer {
  flex: 1 1 auto;
}

.jp-Dialog-title {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.jp-Dialog-body > .jp-select-wrapper {
  width: 100%;
}

.jp-Dialog-body > button {
  padding: 0 16px;
}

.jp-Dialog-body > label {
  line-height: 1.4;
  color: var(--jp-ui-font-color0);
}

.jp-Dialog-button.jp-mod-styled:not(:last-child) {
  margin-right: 12px;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-Input-Boolean-Dialog {
  flex-direction: row-reverse;
  align-items: end;
  width: 100%;
}

.jp-Input-Boolean-Dialog > label {
  flex: 1 1 auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2016, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-MainAreaWidget > :focus {
  outline: none;
}

.jp-MainAreaWidget .jp-MainAreaWidget-error {
  padding: 6px;
}

.jp-MainAreaWidget .jp-MainAreaWidget-error > pre {
  width: auto;
  padding: 10px;
  background: var(--jp-error-color3);
  border: var(--jp-border-width) solid var(--jp-error-color1);
  border-radius: var(--jp-border-radius);
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
  white-space: pre-wrap;
  word-wrap: break-word;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/**
 * google-material-color v1.2.6
 * https://github.com/danlevan/google-material-color
 */
:root {
  --md-red-50: #ffebee;
  --md-red-100: #ffcdd2;
  --md-red-200: #ef9a9a;
  --md-red-300: #e57373;
  --md-red-400: #ef5350;
  --md-red-500: #f44336;
  --md-red-600: #e53935;
  --md-red-700: #d32f2f;
  --md-red-800: #c62828;
  --md-red-900: #b71c1c;
  --md-red-A100: #ff8a80;
  --md-red-A200: #ff5252;
  --md-red-A400: #ff1744;
  --md-red-A700: #d50000;
  --md-pink-50: #fce4ec;
  --md-pink-100: #f8bbd0;
  --md-pink-200: #f48fb1;
  --md-pink-300: #f06292;
  --md-pink-400: #ec407a;
  --md-pink-500: #e91e63;
  --md-pink-600: #d81b60;
  --md-pink-700: #c2185b;
  --md-pink-800: #ad1457;
  --md-pink-900: #880e4f;
  --md-pink-A100: #ff80ab;
  --md-pink-A200: #ff4081;
  --md-pink-A400: #f50057;
  --md-pink-A700: #c51162;
  --md-purple-50: #f3e5f5;
  --md-purple-100: #e1bee7;
  --md-purple-200: #ce93d8;
  --md-purple-300: #ba68c8;
  --md-purple-400: #ab47bc;
  --md-purple-500: #9c27b0;
  --md-purple-600: #8e24aa;
  --md-purple-700: #7b1fa2;
  --md-purple-800: #6a1b9a;
  --md-purple-900: #4a148c;
  --md-purple-A100: #ea80fc;
  --md-purple-A200: #e040fb;
  --md-purple-A400: #d500f9;
  --md-purple-A700: #a0f;
  --md-deep-purple-50: #ede7f6;
  --md-deep-purple-100: #d1c4e9;
  --md-deep-purple-200: #b39ddb;
  --md-deep-purple-300: #9575cd;
  --md-deep-purple-400: #7e57c2;
  --md-deep-purple-500: #673ab7;
  --md-deep-purple-600: #5e35b1;
  --md-deep-purple-700: #512da8;
  --md-deep-purple-800: #4527a0;
  --md-deep-purple-900: #311b92;
  --md-deep-purple-A100: #b388ff;
  --md-deep-purple-A200: #7c4dff;
  --md-deep-purple-A400: #651fff;
  --md-deep-purple-A700: #6200ea;
  --md-indigo-50: #e8eaf6;
  --md-indigo-100: #c5cae9;
  --md-indigo-200: #9fa8da;
  --md-indigo-300: #7986cb;
  --md-indigo-400: #5c6bc0;
  --md-indigo-500: #3f51b5;
  --md-indigo-600: #3949ab;
  --md-indigo-700: #303f9f;
  --md-indigo-800: #283593;
  --md-indigo-900: #1a237e;
  --md-indigo-A100: #8c9eff;
  --md-indigo-A200: #536dfe;
  --md-indigo-A400: #3d5afe;
  --md-indigo-A700: #304ffe;
  --md-blue-50: #e3f2fd;
  --md-blue-100: #bbdefb;
  --md-blue-200: #90caf9;
  --md-blue-300: #64b5f6;
  --md-blue-400: #42a5f5;
  --md-blue-500: #2196f3;
  --md-blue-600: #1e88e5;
  --md-blue-700: #1976d2;
  --md-blue-800: #1565c0;
  --md-blue-900: #0d47a1;
  --md-blue-A100: #82b1ff;
  --md-blue-A200: #448aff;
  --md-blue-A400: #2979ff;
  --md-blue-A700: #2962ff;
  --md-light-blue-50: #e1f5fe;
  --md-light-blue-100: #b3e5fc;
  --md-light-blue-200: #81d4fa;
  --md-light-blue-300: #4fc3f7;
  --md-light-blue-400: #29b6f6;
  --md-light-blue-500: #03a9f4;
  --md-light-blue-600: #039be5;
  --md-light-blue-700: #0288d1;
  --md-light-blue-800: #0277bd;
  --md-light-blue-900: #01579b;
  --md-light-blue-A100: #80d8ff;
  --md-light-blue-A200: #40c4ff;
  --md-light-blue-A400: #00b0ff;
  --md-light-blue-A700: #0091ea;
  --md-cyan-50: #e0f7fa;
  --md-cyan-100: #b2ebf2;
  --md-cyan-200: #80deea;
  --md-cyan-300: #4dd0e1;
  --md-cyan-400: #26c6da;
  --md-cyan-500: #00bcd4;
  --md-cyan-600: #00acc1;
  --md-cyan-700: #0097a7;
  --md-cyan-800: #00838f;
  --md-cyan-900: #006064;
  --md-cyan-A100: #84ffff;
  --md-cyan-A200: #18ffff;
  --md-cyan-A400: #00e5ff;
  --md-cyan-A700: #00b8d4;
  --md-teal-50: #e0f2f1;
  --md-teal-100: #b2dfdb;
  --md-teal-200: #80cbc4;
  --md-teal-300: #4db6ac;
  --md-teal-400: #26a69a;
  --md-teal-500: #009688;
  --md-teal-600: #00897b;
  --md-teal-700: #00796b;
  --md-teal-800: #00695c;
  --md-teal-900: #004d40;
  --md-teal-A100: #a7ffeb;
  --md-teal-A200: #64ffda;
  --md-teal-A400: #1de9b6;
  --md-teal-A700: #00bfa5;
  --md-green-50: #e8f5e9;
  --md-green-100: #c8e6c9;
  --md-green-200: #a5d6a7;
  --md-green-300: #81c784;
  --md-green-400: #66bb6a;
  --md-green-500: #4caf50;
  --md-green-600: #43a047;
  --md-green-700: #388e3c;
  --md-green-800: #2e7d32;
  --md-green-900: #1b5e20;
  --md-green-A100: #b9f6ca;
  --md-green-A200: #69f0ae;
  --md-green-A400: #00e676;
  --md-green-A700: #00c853;
  --md-light-green-50: #f1f8e9;
  --md-light-green-100: #dcedc8;
  --md-light-green-200: #c5e1a5;
  --md-light-green-300: #aed581;
  --md-light-green-400: #9ccc65;
  --md-light-green-500: #8bc34a;
  --md-light-green-600: #7cb342;
  --md-light-green-700: #689f38;
  --md-light-green-800: #558b2f;
  --md-light-green-900: #33691e;
  --md-light-green-A100: #ccff90;
  --md-light-green-A200: #b2ff59;
  --md-light-green-A400: #76ff03;
  --md-light-green-A700: #64dd17;
  --md-lime-50: #f9fbe7;
  --md-lime-100: #f0f4c3;
  --md-lime-200: #e6ee9c;
  --md-lime-300: #dce775;
  --md-lime-400: #d4e157;
  --md-lime-500: #cddc39;
  --md-lime-600: #c0ca33;
  --md-lime-700: #afb42b;
  --md-lime-800: #9e9d24;
  --md-lime-900: #827717;
  --md-lime-A100: #f4ff81;
  --md-lime-A200: #eeff41;
  --md-lime-A400: #c6ff00;
  --md-lime-A700: #aeea00;
  --md-yellow-50: #fffde7;
  --md-yellow-100: #fff9c4;
  --md-yellow-200: #fff59d;
  --md-yellow-300: #fff176;
  --md-yellow-400: #ffee58;
  --md-yellow-500: #ffeb3b;
  --md-yellow-600: #fdd835;
  --md-yellow-700: #fbc02d;
  --md-yellow-800: #f9a825;
  --md-yellow-900: #f57f17;
  --md-yellow-A100: #ffff8d;
  --md-yellow-A200: #ff0;
  --md-yellow-A400: #ffea00;
  --md-yellow-A700: #ffd600;
  --md-amber-50: #fff8e1;
  --md-amber-100: #ffecb3;
  --md-amber-200: #ffe082;
  --md-amber-300: #ffd54f;
  --md-amber-400: #ffca28;
  --md-amber-500: #ffc107;
  --md-amber-600: #ffb300;
  --md-amber-700: #ffa000;
  --md-amber-800: #ff8f00;
  --md-amber-900: #ff6f00;
  --md-amber-A100: #ffe57f;
  --md-amber-A200: #ffd740;
  --md-amber-A400: #ffc400;
  --md-amber-A700: #ffab00;
  --md-orange-50: #fff3e0;
  --md-orange-100: #ffe0b2;
  --md-orange-200: #ffcc80;
  --md-orange-300: #ffb74d;
  --md-orange-400: #ffa726;
  --md-orange-500: #ff9800;
  --md-orange-600: #fb8c00;
  --md-orange-700: #f57c00;
  --md-orange-800: #ef6c00;
  --md-orange-900: #e65100;
  --md-orange-A100: #ffd180;
  --md-orange-A200: #ffab40;
  --md-orange-A400: #ff9100;
  --md-orange-A700: #ff6d00;
  --md-deep-orange-50: #fbe9e7;
  --md-deep-orange-100: #ffccbc;
  --md-deep-orange-200: #ffab91;
  --md-deep-orange-300: #ff8a65;
  --md-deep-orange-400: #ff7043;
  --md-deep-orange-500: #ff5722;
  --md-deep-orange-600: #f4511e;
  --md-deep-orange-700: #e64a19;
  --md-deep-orange-800: #d84315;
  --md-deep-orange-900: #bf360c;
  --md-deep-orange-A100: #ff9e80;
  --md-deep-orange-A200: #ff6e40;
  --md-deep-orange-A400: #ff3d00;
  --md-deep-orange-A700: #dd2c00;
  --md-brown-50: #efebe9;
  --md-brown-100: #d7ccc8;
  --md-brown-200: #bcaaa4;
  --md-brown-300: #a1887f;
  --md-brown-400: #8d6e63;
  --md-brown-500: #795548;
  --md-brown-600: #6d4c41;
  --md-brown-700: #5d4037;
  --md-brown-800: #4e342e;
  --md-brown-900: #3e2723;
  --md-grey-50: #fafafa;
  --md-grey-100: #f5f5f5;
  --md-grey-200: #eee;
  --md-grey-300: #e0e0e0;
  --md-grey-400: #bdbdbd;
  --md-grey-500: #9e9e9e;
  --md-grey-600: #757575;
  --md-grey-700: #616161;
  --md-grey-800: #424242;
  --md-grey-900: #212121;
  --md-blue-grey-50: #eceff1;
  --md-blue-grey-100: #cfd8dc;
  --md-blue-grey-200: #b0bec5;
  --md-blue-grey-300: #90a4ae;
  --md-blue-grey-400: #78909c;
  --md-blue-grey-500: #607d8b;
  --md-blue-grey-600: #546e7a;
  --md-blue-grey-700: #455a64;
  --md-blue-grey-800: #37474f;
  --md-blue-grey-900: #263238;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2017, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| RenderedText
|----------------------------------------------------------------------------*/

:root {
  /* This is the padding value to fill the gaps between lines containing spans with background color. */
  --jp-private-code-span-padding: calc(
    (var(--jp-code-line-height) - 1) * var(--jp-code-font-size) / 2
  );
}

.jp-RenderedText {
  text-align: left;
  padding-left: var(--jp-code-padding);
  line-height: var(--jp-code-line-height);
  font-family: var(--jp-code-font-family);
}

.jp-RenderedText pre,
.jp-RenderedJavaScript pre,
.jp-RenderedHTMLCommon pre {
  color: var(--jp-content-font-color1);
  font-size: var(--jp-code-font-size);
  border: none;
  margin: 0;
  padding: 0;
}

.jp-RenderedText pre a:link {
  text-decoration: none;
  color: var(--jp-content-link-color);
}

.jp-RenderedText pre a:hover {
  text-decoration: underline;
  color: var(--jp-content-link-color);
}

.jp-RenderedText pre a:visited {
  text-decoration: none;
  color: var(--jp-content-link-color);
}

/* console foregrounds and backgrounds */
.jp-RenderedText pre .ansi-black-fg {
  color: #3e424d;
}

.jp-RenderedText pre .ansi-red-fg {
  color: #e75c58;
}

.jp-RenderedText pre .ansi-green-fg {
  color: #00a250;
}

.jp-RenderedText pre .ansi-yellow-fg {
  color: #ddb62b;
}

.jp-RenderedText pre .ansi-blue-fg {
  color: #208ffb;
}

.jp-RenderedText pre .ansi-magenta-fg {
  color: #d160c4;
}

.jp-RenderedText pre .ansi-cyan-fg {
  color: #60c6c8;
}

.jp-RenderedText pre .ansi-white-fg {
  color: #c5c1b4;
}

.jp-RenderedText pre .ansi-black-bg {
  background-color: #3e424d;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-red-bg {
  background-color: #e75c58;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-green-bg {
  background-color: #00a250;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-yellow-bg {
  background-color: #ddb62b;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-blue-bg {
  background-color: #208ffb;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-magenta-bg {
  background-color: #d160c4;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-cyan-bg {
  background-color: #60c6c8;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-white-bg {
  background-color: #c5c1b4;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-black-intense-fg {
  color: #282c36;
}

.jp-RenderedText pre .ansi-red-intense-fg {
  color: #b22b31;
}

.jp-RenderedText pre .ansi-green-intense-fg {
  color: #007427;
}

.jp-RenderedText pre .ansi-yellow-intense-fg {
  color: #b27d12;
}

.jp-RenderedText pre .ansi-blue-intense-fg {
  color: #0065ca;
}

.jp-RenderedText pre .ansi-magenta-intense-fg {
  color: #a03196;
}

.jp-RenderedText pre .ansi-cyan-intense-fg {
  color: #258f8f;
}

.jp-RenderedText pre .ansi-white-intense-fg {
  color: #a1a6b2;
}

.jp-RenderedText pre .ansi-black-intense-bg {
  background-color: #282c36;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-red-intense-bg {
  background-color: #b22b31;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-green-intense-bg {
  background-color: #007427;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-yellow-intense-bg {
  background-color: #b27d12;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-blue-intense-bg {
  background-color: #0065ca;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-magenta-intense-bg {
  background-color: #a03196;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-cyan-intense-bg {
  background-color: #258f8f;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-white-intense-bg {
  background-color: #a1a6b2;
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-default-inverse-fg {
  color: var(--jp-ui-inverse-font-color0);
}

.jp-RenderedText pre .ansi-default-inverse-bg {
  background-color: var(--jp-inverse-layout-color0);
  padding: var(--jp-private-code-span-padding) 0;
}

.jp-RenderedText pre .ansi-bold {
  font-weight: bold;
}

.jp-RenderedText pre .ansi-underline {
  text-decoration: underline;
}

.jp-RenderedText[data-mime-type='application/vnd.jupyter.stderr'] {
  background: var(--jp-rendermime-error-background);
  padding-top: var(--jp-code-padding);
}

/*-----------------------------------------------------------------------------
| RenderedLatex
|----------------------------------------------------------------------------*/

.jp-RenderedLatex {
  color: var(--jp-content-font-color1);
  font-size: var(--jp-content-font-size1);
  line-height: var(--jp-content-line-height);
}

/* Left-justify outputs.*/
.jp-OutputArea-output.jp-RenderedLatex {
  padding: var(--jp-code-padding);
  text-align: left;
}

/*-----------------------------------------------------------------------------
| RenderedHTML
|----------------------------------------------------------------------------*/

.jp-RenderedHTMLCommon {
  color: var(--jp-content-font-color1);
  font-family: var(--jp-content-font-family);
  font-size: var(--jp-content-font-size1);
  line-height: var(--jp-content-line-height);

  /* Give a bit more R padding on Markdown text to keep line lengths reasonable */
  padding-right: 20px;
}

.jp-RenderedHTMLCommon em {
  font-style: italic;
}

.jp-RenderedHTMLCommon strong {
  font-weight: bold;
}

.jp-RenderedHTMLCommon u {
  text-decoration: underline;
}

.jp-RenderedHTMLCommon a:link {
  text-decoration: none;
  color: var(--jp-content-link-color);
}

.jp-RenderedHTMLCommon a:hover {
  text-decoration: underline;
  color: var(--jp-content-link-color);
}

.jp-RenderedHTMLCommon a:visited {
  text-decoration: none;
  color: var(--jp-content-link-color);
}

/* Headings */

.jp-RenderedHTMLCommon h1,
.jp-RenderedHTMLCommon h2,
.jp-RenderedHTMLCommon h3,
.jp-RenderedHTMLCommon h4,
.jp-RenderedHTMLCommon h5,
.jp-RenderedHTMLCommon h6 {
  line-height: var(--jp-content-heading-line-height);
  font-weight: var(--jp-content-heading-font-weight);
  font-style: normal;
  margin: var(--jp-content-heading-margin-top) 0
    var(--jp-content-heading-margin-bottom) 0;
}

.jp-RenderedHTMLCommon h1:first-child,
.jp-RenderedHTMLCommon h2:first-child,
.jp-RenderedHTMLCommon h3:first-child,
.jp-RenderedHTMLCommon h4:first-child,
.jp-RenderedHTMLCommon h5:first-child,
.jp-RenderedHTMLCommon h6:first-child {
  margin-top: calc(0.5 * var(--jp-content-heading-margin-top));
}

.jp-RenderedHTMLCommon h1:last-child,
.jp-RenderedHTMLCommon h2:last-child,
.jp-RenderedHTMLCommon h3:last-child,
.jp-RenderedHTMLCommon h4:last-child,
.jp-RenderedHTMLCommon h5:last-child,
.jp-RenderedHTMLCommon h6:last-child {
  margin-bottom: calc(0.5 * var(--jp-content-heading-margin-bottom));
}

.jp-RenderedHTMLCommon h1 {
  font-size: var(--jp-content-font-size5);
}

.jp-RenderedHTMLCommon h2 {
  font-size: var(--jp-content-font-size4);
}

.jp-RenderedHTMLCommon h3 {
  font-size: var(--jp-content-font-size3);
}

.jp-RenderedHTMLCommon h4 {
  font-size: var(--jp-content-font-size2);
}

.jp-RenderedHTMLCommon h5 {
  font-size: var(--jp-content-font-size1);
}

.jp-RenderedHTMLCommon h6 {
  font-size: var(--jp-content-font-size0);
}

/* Lists */

/* stylelint-disable selector-max-type, selector-max-compound-selectors */

.jp-RenderedHTMLCommon ul:not(.list-inline),
.jp-RenderedHTMLCommon ol:not(.list-inline) {
  padding-left: 2em;
}

.jp-RenderedHTMLCommon ul {
  list-style: disc;
}

.jp-RenderedHTMLCommon ul ul {
  list-style: square;
}

.jp-RenderedHTMLCommon ul ul ul {
  list-style: circle;
}

.jp-RenderedHTMLCommon ol {
  list-style: decimal;
}

.jp-RenderedHTMLCommon ol ol {
  list-style: upper-alpha;
}

.jp-RenderedHTMLCommon ol ol ol {
  list-style: lower-alpha;
}

.jp-RenderedHTMLCommon ol ol ol ol {
  list-style: lower-roman;
}

.jp-RenderedHTMLCommon ol ol ol ol ol {
  list-style: decimal;
}

.jp-RenderedHTMLCommon ol,
.jp-RenderedHTMLCommon ul {
  margin-bottom: 1em;
}

.jp-RenderedHTMLCommon ul ul,
.jp-RenderedHTMLCommon ul ol,
.jp-RenderedHTMLCommon ol ul,
.jp-RenderedHTMLCommon ol ol {
  margin-bottom: 0;
}

/* stylelint-enable selector-max-type, selector-max-compound-selectors */

.jp-RenderedHTMLCommon hr {
  color: var(--jp-border-color2);
  background-color: var(--jp-border-color1);
  margin-top: 1em;
  margin-bottom: 1em;
}

.jp-RenderedHTMLCommon > pre {
  margin: 1.5em 2em;
}

.jp-RenderedHTMLCommon pre,
.jp-RenderedHTMLCommon code {
  border: 0;
  background-color: var(--jp-layout-color0);
  color: var(--jp-content-font-color1);
  font-family: var(--jp-code-font-family);
  font-size: inherit;
  line-height: var(--jp-code-line-height);
  padding: 0;
  white-space: pre-wrap;
}

.jp-RenderedHTMLCommon :not(pre) > code {
  background-color: var(--jp-layout-color2);
  padding: 1px 5px;
}

/* Tables */

.jp-RenderedHTMLCommon table {
  border-collapse: collapse;
  border-spacing: 0;
  border: none;
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
  table-layout: fixed;
  margin-left: auto;
  margin-bottom: 1em;
  margin-right: auto;
}

.jp-RenderedHTMLCommon thead {
  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);
  vertical-align: bottom;
}

.jp-RenderedHTMLCommon td,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon tr {
  vertical-align: middle;
  padding: 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}

.jp-RenderedMarkdown.jp-RenderedHTMLCommon td,
.jp-RenderedMarkdown.jp-RenderedHTMLCommon th {
  max-width: none;
}

:not(.jp-RenderedMarkdown).jp-RenderedHTMLCommon td,
:not(.jp-RenderedMarkdown).jp-RenderedHTMLCommon th,
:not(.jp-RenderedMarkdown).jp-RenderedHTMLCommon tr {
  text-align: right;
}

.jp-RenderedHTMLCommon th {
  font-weight: bold;
}

.jp-RenderedHTMLCommon tbody tr:nth-child(odd) {
  background: var(--jp-layout-color0);
}

.jp-RenderedHTMLCommon tbody tr:nth-child(even) {
  background: var(--jp-rendermime-table-row-background);
}

.jp-RenderedHTMLCommon tbody tr:hover {
  background: var(--jp-rendermime-table-row-hover-background);
}

.jp-RenderedHTMLCommon p {
  text-align: left;
  margin: 0;
  margin-bottom: 1em;
}

.jp-RenderedHTMLCommon img {
  -moz-force-broken-image-icon: 1;
}

/* Restrict to direct children as other images could be nested in other content. */
.jp-RenderedHTMLCommon > img {
  display: block;
  margin-left: 0;
  margin-right: 0;
  margin-bottom: 1em;
}

/* Change color behind transparent images if they need it... */
[data-jp-theme-light='false'] .jp-RenderedImage img.jp-needs-light-background {
  background-color: var(--jp-inverse-layout-color1);
}

[data-jp-theme-light='true'] .jp-RenderedImage img.jp-needs-dark-background {
  background-color: var(--jp-inverse-layout-color1);
}

.jp-RenderedHTMLCommon img,
.jp-RenderedImage img,
.jp-RenderedHTMLCommon svg,
.jp-RenderedSVG svg {
  max-width: 100%;
  height: auto;
}

.jp-RenderedHTMLCommon img.jp-mod-unconfined,
.jp-RenderedImage img.jp-mod-unconfined,
.jp-RenderedHTMLCommon svg.jp-mod-unconfined,
.jp-RenderedSVG svg.jp-mod-unconfined {
  max-width: none;
}

.jp-RenderedHTMLCommon .alert {
  padding: var(--jp-notebook-padding);
  border: var(--jp-border-width) solid transparent;
  border-radius: var(--jp-border-radius);
  margin-bottom: 1em;
}

.jp-RenderedHTMLCommon .alert-info {
  color: var(--jp-info-color0);
  background-color: var(--jp-info-color3);
  border-color: var(--jp-info-color2);
}

.jp-RenderedHTMLCommon .alert-info hr {
  border-color: var(--jp-info-color3);
}

.jp-RenderedHTMLCommon .alert-info > p:last-child,
.jp-RenderedHTMLCommon .alert-info > ul:last-child {
  margin-bottom: 0;
}

.jp-RenderedHTMLCommon .alert-warning {
  color: var(--jp-warn-color0);
  background-color: var(--jp-warn-color3);
  border-color: var(--jp-warn-color2);
}

.jp-RenderedHTMLCommon .alert-warning hr {
  border-color: var(--jp-warn-color3);
}

.jp-RenderedHTMLCommon .alert-warning > p:last-child,
.jp-RenderedHTMLCommon .alert-warning > ul:last-child {
  margin-bottom: 0;
}

.jp-RenderedHTMLCommon .alert-success {
  color: var(--jp-success-color0);
  background-color: var(--jp-success-color3);
  border-color: var(--jp-success-color2);
}

.jp-RenderedHTMLCommon .alert-success hr {
  border-color: var(--jp-success-color3);
}

.jp-RenderedHTMLCommon .alert-success > p:last-child,
.jp-RenderedHTMLCommon .alert-success > ul:last-child {
  margin-bottom: 0;
}

.jp-RenderedHTMLCommon .alert-danger {
  color: var(--jp-error-color0);
  background-color: var(--jp-error-color3);
  border-color: var(--jp-error-color2);
}

.jp-RenderedHTMLCommon .alert-danger hr {
  border-color: var(--jp-error-color3);
}

.jp-RenderedHTMLCommon .alert-danger > p:last-child,
.jp-RenderedHTMLCommon .alert-danger > ul:last-child {
  margin-bottom: 0;
}

.jp-RenderedHTMLCommon blockquote {
  margin: 1em 2em;
  padding: 0 1em;
  border-left: 5px solid var(--jp-border-color2);
}

a.jp-InternalAnchorLink {
  visibility: hidden;
  margin-left: 8px;
  color: var(--md-blue-800);
}

h1:hover .jp-InternalAnchorLink,
h2:hover .jp-InternalAnchorLink,
h3:hover .jp-InternalAnchorLink,
h4:hover .jp-InternalAnchorLink,
h5:hover .jp-InternalAnchorLink,
h6:hover .jp-InternalAnchorLink {
  visibility: visible;
}

.jp-RenderedHTMLCommon kbd {
  background-color: var(--jp-rendermime-table-row-background);
  border: 1px solid var(--jp-border-color0);
  border-bottom-color: var(--jp-border-color2);
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.25);
  display: inline-block;
  font-size: var(--jp-ui-font-size0);
  line-height: 1em;
  padding: 0.2em 0.5em;
}

/* Most direct children of .jp-RenderedHTMLCommon have a margin-bottom of 1.0.
 * At the bottom of cells this is a bit too much as there is also spacing
 * between cells. Going all the way to 0 gets too tight between markdown and
 * code cells.
 */
.jp-RenderedHTMLCommon > *:last-child {
  margin-bottom: 0.5em;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Copyright (c) 2014-2017, PhosphorJS Contributors
|
| Distributed under the terms of the BSD 3-Clause License.
|
| The full license is in the file LICENSE, distributed with this software.
|----------------------------------------------------------------------------*/

.lm-cursor-backdrop {
  position: fixed;
  width: 200px;
  height: 200px;
  margin-top: -100px;
  margin-left: -100px;
  will-change: transform;
  z-index: 100;
}

.lm-mod-drag-image {
  will-change: transform;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-lineFormSearch {
  padding: 4px 12px;
  background-color: var(--jp-layout-color2);
  box-shadow: var(--jp-toolbar-box-shadow);
  z-index: 2;
  font-size: var(--jp-ui-font-size1);
}

.jp-lineFormCaption {
  font-size: var(--jp-ui-font-size0);
  line-height: var(--jp-ui-font-size1);
  margin-top: 4px;
  color: var(--jp-ui-font-color0);
}

.jp-baseLineForm {
  border: none;
  border-radius: 0;
  position: absolute;
  background-size: 16px;
  background-repeat: no-repeat;
  background-position: center;
  outline: none;
}

.jp-lineFormButtonContainer {
  top: 4px;
  right: 8px;
  height: 24px;
  padding: 0 12px;
  width: 12px;
}

.jp-lineFormButtonIcon {
  top: 0;
  right: 0;
  background-color: var(--jp-brand-color1);
  height: 100%;
  width: 100%;
  box-sizing: border-box;
  padding: 4px 6px;
}

.jp-lineFormButton {
  top: 0;
  right: 0;
  background-color: transparent;
  height: 100%;
  width: 100%;
  box-sizing: border-box;
}

.jp-lineFormWrapper {
  overflow: hidden;
  padding: 0 8px;
  border: 1px solid var(--jp-border-color0);
  background-color: var(--jp-input-active-background);
  height: 22px;
}

.jp-lineFormWrapperFocusWithin {
  border: var(--jp-border-width) solid var(--md-blue-500);
  box-shadow: inset 0 0 4px var(--md-blue-300);
}

.jp-lineFormInput {
  background: transparent;
  width: 200px;
  height: 100%;
  border: none;
  outline: none;
  color: var(--jp-ui-font-color0);
  line-height: 28px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) 2014-2016, Jupyter Development Team.
|
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-JSONEditor {
  display: flex;
  flex-direction: column;
  width: 100%;
}

.jp-JSONEditor-host {
  flex: 1 1 auto;
  border: var(--jp-border-width) solid var(--jp-input-border-color);
  border-radius: 0;
  background: var(--jp-layout-color0);
  min-height: 50px;
  padding: 1px;
}

.jp-JSONEditor.jp-mod-error .jp-JSONEditor-host {
  border-color: red;
  outline-color: red;
}

.jp-JSONEditor-header {
  display: flex;
  flex: 1 0 auto;
  padding: 0 0 0 12px;
}

.jp-JSONEditor-header label {
  flex: 0 0 auto;
}

.jp-JSONEditor-commitButton {
  height: 16px;
  width: 16px;
  background-size: 18px;
  background-repeat: no-repeat;
  background-position: center;
}

.jp-JSONEditor-host.jp-mod-focused {
  background-color: var(--jp-input-active-background);
  border: 1px solid var(--jp-input-active-border-color);
  box-shadow: var(--jp-input-box-shadow);
}

.jp-Editor.jp-mod-dropTarget {
  border: var(--jp-border-width) solid var(--jp-input-active-border-color);
  box-shadow: var(--jp-input-box-shadow);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/
.jp-DocumentSearch-input {
  border: none;
  outline: none;
  color: var(--jp-ui-font-color0);
  font-size: var(--jp-ui-font-size1);
  background-color: var(--jp-layout-color0);
  font-family: var(--jp-ui-font-family);
  padding: 2px 1px;
  resize: none;
}

.jp-DocumentSearch-overlay {
  position: absolute;
  background-color: var(--jp-toolbar-background);
  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  border-left: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  top: 0;
  right: 0;
  z-index: 7;
  min-width: 405px;
  padding: 2px;
  font-size: var(--jp-ui-font-size1);

  --jp-private-document-search-button-height: 20px;
}

.jp-DocumentSearch-overlay button {
  background-color: var(--jp-toolbar-background);
  outline: 0;
}

.jp-DocumentSearch-overlay button:hover {
  background-color: var(--jp-layout-color2);
}

.jp-DocumentSearch-overlay button:active {
  background-color: var(--jp-layout-color3);
}

.jp-DocumentSearch-overlay-row {
  display: flex;
  align-items: center;
  margin-bottom: 2px;
}

.jp-DocumentSearch-button-content {
  display: inline-block;
  cursor: pointer;
  box-sizing: border-box;
  width: 100%;
  height: 100%;
}

.jp-DocumentSearch-button-content svg {
  width: 100%;
  height: 100%;
}

.jp-DocumentSearch-input-wrapper {
  border: var(--jp-border-width) solid var(--jp-border-color0);
  display: flex;
  background-color: var(--jp-layout-color0);
  margin: 2px;
}

.jp-DocumentSearch-input-wrapper:focus-within {
  border-color: var(--jp-cell-editor-active-border-color);
}

.jp-DocumentSearch-toggle-wrapper,
.jp-DocumentSearch-button-wrapper {
  all: initial;
  overflow: hidden;
  display: inline-block;
  border: none;
  box-sizing: border-box;
}

.jp-DocumentSearch-toggle-wrapper {
  width: 14px;
  height: 14px;
}

.jp-DocumentSearch-button-wrapper {
  width: var(--jp-private-document-search-button-height);
  height: var(--jp-private-document-search-button-height);
}

.jp-DocumentSearch-toggle-wrapper:focus,
.jp-DocumentSearch-button-wrapper:focus {
  outline: var(--jp-border-width) solid
    var(--jp-cell-editor-active-border-color);
  outline-offset: -1px;
}

.jp-DocumentSearch-toggle-wrapper,
.jp-DocumentSearch-button-wrapper,
.jp-DocumentSearch-button-content:focus {
  outline: none;
}

.jp-DocumentSearch-toggle-placeholder {
  width: 5px;
}

.jp-DocumentSearch-input-button::before {
  display: block;
  padding-top: 100%;
}

.jp-DocumentSearch-input-button-off {
  opacity: var(--jp-search-toggle-off-opacity);
}

.jp-DocumentSearch-input-button-off:hover {
  opacity: var(--jp-search-toggle-hover-opacity);
}

.jp-DocumentSearch-input-button-on {
  opacity: var(--jp-search-toggle-on-opacity);
}

.jp-DocumentSearch-index-counter {
  padding-left: 10px;
  padding-right: 10px;
  user-select: none;
  min-width: 35px;
  display: inline-block;
}

.jp-DocumentSearch-up-down-wrapper {
  display: inline-block;
  padding-right: 2px;
  margin-left: auto;
  white-space: nowrap;
}

.jp-DocumentSearch-spacer {
  margin-left: auto;
}

.jp-DocumentSearch-up-down-wrapper button {
  outline: 0;
  border: none;
  width: var(--jp-private-document-search-button-height);
  height: var(--jp-private-document-search-button-height);
  vertical-align: middle;
  margin: 1px 5px 2px;
}

.jp-DocumentSearch-up-down-button:hover {
  background-color: var(--jp-layout-color2);
}

.jp-DocumentSearch-up-down-button:active {
  background-color: var(--jp-layout-color3);
}

.jp-DocumentSearch-filter-button {
  border-radius: var(--jp-border-radius);
}

.jp-DocumentSearch-filter-button:hover {
  background-color: var(--jp-layout-color2);
}

.jp-DocumentSearch-filter-button-enabled {
  background-color: var(--jp-layout-color2);
}

.jp-DocumentSearch-filter-button-enabled:hover {
  background-color: var(--jp-layout-color3);
}

.jp-DocumentSearch-search-options {
  padding: 0 8px;
  margin-left: 3px;
  width: 100%;
  display: grid;
  justify-content: start;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  justify-items: stretch;
}

.jp-DocumentSearch-search-filter-disabled {
  color: var(--jp-ui-font-color2);
}

.jp-DocumentSearch-search-filter {
  display: flex;
  align-items: center;
  user-select: none;
}

.jp-DocumentSearch-regex-error {
  color: var(--jp-error-color0);
}

.jp-DocumentSearch-replace-button-wrapper {
  overflow: hidden;
  display: inline-block;
  box-sizing: border-box;
  border: var(--jp-border-width) solid var(--jp-border-color0);
  margin: auto 2px;
  padding: 1px 4px;
  height: calc(var(--jp-private-document-search-button-height) + 2px);
}

.jp-DocumentSearch-replace-button-wrapper:focus {
  border: var(--jp-border-width) solid var(--jp-cell-editor-active-border-color);
}

.jp-DocumentSearch-replace-button {
  display: inline-block;
  text-align: center;
  cursor: pointer;
  box-sizing: border-box;
  color: var(--jp-ui-font-color1);

  /* height - 2 * (padding of wrapper) */
  line-height: calc(var(--jp-private-document-search-button-height) - 2px);
  width: 100%;
  height: 100%;
}

.jp-DocumentSearch-replace-button:focus {
  outline: none;
}

.jp-DocumentSearch-replace-wrapper-class {
  margin-left: 14px;
  display: flex;
}

.jp-DocumentSearch-replace-toggle {
  border: none;
  background-color: var(--jp-toolbar-background);
  border-radius: var(--jp-border-radius);
}

.jp-DocumentSearch-replace-toggle:hover {
  background-color: var(--jp-layout-color2);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.cm-editor {
  line-height: var(--jp-code-line-height);
  font-size: var(--jp-code-font-size);
  font-family: var(--jp-code-font-family);
  border: 0;
  border-radius: 0;
  height: auto;

  /* Changed to auto to autogrow */
}

.cm-editor pre {
  padding: 0 var(--jp-code-padding);
}

.jp-CodeMirrorEditor[data-type='inline'] .cm-dialog {
  background-color: var(--jp-layout-color0);
  color: var(--jp-content-font-color1);
}

.jp-CodeMirrorEditor {
  cursor: text;
}

/* When zoomed out 67% and 33% on a screen of 1440 width x 900 height */
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .jp-CodeMirrorEditor[data-type='inline'] .cm-cursor {
    border-left: var(--jp-code-cursor-width1) solid
      var(--jp-editor-cursor-color);
  }
}

/* When zoomed out less than 33% */
@media screen and (min-width: 4320px) {
  .jp-CodeMirrorEditor[data-type='inline'] .cm-cursor {
    border-left: var(--jp-code-cursor-width2) solid
      var(--jp-editor-cursor-color);
  }
}

.cm-editor.jp-mod-readOnly .cm-cursor {
  display: none;
}

.jp-CollaboratorCursor {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: none;
  border-bottom: 3px solid;
  background-clip: content-box;
  margin-left: -5px;
  margin-right: -5px;
}

.cm-searching,
.cm-searching span {
  /* `.cm-searching span`: we need to override syntax highlighting */
  background-color: var(--jp-search-unselected-match-background-color);
  color: var(--jp-search-unselected-match-color);
}

.cm-searching::selection,
.cm-searching span::selection {
  background-color: var(--jp-search-unselected-match-background-color);
  color: var(--jp-search-unselected-match-color);
}

.jp-current-match > .cm-searching,
.jp-current-match > .cm-searching span,
.cm-searching > .jp-current-match,
.cm-searching > .jp-current-match span {
  background-color: var(--jp-search-selected-match-background-color);
  color: var(--jp-search-selected-match-color);
}

.jp-current-match > .cm-searching::selection,
.cm-searching > .jp-current-match::selection,
.jp-current-match > .cm-searching span::selection {
  background-color: var(--jp-search-selected-match-background-color);
  color: var(--jp-search-selected-match-color);
}

.cm-trailingspace {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAsElEQVQIHQGlAFr/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7+r3zKmT0/+pk9P/7+r3zAAAAAAAAAAABAAAAAAAAAAA6OPzM+/q9wAAAAAA6OPzMwAAAAAAAAAAAgAAAAAAAAAAGR8NiRQaCgAZIA0AGR8NiQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQyoYJ/SY80UAAAAASUVORK5CYII=);
  background-position: center left;
  background-repeat: repeat-x;
}

.jp-CollaboratorCursor-hover {
  position: absolute;
  z-index: 1;
  transform: translateX(-50%);
  color: white;
  border-radius: 3px;
  padding-left: 4px;
  padding-right: 4px;
  padding-top: 1px;
  padding-bottom: 1px;
  text-align: center;
  font-size: var(--jp-ui-font-size1);
  white-space: nowrap;
}

.jp-CodeMirror-ruler {
  border-left: 1px dashed var(--jp-border-color2);
}

/* Styles for shared cursors (remote cursor locations and selected ranges) */
.jp-CodeMirrorEditor .cm-ySelectionCaret {
  position: relative;
  border-left: 1px solid black;
  margin-left: -1px;
  margin-right: -1px;
  box-sizing: border-box;
}

.jp-CodeMirrorEditor .cm-ySelectionCaret > .cm-ySelectionInfo {
  white-space: nowrap;
  position: absolute;
  top: -1.15em;
  padding-bottom: 0.05em;
  left: -1px;
  font-size: 0.95em;
  font-family: var(--jp-ui-font-family);
  font-weight: bold;
  line-height: normal;
  user-select: none;
  color: white;
  padding-left: 2px;
  padding-right: 2px;
  z-index: 101;
  transition: opacity 0.3s ease-in-out;
}

.jp-CodeMirrorEditor .cm-ySelectionInfo {
  transition-delay: 0.7s;
  opacity: 0;
}

.jp-CodeMirrorEditor .cm-ySelectionCaret:hover > .cm-ySelectionInfo {
  opacity: 1;
  transition-delay: 0s;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-MimeDocument {
  outline: none;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Variables
|----------------------------------------------------------------------------*/

:root {
  --jp-private-filebrowser-button-height: 28px;
  --jp-private-filebrowser-button-width: 48px;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-FileBrowser .jp-SidePanel-content {
  display: flex;
  flex-direction: column;
}

.jp-FileBrowser-toolbar.jp-Toolbar {
  flex-wrap: wrap;
  row-gap: 12px;
  border-bottom: none;
  height: auto;
  margin: 8px 12px 0;
  box-shadow: none;
  padding: 0;
  justify-content: flex-start;
}

.jp-FileBrowser-Panel {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
}

.jp-BreadCrumbs {
  flex: 0 0 auto;
  margin: 8px 12px;
}

.jp-BreadCrumbs-item {
  margin: 0 2px;
  padding: 0 2px;
  border-radius: var(--jp-border-radius);
  cursor: pointer;
}

.jp-BreadCrumbs-item:hover {
  background-color: var(--jp-layout-color2);
}

.jp-BreadCrumbs-item:first-child {
  margin-left: 0;
}

.jp-BreadCrumbs-item.jp-mod-dropTarget {
  background-color: var(--jp-brand-color2);
  opacity: 0.7;
}

/*-----------------------------------------------------------------------------
| Buttons
|----------------------------------------------------------------------------*/

.jp-FileBrowser-toolbar > .jp-Toolbar-item {
  flex: 0 0 auto;
  padding-left: 0;
  padding-right: 2px;
  align-items: center;
  height: unset;
}

.jp-FileBrowser-toolbar > .jp-Toolbar-item .jp-ToolbarButtonComponent {
  width: 40px;
}

/*-----------------------------------------------------------------------------
| Other styles
|----------------------------------------------------------------------------*/

.jp-FileDialog.jp-mod-conflict input {
  color: var(--jp-error-color1);
}

.jp-FileDialog .jp-new-name-title {
  margin-top: 12px;
}

.jp-LastModified-hidden {
  display: none;
}

.jp-FileSize-hidden {
  display: none;
}

.jp-FileBrowser .lm-AccordionPanel > h3:first-child {
  display: none;
}

/*-----------------------------------------------------------------------------
| DirListing
|----------------------------------------------------------------------------*/

.jp-DirListing {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  outline: 0;
}

.jp-DirListing-header {
  flex: 0 0 auto;
  display: flex;
  flex-direction: row;
  align-items: center;
  overflow: hidden;
  border-top: var(--jp-border-width) solid var(--jp-border-color2);
  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);
  box-shadow: var(--jp-toolbar-box-shadow);
  z-index: 2;
}

.jp-DirListing-headerItem {
  padding: 4px 12px 2px;
  font-weight: 500;
}

.jp-DirListing-headerItem:hover {
  background: var(--jp-layout-color2);
}

.jp-DirListing-headerItem.jp-id-name {
  flex: 1 0 84px;
}

.jp-DirListing-headerItem.jp-id-modified {
  flex: 0 0 112px;
  border-left: var(--jp-border-width) solid var(--jp-border-color2);
  text-align: right;
}

.jp-DirListing-headerItem.jp-id-filesize {
  flex: 0 0 75px;
  border-left: var(--jp-border-width) solid var(--jp-border-color2);
  text-align: right;
}

.jp-id-narrow {
  display: none;
  flex: 0 0 5px;
  padding: 4px;
  border-left: var(--jp-border-width) solid var(--jp-border-color2);
  text-align: right;
  color: var(--jp-border-color2);
}

.jp-DirListing-narrow .jp-id-narrow {
  display: block;
}

.jp-DirListing-narrow .jp-id-modified,
.jp-DirListing-narrow .jp-DirListing-itemModified {
  display: none;
}

.jp-DirListing-headerItem.jp-mod-selected {
  font-weight: 600;
}

/* increase specificity to override bundled default */
.jp-DirListing-content {
  flex: 1 1 auto;
  margin: 0;
  padding: 0;
  list-style-type: none;
  overflow: auto;
  background-color: var(--jp-layout-color1);
}

.jp-DirListing-content mark {
  color: var(--jp-ui-font-color0);
  background-color: transparent;
  font-weight: bold;
}

.jp-DirListing-content .jp-DirListing-item.jp-mod-selected mark {
  color: var(--jp-ui-inverse-font-color0);
}

/* Style the directory listing content when a user drops a file to upload */
.jp-DirListing.jp-mod-native-drop .jp-DirListing-content {
  outline: 5px dashed rgba(128, 128, 128, 0.5);
  outline-offset: -10px;
  cursor: copy;
}

.jp-DirListing-item {
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: 4px 12px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.jp-DirListing-checkboxWrapper {
  /* Increases hit area of checkbox. */
  padding: 4px;
}

.jp-DirListing-header
  .jp-DirListing-checkboxWrapper
  + .jp-DirListing-headerItem {
  padding-left: 4px;
}

.jp-DirListing-content .jp-DirListing-checkboxWrapper {
  position: relative;
  left: -4px;
  margin: -4px 0 -4px -8px;
}

.jp-DirListing-checkboxWrapper.jp-mod-visible {
  visibility: visible;
}

/* For devices that support hovering, hide checkboxes until hovered, selected...
*/
@media (hover: hover) {
  .jp-DirListing-checkboxWrapper {
    visibility: hidden;
  }

  .jp-DirListing-item:hover .jp-DirListing-checkboxWrapper,
  .jp-DirListing-item.jp-mod-selected .jp-DirListing-checkboxWrapper {
    visibility: visible;
  }
}

.jp-DirListing-item[data-is-dot] {
  opacity: 75%;
}

.jp-DirListing-item.jp-mod-selected {
  color: var(--jp-ui-inverse-font-color1);
  background: var(--jp-brand-color1);
}

.jp-DirListing-item.jp-mod-dropTarget {
  background: var(--jp-brand-color3);
}

.jp-DirListing-item:hover:not(.jp-mod-selected) {
  background: var(--jp-layout-color2);
}

.jp-DirListing-itemIcon {
  flex: 0 0 20px;
  margin-right: 4px;
}

.jp-DirListing-itemText {
  flex: 1 0 64px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  user-select: none;
}

.jp-DirListing-itemText:focus {
  outline-width: 2px;
  outline-color: var(--jp-inverse-layout-color1);
  outline-style: solid;
  outline-offset: 1px;
}

.jp-DirListing-item.jp-mod-selected .jp-DirListing-itemText:focus {
  outline-color: var(--jp-layout-color1);
}

.jp-DirListing-itemModified {
  flex: 0 0 125px;
  text-align: right;
}

.jp-DirListing-itemFileSize {
  flex: 0 0 90px;
  text-align: right;
}

.jp-DirListing-editor {
  flex: 1 0 64px;
  outline: none;
  border: none;
  color: var(--jp-ui-font-color1);
  background-color: var(--jp-layout-color1);
}

.jp-DirListing-item.jp-mod-running .jp-DirListing-itemIcon::before {
  color: var(--jp-success-color1);
  content: '\25CF';
  font-size: 8px;
  position: absolute;
  left: -8px;
}

.jp-DirListing-item.jp-mod-running.jp-mod-selected
  .jp-DirListing-itemIcon::before {
  color: var(--jp-ui-inverse-font-color1);
}

.jp-DirListing-item.lm-mod-drag-image,
.jp-DirListing-item.jp-mod-selected.lm-mod-drag-image {
  font-size: var(--jp-ui-font-size1);
  padding-left: 4px;
  margin-left: 4px;
  width: 160px;
  background-color: var(--jp-ui-inverse-font-color2);
  box-shadow: var(--jp-elevation-z2);
  border-radius: 0;
  color: var(--jp-ui-font-color1);
  transform: translateX(-40%) translateY(-58%);
}

.jp-Document {
  min-width: 120px;
  min-height: 120px;
  outline: none;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Main OutputArea
| OutputArea has a list of Outputs
|----------------------------------------------------------------------------*/

.jp-OutputArea {
  overflow-y: auto;
}

.jp-OutputArea-child {
  display: table;
  table-layout: fixed;
  width: 100%;
  overflow: hidden;
}

.jp-OutputPrompt {
  width: var(--jp-cell-prompt-width);
  color: var(--jp-cell-outprompt-font-color);
  font-family: var(--jp-cell-prompt-font-family);
  padding: var(--jp-code-padding);
  letter-spacing: var(--jp-cell-prompt-letter-spacing);
  line-height: var(--jp-code-line-height);
  font-size: var(--jp-code-font-size);
  border: var(--jp-border-width) solid transparent;
  opacity: var(--jp-cell-prompt-opacity);

  /* Right align prompt text, don't wrap to handle large prompt numbers */
  text-align: right;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  /* Disable text selection */
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.jp-OutputArea-prompt {
  display: table-cell;
  vertical-align: top;
}

.jp-OutputArea-output {
  display: table-cell;
  width: 100%;
  height: auto;
  overflow: auto;
  user-select: text;
  -moz-user-select: text;
  -webkit-user-select: text;
  -ms-user-select: text;
}

.jp-OutputArea .jp-RenderedText {
  padding-left: 1ch;
}

/**
 * Prompt overlay.
 */

.jp-OutputArea-promptOverlay {
  position: absolute;
  top: 0;
  width: var(--jp-cell-prompt-width);
  height: 100%;
  opacity: 0.5;
}

.jp-OutputArea-promptOverlay:hover {
  background: var(--jp-layout-color2);
  box-shadow: inset 0 0 1px var(--jp-inverse-layout-color0);
  cursor: zoom-out;
}

.jp-mod-outputsScrolled .jp-OutputArea-promptOverlay:hover {
  cursor: zoom-in;
}

/**
 * Isolated output.
 */
.jp-OutputArea-output.jp-mod-isolated {
  width: 100%;
  display: block;
}

/*
When drag events occur, `lm-mod-override-cursor` is added to the body.
Because iframes steal all cursor events, the following two rules are necessary
to suppress pointer events while resize drags are occurring. There may be a
better solution to this problem.
*/
body.lm-mod-override-cursor .jp-OutputArea-output.jp-mod-isolated {
  position: relative;
}

body.lm-mod-override-cursor .jp-OutputArea-output.jp-mod-isolated::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: transparent;
}

/* pre */

.jp-OutputArea-output pre {
  border: none;
  margin: 0;
  padding: 0;
  overflow-x: auto;
  overflow-y: auto;
  word-break: break-all;
  word-wrap: break-word;
  white-space: pre-wrap;
}

/* tables */

.jp-OutputArea-output.jp-RenderedHTMLCommon table {
  margin-left: 0;
  margin-right: 0;
}

/* description lists */

.jp-OutputArea-output dl,
.jp-OutputArea-output dt,
.jp-OutputArea-output dd {
  display: block;
}

.jp-OutputArea-output dl {
  width: 100%;
  overflow: hidden;
  padding: 0;
  margin: 0;
}

.jp-OutputArea-output dt {
  font-weight: bold;
  float: left;
  width: 20%;
  padding: 0;
  margin: 0;
}

.jp-OutputArea-output dd {
  float: left;
  width: 80%;
  padding: 0;
  margin: 0;
}

.jp-TrimmedOutputs pre {
  background: var(--jp-layout-color3);
  font-size: calc(var(--jp-code-font-size) * 1.4);
  text-align: center;
  text-transform: uppercase;
}

/* Hide the gutter in case of
 *  - nested output areas (e.g. in the case of output widgets)
 *  - mirrored output areas
 */
.jp-OutputArea .jp-OutputArea .jp-OutputArea-prompt {
  display: none;
}

/* Hide empty lines in the output area, for instance due to cleared widgets */
.jp-OutputArea-prompt:empty {
  padding: 0;
  border: 0;
}

/*-----------------------------------------------------------------------------
| executeResult is added to any Output-result for the display of the object
| returned by a cell
|----------------------------------------------------------------------------*/

.jp-OutputArea-output.jp-OutputArea-executeResult {
  margin-left: 0;
  width: 100%;
}

/* Text output with the Out[] prompt needs a top padding to match the
 * alignment of the Out[] prompt itself.
 */
.jp-OutputArea-executeResult .jp-RenderedText.jp-OutputArea-output {
  padding-top: var(--jp-code-padding);
  border-top: var(--jp-border-width) solid transparent;
}

/*-----------------------------------------------------------------------------
| The Stdin output
|----------------------------------------------------------------------------*/

.jp-Stdin-prompt {
  color: var(--jp-content-font-color0);
  padding-right: var(--jp-code-padding);
  vertical-align: baseline;
  flex: 0 0 auto;
}

.jp-Stdin-input {
  font-family: var(--jp-code-font-family);
  font-size: inherit;
  color: inherit;
  background-color: inherit;
  width: 42%;
  min-width: 200px;

  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;

  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0 0.25em;
  margin: 0 0.25em;
  flex: 0 0 70%;
}

.jp-Stdin-input::placeholder {
  opacity: 0;
}

.jp-Stdin-input:focus {
  box-shadow: none;
}

.jp-Stdin-input:focus::placeholder {
  opacity: 1;
}

/*-----------------------------------------------------------------------------
| Output Area View
|----------------------------------------------------------------------------*/

.jp-LinkedOutputView .jp-OutputArea {
  height: 100%;
  display: block;
}

.jp-LinkedOutputView .jp-OutputArea-output:only-child {
  height: 100%;
}

/*-----------------------------------------------------------------------------
| Printing
|----------------------------------------------------------------------------*/

@media print {
  .jp-OutputArea-child {
    break-inside: avoid-page;
  }
}

/*-----------------------------------------------------------------------------
| Mobile
|----------------------------------------------------------------------------*/
@media only screen and (max-width: 760px) {
  .jp-OutputPrompt {
    display: table-row;
    text-align: left;
  }

  .jp-OutputArea-child .jp-OutputArea-output {
    display: table-row;
    margin-left: var(--jp-notebook-padding);
  }
}

/* Trimmed outputs warning */
.jp-TrimmedOutputs > a {
  margin: 10px;
  text-decoration: none;
  cursor: pointer;
}

.jp-TrimmedOutputs > a:hover {
  text-decoration: none;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Table of Contents
|----------------------------------------------------------------------------*/

:root {
  --jp-private-toc-active-width: 4px;
}

.jp-TableOfContents {
  display: flex;
  flex-direction: column;
  background: var(--jp-layout-color1);
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
  height: 100%;
}

.jp-TableOfContents-placeholder {
  text-align: center;
}

.jp-TableOfContents-placeholderContent {
  color: var(--jp-content-font-color2);
  padding: 8px;
}

.jp-TableOfContents-placeholderContent > h3 {
  margin-bottom: var(--jp-content-heading-margin-bottom);
}

.jp-TableOfContents .jp-SidePanel-content {
  overflow-y: auto;
}

.jp-TableOfContents-tree {
  margin: 4px;
}

.jp-TableOfContents ol {
  list-style-type: none;
}

/* stylelint-disable-next-line selector-max-type */
.jp-TableOfContents li > ol {
  /* Align left border with triangle icon center */
  padding-left: 11px;
}

.jp-TableOfContents-content {
  /* left margin for the active heading indicator */
  margin: 0 0 0 var(--jp-private-toc-active-width);
  padding: 0;
  background-color: var(--jp-layout-color1);
}

.jp-tocItem {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.jp-tocItem-heading {
  display: flex;
  cursor: pointer;
}

.jp-tocItem-heading:hover {
  background-color: var(--jp-layout-color2);
}

.jp-tocItem-content {
  display: block;
  padding: 4px 0;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow-x: hidden;
}

.jp-tocItem-collapser {
  height: 20px;
  margin: 2px 2px 0;
  padding: 0;
  background: none;
  border: none;
  cursor: pointer;
}

.jp-tocItem-collapser:hover {
  background-color: var(--jp-layout-color3);
}

/* Active heading indicator */

.jp-tocItem-heading::before {
  content: ' ';
  background: transparent;
  width: var(--jp-private-toc-active-width);
  height: 24px;
  position: absolute;
  left: 0;
  border-radius: var(--jp-border-radius);
}

.jp-tocItem-heading.jp-tocItem-active::before {
  background-color: var(--jp-brand-color1);
}

.jp-tocItem-heading:hover.jp-tocItem-active::before {
  background: var(--jp-brand-color0);
  opacity: 1;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

.jp-Collapser {
  flex: 0 0 var(--jp-cell-collapser-width);
  padding: 0;
  margin: 0;
  border: none;
  outline: none;
  background: transparent;
  border-radius: var(--jp-border-radius);
  opacity: 1;
}

.jp-Collapser-child {
  display: block;
  width: 100%;
  box-sizing: border-box;

  /* height: 100% doesn't work because the height of its parent is computed from content */
  position: absolute;
  top: 0;
  bottom: 0;
}

/*-----------------------------------------------------------------------------
| Printing
|----------------------------------------------------------------------------*/

/*
Hiding collapsers in print mode.

Note: input and output wrappers have "display: block" propery in print mode.
*/

@media print {
  .jp-Collapser {
    display: none;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Header/Footer
|----------------------------------------------------------------------------*/

/* Hidden by zero height by default */
.jp-CellHeader,
.jp-CellFooter {
  height: 0;
  width: 100%;
  padding: 0;
  margin: 0;
  border: none;
  outline: none;
  background: transparent;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Input
|----------------------------------------------------------------------------*/

/* All input areas */
.jp-InputArea {
  display: table;
  table-layout: fixed;
  width: 100%;
  overflow: hidden;
}

.jp-InputArea-editor {
  display: table-cell;
  overflow: hidden;
  vertical-align: top;

  /* This is the non-active, default styling */
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  border-radius: 0;
  background: var(--jp-cell-editor-background);
}

.jp-InputPrompt {
  display: table-cell;
  vertical-align: top;
  width: var(--jp-cell-prompt-width);
  color: var(--jp-cell-inprompt-font-color);
  font-family: var(--jp-cell-prompt-font-family);
  padding: var(--jp-code-padding);
  letter-spacing: var(--jp-cell-prompt-letter-spacing);
  opacity: var(--jp-cell-prompt-opacity);
  line-height: var(--jp-code-line-height);
  font-size: var(--jp-code-font-size);
  border: var(--jp-border-width) solid transparent;

  /* Right align prompt text, don't wrap to handle large prompt numbers */
  text-align: right;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  /* Disable text selection */
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/*-----------------------------------------------------------------------------
| Mobile
|----------------------------------------------------------------------------*/
@media only screen and (max-width: 760px) {
  .jp-InputArea-editor {
    display: table-row;
    margin-left: var(--jp-notebook-padding);
  }

  .jp-InputPrompt {
    display: table-row;
    text-align: left;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Placeholder
|----------------------------------------------------------------------------*/

.jp-Placeholder {
  display: table;
  table-layout: fixed;
  width: 100%;
}

.jp-Placeholder-prompt {
  display: table-cell;
  box-sizing: border-box;
}

.jp-Placeholder-content {
  display: table-cell;
  padding: 4px 6px;
  border: 1px solid transparent;
  border-radius: 0;
  background: none;
  box-sizing: border-box;
  cursor: pointer;
}

.jp-Placeholder-contentContainer {
  display: flex;
}

.jp-Placeholder-content:hover,
.jp-InputPlaceholder > .jp-Placeholder-content:hover {
  border-color: var(--jp-layout-color3);
}

.jp-Placeholder-content .jp-MoreHorizIcon {
  width: 32px;
  height: 16px;
  border: 1px solid transparent;
  border-radius: var(--jp-border-radius);
}

.jp-Placeholder-content .jp-MoreHorizIcon:hover {
  border: 1px solid var(--jp-border-color1);
  box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.25);
  background-color: var(--jp-layout-color0);
}

.jp-PlaceholderText {
  white-space: nowrap;
  overflow-x: hidden;
  color: var(--jp-inverse-layout-color3);
  font-family: var(--jp-code-font-family);
}

.jp-InputPlaceholder > .jp-Placeholder-content {
  border-color: var(--jp-cell-editor-border-color);
  background: var(--jp-cell-editor-background);
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Private CSS variables
|----------------------------------------------------------------------------*/

:root {
  --jp-private-cell-scrolling-output-offset: 5px;
}

/*-----------------------------------------------------------------------------
| Cell
|----------------------------------------------------------------------------*/

.jp-Cell {
  padding: var(--jp-cell-padding);
  margin: 0;
  border: none;
  outline: none;
  background: transparent;
}

/*-----------------------------------------------------------------------------
| Common input/output
|----------------------------------------------------------------------------*/

.jp-Cell-inputWrapper,
.jp-Cell-outputWrapper {
  display: flex;
  flex-direction: row;
  padding: 0;
  margin: 0;

  /* Added to reveal the box-shadow on the input and output collapsers. */
  overflow: visible;
}

/* Only input/output areas inside cells */
.jp-Cell-inputArea,
.jp-Cell-outputArea {
  flex: 1 1 auto;
}

/*-----------------------------------------------------------------------------
| Collapser
|----------------------------------------------------------------------------*/

/* Make the output collapser disappear when there is not output, but do so
 * in a manner that leaves it in the layout and preserves its width.
 */
.jp-Cell.jp-mod-noOutputs .jp-Cell-outputCollapser {
  border: none !important;
  background: transparent !important;
}

.jp-Cell:not(.jp-mod-noOutputs) .jp-Cell-outputCollapser {
  min-height: var(--jp-cell-collapser-min-height);
}

/*-----------------------------------------------------------------------------
| Output
|----------------------------------------------------------------------------*/

/* Put a space between input and output when there IS output */
.jp-Cell:not(.jp-mod-noOutputs) .jp-Cell-outputWrapper {
  margin-top: 5px;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-Cell-outputArea {
  overflow-y: auto;
  max-height: 24em;
  margin-left: var(--jp-private-cell-scrolling-output-offset);
  resize: vertical;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-Cell-outputArea[style*='height'] {
  max-height: unset;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-Cell-outputArea::after {
  content: ' ';
  box-shadow: inset 0 0 6px 2px rgb(0 0 0 / 30%);
  width: 100%;
  height: 100%;
  position: sticky;
  bottom: 0;
  top: 0;
  margin-top: -50%;
  float: left;
  display: block;
  pointer-events: none;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-OutputArea-child {
  padding-top: 6px;
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-OutputArea-prompt {
  width: calc(
    var(--jp-cell-prompt-width) - var(--jp-private-cell-scrolling-output-offset)
  );
}

.jp-CodeCell.jp-mod-outputsScrolled .jp-OutputArea-promptOverlay {
  left: calc(-1 * var(--jp-private-cell-scrolling-output-offset));
}

/*-----------------------------------------------------------------------------
| CodeCell
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| MarkdownCell
|----------------------------------------------------------------------------*/

.jp-MarkdownOutput {
  display: table-cell;
  width: 100%;
  margin-top: 0;
  margin-bottom: 0;
  padding-left: var(--jp-code-padding);
}

.jp-MarkdownOutput.jp-RenderedHTMLCommon {
  overflow: auto;
}

/* collapseHeadingButton (show always if hiddenCellsButton is _not_ shown) */
.jp-collapseHeadingButton {
  display: flex;
  min-height: var(--jp-cell-collapser-min-height);
  font-size: var(--jp-code-font-size);
  position: absolute;
  background-color: transparent;
  background-size: 25px;
  background-repeat: no-repeat;
  background-position-x: center;
  background-position-y: top;
  background-image: var(--jp-icon-caret-down);
  right: 0;
  top: 0;
  bottom: 0;
}

.jp-collapseHeadingButton.jp-mod-collapsed {
  background-image: var(--jp-icon-caret-right);
}

/*
 set the container font size to match that of content
 so that the nested collapse buttons have the right size
*/
.jp-MarkdownCell .jp-InputPrompt {
  font-size: var(--jp-content-font-size1);
}

/*
  Align collapseHeadingButton with cell top header
  The font sizes are identical to the ones in packages/rendermime/style/base.css
*/
.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='1'] {
  font-size: var(--jp-content-font-size5);
  background-position-y: calc(0.3 * var(--jp-content-font-size5));
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='2'] {
  font-size: var(--jp-content-font-size4);
  background-position-y: calc(0.3 * var(--jp-content-font-size4));
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='3'] {
  font-size: var(--jp-content-font-size3);
  background-position-y: calc(0.3 * var(--jp-content-font-size3));
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='4'] {
  font-size: var(--jp-content-font-size2);
  background-position-y: calc(0.3 * var(--jp-content-font-size2));
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='5'] {
  font-size: var(--jp-content-font-size1);
  background-position-y: top;
}

.jp-mod-rendered .jp-collapseHeadingButton[data-heading-level='6'] {
  font-size: var(--jp-content-font-size0);
  background-position-y: top;
}

/* collapseHeadingButton (show only on (hover,active) if hiddenCellsButton is shown) */
.jp-Notebook.jp-mod-showHiddenCellsButton .jp-collapseHeadingButton {
  display: none;
}

.jp-Notebook.jp-mod-showHiddenCellsButton
  :is(.jp-MarkdownCell:hover, .jp-mod-active)
  .jp-collapseHeadingButton {
  display: flex;
}

/* showHiddenCellsButton (only show if jp-mod-showHiddenCellsButton is set, which
is a consequence of the showHiddenCellsButton option in Notebook Settings)*/
.jp-Notebook.jp-mod-showHiddenCellsButton .jp-showHiddenCellsButton {
  margin-left: calc(var(--jp-cell-prompt-width) + 2 * var(--jp-code-padding));
  margin-top: var(--jp-code-padding);
  border: 1px solid var(--jp-border-color2);
  background-color: var(--jp-border-color3) !important;
  color: var(--jp-content-font-color0) !important;
  display: flex;
}

.jp-Notebook.jp-mod-showHiddenCellsButton .jp-showHiddenCellsButton:hover {
  background-color: var(--jp-border-color2) !important;
}

.jp-showHiddenCellsButton {
  display: none;
}

/*-----------------------------------------------------------------------------
| Printing
|----------------------------------------------------------------------------*/

/*
Using block instead of flex to allow the use of the break-inside CSS property for
cell outputs.
*/

@media print {
  .jp-Cell-inputWrapper,
  .jp-Cell-outputWrapper {
    display: block;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Variables
|----------------------------------------------------------------------------*/

:root {
  --jp-notebook-toolbar-padding: 2px 5px 2px 2px;
}

/*-----------------------------------------------------------------------------

/*-----------------------------------------------------------------------------
| Styles
|----------------------------------------------------------------------------*/

.jp-NotebookPanel-toolbar {
  padding: var(--jp-notebook-toolbar-padding);

  /* disable paint containment from lumino 2.0 default strict CSS containment */
  contain: style size !important;
}

.jp-Toolbar-item.jp-Notebook-toolbarCellType .jp-select-wrapper.jp-mod-focused {
  border: none;
  box-shadow: none;
}

.jp-Notebook-toolbarCellTypeDropdown select {
  height: 24px;
  font-size: var(--jp-ui-font-size1);
  line-height: 14px;
  border-radius: 0;
  display: block;
}

.jp-Notebook-toolbarCellTypeDropdown span {
  top: 5px !important;
}

.jp-Toolbar-responsive-popup {
  position: absolute;
  height: fit-content;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: flex-end;
  border-bottom: var(--jp-border-width) solid var(--jp-toolbar-border-color);
  box-shadow: var(--jp-toolbar-box-shadow);
  background: var(--jp-toolbar-background);
  min-height: var(--jp-toolbar-micro-height);
  padding: var(--jp-notebook-toolbar-padding);
  z-index: 1;
  right: 0;
  top: 0;
}

.jp-Toolbar > .jp-Toolbar-responsive-opener {
  margin-left: auto;
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Variables
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------

/*-----------------------------------------------------------------------------
| Styles
|----------------------------------------------------------------------------*/

.jp-Notebook-ExecutionIndicator {
  position: relative;
  display: inline-block;
  height: 100%;
  z-index: 9997;
}

.jp-Notebook-ExecutionIndicator-tooltip {
  visibility: hidden;
  height: auto;
  width: max-content;
  width: -moz-max-content;
  background-color: var(--jp-layout-color2);
  color: var(--jp-ui-font-color1);
  text-align: justify;
  border-radius: 6px;
  padding: 0 5px;
  position: fixed;
  display: table;
}

.jp-Notebook-ExecutionIndicator-tooltip.up {
  transform: translateX(-50%) translateY(-100%) translateY(-32px);
}

.jp-Notebook-ExecutionIndicator-tooltip.down {
  transform: translateX(calc(-100% + 16px)) translateY(5px);
}

.jp-Notebook-ExecutionIndicator-tooltip.hidden {
  display: none;
}

.jp-Notebook-ExecutionIndicator:hover .jp-Notebook-ExecutionIndicator-tooltip {
  visibility: visible;
}

.jp-Notebook-ExecutionIndicator span {
  font-size: var(--jp-ui-font-size1);
  font-family: var(--jp-ui-font-family);
  color: var(--jp-ui-font-color1);
  line-height: 24px;
  display: block;
}

.jp-Notebook-ExecutionIndicator-progress-bar {
  display: flex;
  justify-content: center;
  height: 100%;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

/*
 * Execution indicator
 */
.jp-tocItem-content::after {
  content: '';

  /* Must be identical to form a circle */
  width: 12px;
  height: 12px;
  background: none;
  border: none;
  position: absolute;
  right: 0;
}

.jp-tocItem-content[data-running='0']::after {
  border-radius: 50%;
  border: var(--jp-border-width) solid var(--jp-inverse-layout-color3);
  background: none;
}

.jp-tocItem-content[data-running='1']::after {
  border-radius: 50%;
  border: var(--jp-border-width) solid var(--jp-inverse-layout-color3);
  background-color: var(--jp-inverse-layout-color3);
}

.jp-tocItem-content[data-running='0'],
.jp-tocItem-content[data-running='1'] {
  margin-right: 12px;
}

/*
 * Copyright (c) Jupyter Development Team.
 * Distributed under the terms of the Modified BSD License.
 */

.jp-Notebook-footer {
  height: 27px;
  margin-left: calc(
    var(--jp-cell-prompt-width) + var(--jp-cell-collapser-width) +
      var(--jp-cell-padding)
  );
  width: calc(
    100% -
      (
        var(--jp-cell-prompt-width) + var(--jp-cell-collapser-width) +
          var(--jp-cell-padding) + var(--jp-cell-padding)
      )
  );
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  color: var(--jp-ui-font-color3);
  margin-top: 6px;
  background: none;
  cursor: pointer;
}

.jp-Notebook-footer:focus {
  border-color: var(--jp-cell-editor-active-border-color);
}

/* For devices that support hovering, hide footer until hover */
@media (hover: hover) {
  .jp-Notebook-footer {
    opacity: 0;
  }

  .jp-Notebook-footer:focus,
  .jp-Notebook-footer:hover {
    opacity: 1;
  }
}

/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| Imports
|----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
| CSS variables
|----------------------------------------------------------------------------*/

:root {
  --jp-side-by-side-output-size: 1fr;
  --jp-side-by-side-resized-cell: var(--jp-side-by-side-output-size);
  --jp-private-notebook-dragImage-width: 304px;
  --jp-private-notebook-dragImage-height: 36px;
  --jp-private-notebook-selected-color: var(--md-blue-400);
  --jp-private-notebook-active-color: var(--md-green-400);
}

/*-----------------------------------------------------------------------------
| Notebook
|----------------------------------------------------------------------------*/

/* stylelint-disable selector-max-class */

.jp-NotebookPanel {
  display: block;
  height: 100%;
}

.jp-NotebookPanel.jp-Document {
  min-width: 240px;
  min-height: 120px;
}

.jp-Notebook {
  padding: var(--jp-notebook-padding);
  outline: none;
  overflow: auto;
  background: var(--jp-layout-color0);
}

.jp-Notebook.jp-mod-scrollPastEnd::after {
  display: block;
  content: '';
  min-height: var(--jp-notebook-scroll-padding);
}

.jp-MainAreaWidget-ContainStrict .jp-Notebook * {
  contain: strict;
}

.jp-Notebook .jp-Cell {
  overflow: visible;
}

.jp-Notebook .jp-Cell .jp-InputPrompt {
  cursor: move;
}

/*-----------------------------------------------------------------------------
| Notebook state related styling
|
| The notebook and cells each have states, here are the possibilities:
|
| - Notebook
|   - Command
|   - Edit
| - Cell
|   - None
|   - Active (only one can be active)
|   - Selected (the cells actions are applied to)
|   - Multiselected (when multiple selected, the cursor)
|   - No outputs
|----------------------------------------------------------------------------*/

/* Command or edit modes */

.jp-Notebook .jp-Cell:not(.jp-mod-active) .jp-InputPrompt {
  opacity: var(--jp-cell-prompt-not-active-opacity);
  color: var(--jp-cell-prompt-not-active-font-color);
}

.jp-Notebook .jp-Cell:not(.jp-mod-active) .jp-OutputPrompt {
  opacity: var(--jp-cell-prompt-not-active-opacity);
  color: var(--jp-cell-prompt-not-active-font-color);
}

/* cell is active */
.jp-Notebook .jp-Cell.jp-mod-active .jp-Collapser {
  background: var(--jp-brand-color1);
}

/* cell is dirty */
.jp-Notebook .jp-Cell.jp-mod-dirty .jp-InputPrompt {
  color: var(--jp-warn-color1);
}

.jp-Notebook .jp-Cell.jp-mod-dirty .jp-InputPrompt::before {
  color: var(--jp-warn-color1);
  content: '';
}

.jp-Notebook .jp-Cell.jp-mod-active.jp-mod-dirty .jp-Collapser {
  background: var(--jp-warn-color1);
}

/* collapser is hovered */
.jp-Notebook .jp-Cell .jp-Collapser:hover {
  box-shadow: var(--jp-elevation-z2);
  background: var(--jp-brand-color1);
  opacity: var(--jp-cell-collapser-not-active-hover-opacity);
}

/* cell is active and collapser is hovered */
.jp-Notebook .jp-Cell.jp-mod-active .jp-Collapser:hover {
  background: var(--jp-brand-color0);
  opacity: 1;
}

/* Command mode */

.jp-Notebook.jp-mod-commandMode .jp-Cell.jp-mod-selected {
  background: var(--jp-notebook-multiselected-color);
}

.jp-Notebook.jp-mod-commandMode
  .jp-Cell.jp-mod-active.jp-mod-selected:not(.jp-mod-multiSelected) {
  background: transparent;
}

/* Edit mode */

.jp-Notebook.jp-mod-editMode .jp-Cell.jp-mod-active .jp-InputArea-editor {
  border: var(--jp-border-width) solid var(--jp-cell-editor-active-border-color);
  box-shadow: var(--jp-input-box-shadow);
  background-color: var(--jp-cell-editor-active-background);
}

/*-----------------------------------------------------------------------------
| Notebook drag and drop
|----------------------------------------------------------------------------*/

.jp-Notebook-cell.jp-mod-dropSource {
  opacity: 0.5;
}

.jp-Notebook-cell.jp-mod-dropTarget,
.jp-Notebook.jp-mod-commandMode
  .jp-Notebook-cell.jp-mod-active.jp-mod-selected.jp-mod-dropTarget {
  border-top-color: var(--jp-private-notebook-selected-color);
  border-top-style: solid;
  border-top-width: 2px;
}

.jp-dragImage {
  display: block;
  flex-direction: row;
  width: var(--jp-private-notebook-dragImage-width);
  height: var(--jp-private-notebook-dragImage-height);
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  background: var(--jp-cell-editor-background);
  overflow: visible;
}

.jp-dragImage-singlePrompt {
  box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 0.12);
}

.jp-dragImage .jp-dragImage-content {
  flex: 1 1 auto;
  z-index: 2;
  font-size: var(--jp-code-font-size);
  font-family: var(--jp-code-font-family);
  line-height: var(--jp-code-line-height);
  padding: var(--jp-code-padding);
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  background: var(--jp-cell-editor-background-color);
  color: var(--jp-content-font-color3);
  text-align: left;
  margin: 4px 4px 4px 0;
}

.jp-dragImage .jp-dragImage-prompt {
  flex: 0 0 auto;
  min-width: 36px;
  color: var(--jp-cell-inprompt-font-color);
  padding: var(--jp-code-padding);
  padding-left: 12px;
  font-family: var(--jp-cell-prompt-font-family);
  letter-spacing: var(--jp-cell-prompt-letter-spacing);
  line-height: 1.9;
  font-size: var(--jp-code-font-size);
  border: var(--jp-border-width) solid transparent;
}

.jp-dragImage-multipleBack {
  z-index: -1;
  position: absolute;
  height: 32px;
  width: 300px;
  top: 8px;
  left: 8px;
  background: var(--jp-layout-color2);
  border: var(--jp-border-width) solid var(--jp-input-border-color);
  box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 0.12);
}

/*-----------------------------------------------------------------------------
| Cell toolbar
|----------------------------------------------------------------------------*/

.jp-NotebookTools {
  display: block;
  min-width: var(--jp-sidebar-min-width);
  color: var(--jp-ui-font-color1);
  background: var(--jp-layout-color1);

  /* This is needed so that all font sizing of children done in ems is
    * relative to this base size */
  font-size: var(--jp-ui-font-size1);
  overflow: auto;
}

.jp-ActiveCellTool {
  padding: 12px 0;
  display: flex;
}

.jp-ActiveCellTool-Content {
  flex: 1 1 auto;
}

.jp-ActiveCellTool .jp-ActiveCellTool-CellContent {
  background: var(--jp-cell-editor-background);
  border: var(--jp-border-width) solid var(--jp-cell-editor-border-color);
  border-radius: 0;
  min-height: 29px;
}

.jp-ActiveCellTool .jp-InputPrompt {
  min-width: calc(var(--jp-cell-prompt-width) * 0.75);
}

.jp-ActiveCellTool-CellContent > pre {
  padding: 5px 4px;
  margin: 0;
  white-space: normal;
}

.jp-MetadataEditorTool {
  flex-direction: column;
  padding: 12px 0;
}

.jp-RankedPanel > :not(:first-child) {
  margin-top: 12px;
}

.jp-KeySelector select.jp-mod-styled {
  font-size: var(--jp-ui-font-size1);
  color: var(--jp-ui-font-color0);
  border: var(--jp-border-width) solid var(--jp-border-color1);
}

.jp-KeySelector label,
.jp-MetadataEditorTool label,
.jp-NumberSetter label {
  line-height: 1.4;
}

.jp-NotebookTools .jp-select-wrapper {
  margin-top: 4px;
  margin-bottom: 0;
}

.jp-NumberSetter input {
  width: 100%;
  margin-top: 4px;
}

.jp-NotebookTools .jp-Collapse {
  margin-top: 16px;
}

/*-----------------------------------------------------------------------------
| Presentation Mode (.jp-mod-presentationMode)
|----------------------------------------------------------------------------*/

.jp-mod-presentationMode .jp-Notebook {
  --jp-content-font-size1: var(--jp-content-presentation-font-size1);
  --jp-code-font-size: var(--jp-code-presentation-font-size);
}

.jp-mod-presentationMode .jp-Notebook .jp-Cell .jp-InputPrompt,
.jp-mod-presentationMode .jp-Notebook .jp-Cell .jp-OutputPrompt {
  flex: 0 0 110px;
}

/*-----------------------------------------------------------------------------
| Side-by-side Mode (.jp-mod-sideBySide)
|----------------------------------------------------------------------------*/
.jp-mod-sideBySide.jp-Notebook .jp-Notebook-cell {
  margin-top: 3em;
  margin-bottom: 3em;
  margin-left: 5%;
  margin-right: 5%;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell {
  display: grid;
  grid-template-columns: minmax(0, 1fr) min-content minmax(
      0,
      var(--jp-side-by-side-output-size)
    );
  grid-template-rows: auto minmax(0, 1fr) auto;
  grid-template-areas:
    'header header header'
    'input handle output'
    'footer footer footer';
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell.jp-mod-resizedCell {
  grid-template-columns: minmax(0, 1fr) min-content minmax(
      0,
      var(--jp-side-by-side-resized-cell)
    );
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-CellHeader {
  grid-area: header;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-Cell-inputWrapper {
  grid-area: input;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-Cell-outputWrapper {
  /* overwrite the default margin (no vertical separation needed in side by side move */
  margin-top: 0;
  grid-area: output;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-CellFooter {
  grid-area: footer;
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-CellResizeHandle {
  grid-area: handle;
  user-select: none;
  display: block;
  height: 100%;
  cursor: ew-resize;
  padding: 0 var(--jp-cell-padding);
}

.jp-mod-sideBySide.jp-Notebook .jp-CodeCell .jp-CellResizeHandle::after {
  content: '';
  display: block;
  background: var(--jp-border-color2);
  height: 100%;
  width: 5px;
}

.jp-mod-sideBySide.jp-Notebook
  .jp-CodeCell.jp-mod-resizedCell
  .jp-CellResizeHandle::after {
  background: var(--jp-border-color0);
}

.jp-CellResizeHandle {
  display: none;
}

/*-----------------------------------------------------------------------------
| Placeholder
|----------------------------------------------------------------------------*/

.jp-Cell-Placeholder {
  padding-left: 55px;
}

.jp-Cell-Placeholder-wrapper {
  background: #fff;
  border: 1px solid;
  border-color: #e5e6e9 #dfe0e4 #d0d1d5;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  margin: 10px 15px;
}

.jp-Cell-Placeholder-wrapper-inner {
  padding: 15px;
  position: relative;
}

.jp-Cell-Placeholder-wrapper-body {
  background-repeat: repeat;
  background-size: 50% auto;
}

.jp-Cell-Placeholder-wrapper-body div {
  background: #f6f7f8;
  background-image: -webkit-linear-gradient(
    left,
    #f6f7f8 0%,
    #edeef1 20%,
    #f6f7f8 40%,
    #f6f7f8 100%
  );
  background-repeat: no-repeat;
  background-size: 800px 104px;
  height: 104px;
  position: absolute;
  right: 15px;
  left: 15px;
  top: 15px;
}

div.jp-Cell-Placeholder-h1 {
  top: 20px;
  height: 20px;
  left: 15px;
  width: 150px;
}

div.jp-Cell-Placeholder-h2 {
  left: 15px;
  top: 50px;
  height: 10px;
  width: 100px;
}

div.jp-Cell-Placeholder-content-1,
div.jp-Cell-Placeholder-content-2,
div.jp-Cell-Placeholder-content-3 {
  left: 15px;
  right: 15px;
  height: 10px;
}

div.jp-Cell-Placeholder-content-1 {
  top: 100px;
}

div.jp-Cell-Placeholder-content-2 {
  top: 120px;
}

div.jp-Cell-Placeholder-content-3 {
  top: 140px;
}

</style>
<style type="text/css">
/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

/*
The following CSS variables define the main, public API for styling JupyterLab.
These variables should be used by all plugins wherever possible. In other
words, plugins should not define custom colors, sizes, etc unless absolutely
necessary. This enables users to change the visual theme of JupyterLab
by changing these variables.

Many variables appear in an ordered sequence (0,1,2,3). These sequences
are designed to work well together, so for example, `--jp-border-color1` should
be used with `--jp-layout-color1`. The numbers have the following meanings:

* 0: super-primary, reserved for special emphasis
* 1: primary, most important under normal situations
* 2: secondary, next most important under normal situations
* 3: tertiary, next most important under normal situations

Throughout JupyterLab, we are mostly following principles from Google's
Material Design when selecting colors. We are not, however, following
all of MD as it is not optimized for dense, information rich UIs.
*/

:root {
  /* Elevation
   *
   * We style box-shadows using Material Design's idea of elevation. These particular numbers are taken from here:
   *
   * https://github.com/material-components/material-components-web
   * https://material-components-web.appspot.com/elevation.html
   */

  --jp-shadow-base-lightness: 0;
  --jp-shadow-umbra-color: rgba(
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    0.2
  );
  --jp-shadow-penumbra-color: rgba(
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    0.14
  );
  --jp-shadow-ambient-color: rgba(
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    0.12
  );
  --jp-elevation-z0: none;
  --jp-elevation-z1: 0 2px 1px -1px var(--jp-shadow-umbra-color),
    0 1px 1px 0 var(--jp-shadow-penumbra-color),
    0 1px 3px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z2: 0 3px 1px -2px var(--jp-shadow-umbra-color),
    0 2px 2px 0 var(--jp-shadow-penumbra-color),
    0 1px 5px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z4: 0 2px 4px -1px var(--jp-shadow-umbra-color),
    0 4px 5px 0 var(--jp-shadow-penumbra-color),
    0 1px 10px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z6: 0 3px 5px -1px var(--jp-shadow-umbra-color),
    0 6px 10px 0 var(--jp-shadow-penumbra-color),
    0 1px 18px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z8: 0 5px 5px -3px var(--jp-shadow-umbra-color),
    0 8px 10px 1px var(--jp-shadow-penumbra-color),
    0 3px 14px 2px var(--jp-shadow-ambient-color);
  --jp-elevation-z12: 0 7px 8px -4px var(--jp-shadow-umbra-color),
    0 12px 17px 2px var(--jp-shadow-penumbra-color),
    0 5px 22px 4px var(--jp-shadow-ambient-color);
  --jp-elevation-z16: 0 8px 10px -5px var(--jp-shadow-umbra-color),
    0 16px 24px 2px var(--jp-shadow-penumbra-color),
    0 6px 30px 5px var(--jp-shadow-ambient-color);
  --jp-elevation-z20: 0 10px 13px -6px var(--jp-shadow-umbra-color),
    0 20px 31px 3px var(--jp-shadow-penumbra-color),
    0 8px 38px 7px var(--jp-shadow-ambient-color);
  --jp-elevation-z24: 0 11px 15px -7px var(--jp-shadow-umbra-color),
    0 24px 38px 3px var(--jp-shadow-penumbra-color),
    0 9px 46px 8px var(--jp-shadow-ambient-color);

  /* Borders
   *
   * The following variables, specify the visual styling of borders in JupyterLab.
   */

  --jp-border-width: 1px;
  --jp-border-color0: var(--md-grey-400);
  --jp-border-color1: var(--md-grey-400);
  --jp-border-color2: var(--md-grey-300);
  --jp-border-color3: var(--md-grey-200);
  --jp-inverse-border-color: var(--md-grey-600);
  --jp-border-radius: 2px;

  /* UI Fonts
   *
   * The UI font CSS variables are used for the typography all of the JupyterLab
   * user interface elements that are not directly user generated content.
   *
   * The font sizing here is done assuming that the body font size of --jp-ui-font-size1
   * is applied to a parent element. When children elements, such as headings, are sized
   * in em all things will be computed relative to that body size.
   */

  --jp-ui-font-scale-factor: 1.2;
  --jp-ui-font-size0: 0.83333em;
  --jp-ui-font-size1: 13px; /* Base font size */
  --jp-ui-font-size2: 1.2em;
  --jp-ui-font-size3: 1.44em;
  --jp-ui-font-family: system-ui, -apple-system, blinkmacsystemfont, 'Segoe UI',
    helvetica, arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
    'Segoe UI Symbol';

  /*
   * Use these font colors against the corresponding main layout colors.
   * In a light theme, these go from dark to light.
   */

  /* Defaults use Material Design specification */
  --jp-ui-font-color0: rgba(0, 0, 0, 1);
  --jp-ui-font-color1: rgba(0, 0, 0, 0.87);
  --jp-ui-font-color2: rgba(0, 0, 0, 0.54);
  --jp-ui-font-color3: rgba(0, 0, 0, 0.38);

  /*
   * Use these against the brand/accent/warn/error colors.
   * These will typically go from light to darker, in both a dark and light theme.
   */

  --jp-ui-inverse-font-color0: rgba(255, 255, 255, 1);
  --jp-ui-inverse-font-color1: rgba(255, 255, 255, 1);
  --jp-ui-inverse-font-color2: rgba(255, 255, 255, 0.7);
  --jp-ui-inverse-font-color3: rgba(255, 255, 255, 0.5);

  /* Content Fonts
   *
   * Content font variables are used for typography of user generated content.
   *
   * The font sizing here is done assuming that the body font size of --jp-content-font-size1
   * is applied to a parent element. When children elements, such as headings, are sized
   * in em all things will be computed relative to that body size.
   */

  --jp-content-line-height: 1.6;
  --jp-content-font-scale-factor: 1.2;
  --jp-content-font-size0: 0.83333em;
  --jp-content-font-size1: 14px; /* Base font size */
  --jp-content-font-size2: 1.2em;
  --jp-content-font-size3: 1.44em;
  --jp-content-font-size4: 1.728em;
  --jp-content-font-size5: 2.0736em;

  /* This gives a magnification of about 125% in presentation mode over normal. */
  --jp-content-presentation-font-size1: 17px;
  --jp-content-heading-line-height: 1;
  --jp-content-heading-margin-top: 1.2em;
  --jp-content-heading-margin-bottom: 0.8em;
  --jp-content-heading-font-weight: 500;

  /* Defaults use Material Design specification */
  --jp-content-font-color0: rgba(0, 0, 0, 1);
  --jp-content-font-color1: rgba(0, 0, 0, 0.87);
  --jp-content-font-color2: rgba(0, 0, 0, 0.54);
  --jp-content-font-color3: rgba(0, 0, 0, 0.38);
  --jp-content-link-color: var(--md-blue-900);
  --jp-content-font-family: system-ui, -apple-system, blinkmacsystemfont,
    'Segoe UI', helvetica, arial, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol';

  /*
   * Code Fonts
   *
   * Code font variables are used for typography of code and other monospaces content.
   */

  --jp-code-font-size: 13px;
  --jp-code-line-height: 1.3077; /* 17px for 13px base */
  --jp-code-padding: 5px; /* 5px for 13px base, codemirror highlighting needs integer px value */
  --jp-code-font-family-default: menlo, consolas, 'DejaVu Sans Mono', monospace;
  --jp-code-font-family: var(--jp-code-font-family-default);

  /* This gives a magnification of about 125% in presentation mode over normal. */
  --jp-code-presentation-font-size: 16px;

  /* may need to tweak cursor width if you change font size */
  --jp-code-cursor-width0: 1.4px;
  --jp-code-cursor-width1: 2px;
  --jp-code-cursor-width2: 4px;

  /* Layout
   *
   * The following are the main layout colors use in JupyterLab. In a light
   * theme these would go from light to dark.
   */

  --jp-layout-color0: white;
  --jp-layout-color1: white;
  --jp-layout-color2: var(--md-grey-200);
  --jp-layout-color3: var(--md-grey-400);
  --jp-layout-color4: var(--md-grey-600);

  /* Inverse Layout
   *
   * The following are the inverse layout colors use in JupyterLab. In a light
   * theme these would go from dark to light.
   */

  --jp-inverse-layout-color0: #111;
  --jp-inverse-layout-color1: var(--md-grey-900);
  --jp-inverse-layout-color2: var(--md-grey-800);
  --jp-inverse-layout-color3: var(--md-grey-700);
  --jp-inverse-layout-color4: var(--md-grey-600);

  /* Brand/accent */

  --jp-brand-color0: var(--md-blue-900);
  --jp-brand-color1: var(--md-blue-700);
  --jp-brand-color2: var(--md-blue-300);
  --jp-brand-color3: var(--md-blue-100);
  --jp-brand-color4: var(--md-blue-50);
  --jp-accent-color0: var(--md-green-900);
  --jp-accent-color1: var(--md-green-700);
  --jp-accent-color2: var(--md-green-300);
  --jp-accent-color3: var(--md-green-100);

  /* State colors (warn, error, success, info) */

  --jp-warn-color0: var(--md-orange-900);
  --jp-warn-color1: var(--md-orange-700);
  --jp-warn-color2: var(--md-orange-300);
  --jp-warn-color3: var(--md-orange-100);
  --jp-error-color0: var(--md-red-900);
  --jp-error-color1: var(--md-red-700);
  --jp-error-color2: var(--md-red-300);
  --jp-error-color3: var(--md-red-100);
  --jp-success-color0: var(--md-green-900);
  --jp-success-color1: var(--md-green-700);
  --jp-success-color2: var(--md-green-300);
  --jp-success-color3: var(--md-green-100);
  --jp-info-color0: var(--md-cyan-900);
  --jp-info-color1: var(--md-cyan-700);
  --jp-info-color2: var(--md-cyan-300);
  --jp-info-color3: var(--md-cyan-100);

  /* Cell specific styles */

  --jp-cell-padding: 5px;
  --jp-cell-collapser-width: 8px;
  --jp-cell-collapser-min-height: 20px;
  --jp-cell-collapser-not-active-hover-opacity: 0.6;
  --jp-cell-editor-background: var(--md-grey-100);
  --jp-cell-editor-border-color: var(--md-grey-300);
  --jp-cell-editor-box-shadow: inset 0 0 2px var(--md-blue-300);
  --jp-cell-editor-active-background: var(--jp-layout-color0);
  --jp-cell-editor-active-border-color: var(--jp-brand-color1);
  --jp-cell-prompt-width: 64px;
  --jp-cell-prompt-font-family: var(--jp-code-font-family-default);
  --jp-cell-prompt-letter-spacing: 0;
  --jp-cell-prompt-opacity: 1;
  --jp-cell-prompt-not-active-opacity: 0.5;
  --jp-cell-prompt-not-active-font-color: var(--md-grey-700);

  /* A custom blend of MD grey and blue 600
   * See https://meyerweb.com/eric/tools/color-blend/#546E7A:1E88E5:5:hex */
  --jp-cell-inprompt-font-color: #307fc1;

  /* A custom blend of MD grey and orange 600
   * https://meyerweb.com/eric/tools/color-blend/#546E7A:F4511E:5:hex */
  --jp-cell-outprompt-font-color: #bf5b3d;

  /* Notebook specific styles */

  --jp-notebook-padding: 10px;
  --jp-notebook-select-background: var(--jp-layout-color1);
  --jp-notebook-multiselected-color: var(--md-blue-50);

  /* The scroll padding is calculated to fill enough space at the bottom of the
  notebook to show one single-line cell (with appropriate padding) at the top
  when the notebook is scrolled all the way to the bottom. We also subtract one
  pixel so that no scrollbar appears if we have just one single-line cell in the
  notebook. This padding is to enable a 'scroll past end' feature in a notebook.
  */
  --jp-notebook-scroll-padding: calc(
    100% - var(--jp-code-font-size) * var(--jp-code-line-height) -
      var(--jp-code-padding) - var(--jp-cell-padding) - 1px
  );

  /* Rendermime styles */

  --jp-rendermime-error-background: #fdd;
  --jp-rendermime-table-row-background: var(--md-grey-100);
  --jp-rendermime-table-row-hover-background: var(--md-light-blue-50);

  /* Dialog specific styles */

  --jp-dialog-background: rgba(0, 0, 0, 0.25);

  /* Console specific styles */

  --jp-console-padding: 10px;

  /* Toolbar specific styles */

  --jp-toolbar-border-color: var(--jp-border-color1);
  --jp-toolbar-micro-height: 8px;
  --jp-toolbar-background: var(--jp-layout-color1);
  --jp-toolbar-box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.24);
  --jp-toolbar-header-margin: 4px 4px 0 4px;
  --jp-toolbar-active-background: var(--md-grey-300);

  /* Statusbar specific styles */

  --jp-statusbar-height: 24px;

  /* Input field styles */

  --jp-input-box-shadow: inset 0 0 2px var(--md-blue-300);
  --jp-input-active-background: var(--jp-layout-color1);
  --jp-input-hover-background: var(--jp-layout-color1);
  --jp-input-background: var(--md-grey-100);
  --jp-input-border-color: var(--jp-inverse-border-color);
  --jp-input-active-border-color: var(--jp-brand-color1);
  --jp-input-active-box-shadow-color: rgba(19, 124, 189, 0.3);

  /* General editor styles */

  --jp-editor-selected-background: #d9d9d9;
  --jp-editor-selected-focused-background: #d7d4f0;
  --jp-editor-cursor-color: var(--jp-ui-font-color0);

  /* Code mirror specific styles */

  --jp-mirror-editor-keyword-color: #008000;
  --jp-mirror-editor-atom-color: #88f;
  --jp-mirror-editor-number-color: #080;
  --jp-mirror-editor-def-color: #00f;
  --jp-mirror-editor-variable-color: var(--md-grey-900);
  --jp-mirror-editor-variable-2-color: rgb(0, 54, 109);
  --jp-mirror-editor-variable-3-color: #085;
  --jp-mirror-editor-punctuation-color: #05a;
  --jp-mirror-editor-property-color: #05a;
  --jp-mirror-editor-operator-color: #a2f;
  --jp-mirror-editor-comment-color: #408080;
  --jp-mirror-editor-string-color: #ba2121;
  --jp-mirror-editor-string-2-color: #708;
  --jp-mirror-editor-meta-color: #a2f;
  --jp-mirror-editor-qualifier-color: #555;
  --jp-mirror-editor-builtin-color: #008000;
  --jp-mirror-editor-bracket-color: #997;
  --jp-mirror-editor-tag-color: #170;
  --jp-mirror-editor-attribute-color: #00c;
  --jp-mirror-editor-header-color: blue;
  --jp-mirror-editor-quote-color: #090;
  --jp-mirror-editor-link-color: #00c;
  --jp-mirror-editor-error-color: #f00;
  --jp-mirror-editor-hr-color: #999;

  /*
    RTC user specific colors.
    These colors are used for the cursor, username in the editor,
    and the icon of the user.
  */

  --jp-collaborator-color1: #ffad8e;
  --jp-collaborator-color2: #dac83d;
  --jp-collaborator-color3: #72dd76;
  --jp-collaborator-color4: #00e4d0;
  --jp-collaborator-color5: #45d4ff;
  --jp-collaborator-color6: #e2b1ff;
  --jp-collaborator-color7: #ff9de6;

  /* Vega extension styles */

  --jp-vega-background: white;

  /* Sidebar-related styles */

  --jp-sidebar-min-width: 250px;

  /* Search-related styles */

  --jp-search-toggle-off-opacity: 0.5;
  --jp-search-toggle-hover-opacity: 0.8;
  --jp-search-toggle-on-opacity: 1;
  --jp-search-selected-match-background-color: rgb(245, 200, 0);
  --jp-search-selected-match-color: black;
  --jp-search-unselected-match-background-color: var(
    --jp-inverse-layout-color0
  );
  --jp-search-unselected-match-color: var(--jp-ui-inverse-font-color0);

  /* Icon colors that work well with light or dark backgrounds */
  --jp-icon-contrast-color0: var(--md-purple-600);
  --jp-icon-contrast-color1: var(--md-green-600);
  --jp-icon-contrast-color2: var(--md-pink-600);
  --jp-icon-contrast-color3: var(--md-blue-600);

  /* Button colors */
  --jp-accept-color-normal: var(--md-blue-700);
  --jp-accept-color-hover: var(--md-blue-800);
  --jp-accept-color-active: var(--md-blue-900);
  --jp-warn-color-normal: var(--md-red-700);
  --jp-warn-color-hover: var(--md-red-800);
  --jp-warn-color-active: var(--md-red-900);
  --jp-reject-color-normal: var(--md-grey-600);
  --jp-reject-color-hover: var(--md-grey-700);
  --jp-reject-color-active: var(--md-grey-800);

  /* File or activity icons and switch semantic variables */
  --jp-jupyter-icon-color: #f37626;
  --jp-notebook-icon-color: #f37626;
  --jp-json-icon-color: var(--md-orange-700);
  --jp-console-icon-background-color: var(--md-blue-700);
  --jp-console-icon-color: white;
  --jp-terminal-icon-background-color: var(--md-grey-800);
  --jp-terminal-icon-color: var(--md-grey-200);
  --jp-text-editor-icon-color: var(--md-grey-700);
  --jp-inspector-icon-color: var(--md-grey-700);
  --jp-switch-color: var(--md-grey-400);
  --jp-switch-true-position-color: var(--md-orange-900);
}
</style>
<style type="text/css">
/* Force rendering true colors when outputing to pdf */
* {
  -webkit-print-color-adjust: exact;
}

/* Misc */
a.anchor-link {
  display: none;
}

/* Input area styling */
.jp-InputArea {
  overflow: hidden;
}

.jp-InputArea-editor {
  overflow: hidden;
}

.cm-editor.cm-s-jupyter .highlight pre {
/* weird, but --jp-code-padding defined to be 5px but 4px horizontal padding is hardcoded for pre.cm-line */
  padding: var(--jp-code-padding) 4px;
  margin: 0;

  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  color: inherit;

}

.jp-OutputArea-output pre {
  line-height: inherit;
  font-family: inherit;
}

.jp-RenderedText pre {
  color: var(--jp-content-font-color1);
  font-size: var(--jp-code-font-size);
}

/* Hiding the collapser by default */
.jp-Collapser {
  display: none;
}

@page {
    margin: 0.5in; /* Margin for each printed piece of paper */
}

@media print {
  .jp-Cell-inputWrapper,
  .jp-Cell-outputWrapper {
    display: block;
  }
}
</style>
<!-- Load mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML-full,Safe"> </script>
<!-- MathJax configuration -->
<script type="text/x-mathjax-config">
    init_mathjax = function() {
        if (window.MathJax) {
        // MathJax loaded
            MathJax.Hub.Config({
                TeX: {
                    equationNumbers: {
                    autoNumber: "AMS",
                    useLabelIds: true
                    }
                },
                tex2jax: {
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                    processEscapes: true,
                    processEnvironments: true
                },
                displayAlign: 'center',
                CommonHTML: {
                    linebreaks: {
                    automatic: true
                    }
                }
            });

            MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        }
    }
    init_mathjax();
    </script>
<!-- End of mathjax configuration --><script type="module">
  document.addEventListener("DOMContentLoaded", async () => {
    const diagrams = document.querySelectorAll(".jp-Mermaid > pre.mermaid");
    // do not load mermaidjs if not needed
    if (!diagrams.length) {
      return;
    }
    const mermaid = (await import("https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.7.0/mermaid.esm.min.mjs")).default;
    const parser = new DOMParser();

    mermaid.initialize({
      maxTextSize: 100000,
      maxEdges: 100000,
      startOnLoad: false,
      fontFamily: window
        .getComputedStyle(document.body)
        .getPropertyValue("--jp-ui-font-family"),
      theme: document.querySelector("body[data-jp-theme-light='true']")
        ? "default"
        : "dark",
    });

    let _nextMermaidId = 0;

    function makeMermaidImage(svg) {
      const img = document.createElement("img");
      const doc = parser.parseFromString(svg, "image/svg+xml");
      const svgEl = doc.querySelector("svg");
      const { maxWidth } = svgEl?.style || {};
      const firstTitle = doc.querySelector("title");
      const firstDesc = doc.querySelector("desc");

      img.setAttribute("src", `data:image/svg+xml,${encodeURIComponent(svg)}`);
      if (maxWidth) {
        img.width = parseInt(maxWidth);
      }
      if (firstTitle) {
        img.setAttribute("alt", firstTitle.textContent);
      }
      if (firstDesc) {
        const caption = document.createElement("figcaption");
        caption.className = "sr-only";
        caption.textContent = firstDesc.textContent;
        return [img, caption];
      }
      return [img];
    }

    async function makeMermaidError(text) {
      let errorMessage = "";
      try {
        await mermaid.parse(text);
      } catch (err) {
        errorMessage = `${err}`;
      }

      const result = document.createElement("details");
      result.className = 'jp-RenderedMermaid-Details';
      const summary = document.createElement("summary");
      summary.className = 'jp-RenderedMermaid-Summary';
      const pre = document.createElement("pre");
      const code = document.createElement("code");
      code.innerText = text;
      pre.appendChild(code);
      summary.appendChild(pre);
      result.appendChild(summary);

      const warning = document.createElement("pre");
      warning.innerText = errorMessage;
      result.appendChild(warning);
      return [result];
    }

    async function renderOneMarmaid(src) {
      const id = `jp-mermaid-${_nextMermaidId++}`;
      const parent = src.parentNode;
      let raw = src.textContent.trim();
      const el = document.createElement("div");
      el.style.visibility = "hidden";
      document.body.appendChild(el);
      let results = null;
      let output = null;
      try {
        let { svg } = await mermaid.render(id, raw, el);
        svg = cleanMermaidSvg(svg);
        results = makeMermaidImage(svg);
        output = document.createElement("figure");
        results.map(output.appendChild, output);
      } catch (err) {
        parent.classList.add("jp-mod-warning");
        results = await makeMermaidError(raw);
        output = results[0];
      } finally {
        el.remove();
      }
      parent.classList.add("jp-RenderedMermaid");
      parent.appendChild(output);
    }


    /**
     * Post-process to ensure mermaid diagrams contain only valid SVG and XHTML.
     */
    function cleanMermaidSvg(svg) {
      return svg.replace(RE_VOID_ELEMENT, replaceVoidElement);
    }


    /**
     * A regular expression for all void elements, which may include attributes and
     * a slash.
     *
     * @see https://developer.mozilla.org/en-US/docs/Glossary/Void_element
     *
     * Of these, only `<br>` is generated by Mermaid in place of `\n`,
     * but _any_ "malformed" tag will break the SVG rendering entirely.
     */
    const RE_VOID_ELEMENT =
      /<\s*(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)\s*([^>]*?)\s*>/gi;

    /**
     * Ensure a void element is closed with a slash, preserving any attributes.
     */
    function replaceVoidElement(match, tag, rest) {
      rest = rest.trim();
      if (!rest.endsWith('/')) {
        rest = `${rest} /`;
      }
      return `<${tag} ${rest}>`;
    }

    void Promise.all([...diagrams].map(renderOneMarmaid));
  });
</script>
<style>
  .jp-Mermaid:not(.jp-RenderedMermaid) {
    display: none;
  }

  .jp-RenderedMermaid {
    overflow: auto;
    display: flex;
  }

  .jp-RenderedMermaid.jp-mod-warning {
    width: auto;
    padding: 0.5em;
    margin-top: 0.5em;
    border: var(--jp-border-width) solid var(--jp-warn-color2);
    border-radius: var(--jp-border-radius);
    color: var(--jp-ui-font-color1);
    font-size: var(--jp-ui-font-size1);
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .jp-RenderedMermaid figure {
    margin: 0;
    overflow: auto;
    max-width: 100%;
  }

  .jp-RenderedMermaid img {
    max-width: 100%;
  }

  .jp-RenderedMermaid-Details > pre {
    margin-top: 1em;
  }

  .jp-RenderedMermaid-Summary {
    color: var(--jp-warn-color2);
  }

  .jp-RenderedMermaid:not(.jp-mod-warning) pre {
    display: none;
  }

  .jp-RenderedMermaid-Summary > pre {
    display: inline-block;
    white-space: normal;
  }
</style>
<!-- End of mermaid configuration --></head>
<body class="jp-Notebook" data-jp-theme-light="true" data-jp-theme-name="JupyterLab Light">
<main><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=6e41b17f-3316-48be-a08d-ef35c1153340">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In[]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># This notebook calculates the production and demand values for the solar scenario.</span>
<span class="c1"># First solar is multiplied by 3 (200% increase).</span>
<span class="c1"># Then short term storage can redistribute electricity to hours of the same season with a 10% loss.</span>
<span class="c1"># After this long term storage can redistribute electricity any hour however with a 25% loss.</span>
<span class="c1"># Nuclear, Geothermal and Wind are unchanged.</span>
<span class="c1"># Biomass/Biogas, Hydro, Waste and Other are set to varry depending on consumption-production imbalances.</span>
<span class="c1"># Fossil-fuels fill the gaps.</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=c1e70ced-0336-4623-8a8b-794b452a717c">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In[22]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Multiplies solar by 3</span>

<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1"># Define seasons and hours</span>
<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"spring"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">,</span> <span class="s2">"fall"</span><span class="p">,</span> <span class="s2">"winter"</span><span class="p">]</span>
<span class="n">hours</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">h</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">"</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">)]</span>  

<span class="c1"># Paths</span>
<span class="n">input_dir</span> <span class="o">=</span> <span class="s2">"/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/Raw"</span>
<span class="n">output_dir</span> <span class="o">=</span> <span class="s2">"/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/Base"</span>

<span class="c1"># Create output directory if it doesn't exist</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Renewable attributes to modify</span>
<span class="n">renewable_attrs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"Solar"</span><span class="p">]</span>
<span class="n">multiplier</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1"># Process all scenarios</span>
<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">hour</span> <span class="ow">in</span> <span class="n">hours</span><span class="p">:</span>
        <span class="c1"># Load the original scenario graph</span>
        <span class="n">input_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"Scenario_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">hour</span><span class="si">}</span><span class="s2">.pkl"</span>
        <span class="n">input_filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">input_dir</span><span class="p">,</span> <span class="n">input_filename</span><span class="p">)</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">input_filepath</span><span class="p">,</span> <span class="s2">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">G</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            
            <span class="c1"># Modify renewable energy attributes for all nodes</span>
            <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">renewable_attrs</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                        <span class="n">data</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">*=</span> <span class="n">multiplier</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Warning: Node </span><span class="si">{</span><span class="n">node</span><span class="si">}</span><span class="s2"> missing '</span><span class="si">{</span><span class="n">attr</span><span class="si">}</span><span class="s2">' attribute in </span><span class="si">{</span><span class="n">input_filename</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            
            <span class="c1"># Save the modified graph</span>
            <span class="n">output_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"SolarStorage_Base_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hour</span><span class="si">}</span><span class="s2">.pkl"</span>
            <span class="n">output_filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">output_filename</span><span class="p">)</span>
            
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_filepath</span><span class="p">,</span> <span class="s2">"wb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f_out</span><span class="p">:</span>
                <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">f_out</span><span class="p">)</span>
            
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Processed and saved: </span><span class="si">{</span><span class="n">output_filename</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Error: Input file not found: </span><span class="si">{</span><span class="n">input_filepath</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Error processing </span><span class="si">{</span><span class="n">input_filename</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Completed processing all scenarios."</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Modified renewable attributes: </span><span class="si">{</span><span class="n">renewable_attrs</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Multiplication factor: </span><span class="si">{</span><span class="n">multiplier</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Output directory: </span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Processed and saved: SolarStorage_Base_spring_hour00.pkl
Processed and saved: SolarStorage_Base_spring_hour01.pkl
Processed and saved: SolarStorage_Base_spring_hour02.pkl
Processed and saved: SolarStorage_Base_spring_hour03.pkl
Processed and saved: SolarStorage_Base_spring_hour04.pkl
Processed and saved: SolarStorage_Base_spring_hour05.pkl
Processed and saved: SolarStorage_Base_spring_hour06.pkl
Processed and saved: SolarStorage_Base_spring_hour07.pkl
Processed and saved: SolarStorage_Base_spring_hour08.pkl
Processed and saved: SolarStorage_Base_spring_hour09.pkl
Processed and saved: SolarStorage_Base_spring_hour10.pkl
Processed and saved: SolarStorage_Base_spring_hour11.pkl
Processed and saved: SolarStorage_Base_spring_hour12.pkl
Processed and saved: SolarStorage_Base_spring_hour13.pkl
Processed and saved: SolarStorage_Base_spring_hour14.pkl
Processed and saved: SolarStorage_Base_spring_hour15.pkl
Processed and saved: SolarStorage_Base_spring_hour16.pkl
Processed and saved: SolarStorage_Base_spring_hour17.pkl
Processed and saved: SolarStorage_Base_spring_hour18.pkl
Processed and saved: SolarStorage_Base_spring_hour19.pkl
Processed and saved: SolarStorage_Base_spring_hour20.pkl
Processed and saved: SolarStorage_Base_spring_hour21.pkl
Processed and saved: SolarStorage_Base_spring_hour22.pkl
Processed and saved: SolarStorage_Base_spring_hour23.pkl
Processed and saved: SolarStorage_Base_summer_hour00.pkl
Processed and saved: SolarStorage_Base_summer_hour01.pkl
Processed and saved: SolarStorage_Base_summer_hour02.pkl
Processed and saved: SolarStorage_Base_summer_hour03.pkl
Processed and saved: SolarStorage_Base_summer_hour04.pkl
Processed and saved: SolarStorage_Base_summer_hour05.pkl
Processed and saved: SolarStorage_Base_summer_hour06.pkl
Processed and saved: SolarStorage_Base_summer_hour07.pkl
Processed and saved: SolarStorage_Base_summer_hour08.pkl
Processed and saved: SolarStorage_Base_summer_hour09.pkl
Processed and saved: SolarStorage_Base_summer_hour10.pkl
Processed and saved: SolarStorage_Base_summer_hour11.pkl
Processed and saved: SolarStorage_Base_summer_hour12.pkl
Processed and saved: SolarStorage_Base_summer_hour13.pkl
Processed and saved: SolarStorage_Base_summer_hour14.pkl
Processed and saved: SolarStorage_Base_summer_hour15.pkl
Processed and saved: SolarStorage_Base_summer_hour16.pkl
Processed and saved: SolarStorage_Base_summer_hour17.pkl
Processed and saved: SolarStorage_Base_summer_hour18.pkl
Processed and saved: SolarStorage_Base_summer_hour19.pkl
Processed and saved: SolarStorage_Base_summer_hour20.pkl
Processed and saved: SolarStorage_Base_summer_hour21.pkl
Processed and saved: SolarStorage_Base_summer_hour22.pkl
Processed and saved: SolarStorage_Base_summer_hour23.pkl
Processed and saved: SolarStorage_Base_fall_hour00.pkl
Processed and saved: SolarStorage_Base_fall_hour01.pkl
Processed and saved: SolarStorage_Base_fall_hour02.pkl
Processed and saved: SolarStorage_Base_fall_hour03.pkl
Processed and saved: SolarStorage_Base_fall_hour04.pkl
Processed and saved: SolarStorage_Base_fall_hour05.pkl
Processed and saved: SolarStorage_Base_fall_hour06.pkl
Processed and saved: SolarStorage_Base_fall_hour07.pkl
Processed and saved: SolarStorage_Base_fall_hour08.pkl
Processed and saved: SolarStorage_Base_fall_hour09.pkl
Processed and saved: SolarStorage_Base_fall_hour10.pkl
Processed and saved: SolarStorage_Base_fall_hour11.pkl
Processed and saved: SolarStorage_Base_fall_hour12.pkl
Processed and saved: SolarStorage_Base_fall_hour13.pkl
Processed and saved: SolarStorage_Base_fall_hour14.pkl
Processed and saved: SolarStorage_Base_fall_hour15.pkl
Processed and saved: SolarStorage_Base_fall_hour16.pkl
Processed and saved: SolarStorage_Base_fall_hour17.pkl
Processed and saved: SolarStorage_Base_fall_hour18.pkl
Processed and saved: SolarStorage_Base_fall_hour19.pkl
Processed and saved: SolarStorage_Base_fall_hour20.pkl
Processed and saved: SolarStorage_Base_fall_hour21.pkl
Processed and saved: SolarStorage_Base_fall_hour22.pkl
Processed and saved: SolarStorage_Base_fall_hour23.pkl
Processed and saved: SolarStorage_Base_winter_hour00.pkl
Processed and saved: SolarStorage_Base_winter_hour01.pkl
Processed and saved: SolarStorage_Base_winter_hour02.pkl
Processed and saved: SolarStorage_Base_winter_hour03.pkl
Processed and saved: SolarStorage_Base_winter_hour04.pkl
Processed and saved: SolarStorage_Base_winter_hour05.pkl
Processed and saved: SolarStorage_Base_winter_hour06.pkl
Processed and saved: SolarStorage_Base_winter_hour07.pkl
Processed and saved: SolarStorage_Base_winter_hour08.pkl
Processed and saved: SolarStorage_Base_winter_hour09.pkl
Processed and saved: SolarStorage_Base_winter_hour10.pkl
Processed and saved: SolarStorage_Base_winter_hour11.pkl
Processed and saved: SolarStorage_Base_winter_hour12.pkl
Processed and saved: SolarStorage_Base_winter_hour13.pkl
Processed and saved: SolarStorage_Base_winter_hour14.pkl
Processed and saved: SolarStorage_Base_winter_hour15.pkl
Processed and saved: SolarStorage_Base_winter_hour16.pkl
Processed and saved: SolarStorage_Base_winter_hour17.pkl
Processed and saved: SolarStorage_Base_winter_hour18.pkl
Processed and saved: SolarStorage_Base_winter_hour19.pkl
Processed and saved: SolarStorage_Base_winter_hour20.pkl
Processed and saved: SolarStorage_Base_winter_hour21.pkl
Processed and saved: SolarStorage_Base_winter_hour22.pkl
Processed and saved: SolarStorage_Base_winter_hour23.pkl

Completed processing all scenarios.
Modified renewable attributes: ['Solar']
Multiplication factor: 3
Output directory: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/Base
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=c1e8a881-1c84-4d73-99e7-0a091a9f3528">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In[25]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Combined Short-term and Long-term Storage Processing Script</span>
<span class="c1"># Processes short-term storage first, then long-term storage across all 96 hours</span>
<span class="c1"># Updates existing Base graphs with storage attributes instead of creating new ones</span>

<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Configuration</span>
<span class="n">STORAGE_RETENTION</span> <span class="o">=</span> <span class="mf">0.9</span>  <span class="c1"># Short-term storage retention</span>
<span class="n">LT_STORAGE_RETENTION</span> <span class="o">=</span> <span class="mf">0.75</span>  <span class="c1"># Long-term storage retention</span>
<span class="n">LT_STORAGE_MULTIPLIER</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Solar * 5 for long-term storage</span>
<span class="n">number_hours_considered</span> <span class="o">=</span> <span class="mi">12</span>  <span class="c1"># Number of top hours to consider for LT storage (out of 96)</span>
<span class="n">Solar_threshhold</span> <span class="o">=</span> <span class="mi">20</span>

<span class="n">PRODUCTION_KEYS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Nuclear'</span><span class="p">,</span> <span class="s1">'Wind'</span><span class="p">,</span> <span class="s1">'Solar'</span><span class="p">,</span> <span class="s1">'Geothermal'</span><span class="p">]</span>
<span class="n">CONSUMPTION_KEYS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Industry'</span><span class="p">,</span> <span class="s1">'Others'</span><span class="p">,</span> <span class="s1">'Transport'</span><span class="p">,</span> <span class="s1">'Transform'</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">calculate_balance</span><span class="p">(</span><span class="n">production_fix</span><span class="p">,</span> <span class="n">consumption_sum</span><span class="p">,</span> <span class="n">storage_impact</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Calculate electric balance for a node"""</span>
    <span class="k">return</span> <span class="n">production_fix</span> <span class="o">-</span> <span class="n">consumption_sum</span> <span class="o">+</span> <span class="n">storage_impact</span>

<span class="k">def</span> <span class="nf">calculate_balance_with_storage</span><span class="p">(</span><span class="n">production_fix</span><span class="p">,</span> <span class="n">consumption_sum</span><span class="p">,</span> <span class="n">storage_impact</span><span class="p">,</span> <span class="n">lt_storage_impact</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Calculate electric balance for a node including both short-term and long-term storage impacts"""</span>
    <span class="k">return</span> <span class="n">production_fix</span> <span class="o">-</span> <span class="n">consumption_sum</span> <span class="o">+</span> <span class="n">storage_impact</span> <span class="o">+</span> <span class="n">lt_storage_impact</span>

<span class="k">def</span> <span class="nf">add_production_and_consumption_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Add production, consumption, and storage_impact attributes to all nodes"""</span>
    <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="c1"># Calculate production_fix (MWh) - sum of fixed production sources</span>
        <span class="n">production</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">PRODUCTION_KEYS</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">'production_fix (MWh)'</span><span class="p">]</span> <span class="o">=</span> <span class="n">production</span>
        
        <span class="c1"># Calculate consumption_sum (MWh) - sum of all consumption/demand</span>
        <span class="n">consumption</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">CONSUMPTION_KEYS</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">'consumption_sum (MWh)'</span><span class="p">]</span> <span class="o">=</span> <span class="n">consumption</span>
        
        <span class="c1"># Add storage_impact attribute set to zero</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">'storage_impact'</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>

<span class="k">def</span> <span class="nf">redistribute_battery_storage</span><span class="p">(</span><span class="n">season_graphs</span><span class="p">,</span> <span class="n">season_name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Redistribute battery storage for all nodes across 24 hours for one season.</span>
<span class="sd">    Always uses the full Battery Storage capacity with proper stepwise leveling.</span>
<span class="sd">    """</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Redistributing short-term storage for </span><span class="si">{</span><span class="n">season_name</span><span class="si">}</span><span class="s2">..."</span><span class="p">)</span>
    
    <span class="c1"># Get all unique nodes across the 24 graphs</span>
    <span class="n">all_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">G</span> <span class="ow">in</span> <span class="n">season_graphs</span><span class="p">:</span>
        <span class="n">all_nodes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">())</span>
    
    <span class="n">nodes_processed</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">all_nodes</span><span class="p">:</span>
        <span class="c1"># Check if this node has battery storage in any of the 24 hours</span>
        <span class="n">battery_storage</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">G</span> <span class="ow">in</span> <span class="n">season_graphs</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                <span class="n">battery_storage</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Battery Storage'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">battery_storage</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">break</span>
        
        <span class="k">if</span> <span class="n">battery_storage</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">continue</span>  <span class="c1"># Skip nodes without battery storage</span>
        
        <span class="n">nodes_processed</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">nodes_processed</span> <span class="o">%</span> <span class="mi">50</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"    Processed </span><span class="si">{</span><span class="n">nodes_processed</span><span class="si">}</span><span class="s2"> nodes with battery storage..."</span><span class="p">)</span>
        
        <span class="c1"># Collect initial balances and data for all 24 hours</span>
        <span class="n">hour_data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">hour</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">):</span>
            <span class="n">G</span> <span class="o">=</span> <span class="n">season_graphs</span><span class="p">[</span><span class="n">hour</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span>
                <span class="n">production_fix</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_fix (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
                <span class="n">consumption_sum</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'consumption_sum (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
                <span class="n">storage_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
                <span class="n">balance</span> <span class="o">=</span> <span class="n">calculate_balance</span><span class="p">(</span><span class="n">production_fix</span><span class="p">,</span> <span class="n">consumption_sum</span><span class="p">,</span> <span class="n">storage_impact</span><span class="p">)</span>
                
                <span class="n">hour_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                    <span class="s1">'hour'</span><span class="p">:</span> <span class="n">hour</span><span class="p">,</span>
                    <span class="s1">'production_fix'</span><span class="p">:</span> <span class="n">production_fix</span><span class="p">,</span>
                    <span class="s1">'consumption_sum'</span><span class="p">:</span> <span class="n">consumption_sum</span><span class="p">,</span>
                    <span class="s1">'storage_impact'</span><span class="p">:</span> <span class="n">storage_impact</span><span class="p">,</span>
                    <span class="s1">'balance'</span><span class="p">:</span> <span class="n">balance</span>
                <span class="p">})</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Node doesn't exist in this hour's graph</span>
                <span class="n">hour_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                    <span class="s1">'hour'</span><span class="p">:</span> <span class="n">hour</span><span class="p">,</span>
                    <span class="s1">'production_fix'</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                    <span class="s1">'consumption_sum'</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                    <span class="s1">'storage_impact'</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                    <span class="s1">'balance'</span><span class="p">:</span> <span class="mf">0.0</span>
                <span class="p">})</span>
        
        <span class="c1"># Phase 1: Remove energy from highest balance hours (stepwise leveling)</span>
        <span class="n">battery_used</span> <span class="o">=</span> <span class="mf">0.0</span>
        
        <span class="k">while</span> <span class="n">battery_used</span> <span class="o">&lt;</span> <span class="n">battery_storage</span> <span class="o">-</span> <span class="mf">1e-6</span><span class="p">:</span>
            <span class="c1"># Sort by balance (highest first)</span>
            <span class="n">sorted_hours</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">hour_data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            
            <span class="c1"># Find unique balance levels</span>
            <span class="n">unique_balances</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">sorted_hours</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">unique_balances</span> <span class="ow">or</span> <span class="nb">abs</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">-</span> <span class="n">unique_balances</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mf">1e-6</span><span class="p">:</span>
                    <span class="n">unique_balances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">])</span>
            
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">unique_balances</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># All balances are the same, stop Phase 1</span>
                <span class="k">break</span>
            
            <span class="c1"># Get the highest and second highest balance levels</span>
            <span class="n">highest_balance</span> <span class="o">=</span> <span class="n">unique_balances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">second_highest_balance</span> <span class="o">=</span> <span class="n">unique_balances</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            
            <span class="c1"># Find all hours at the highest balance level</span>
            <span class="n">hours_at_highest</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">hour_data</span> <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">-</span> <span class="n">highest_balance</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-6</span><span class="p">]</span>
            
            <span class="k">if</span> <span class="ow">not</span> <span class="n">hours_at_highest</span><span class="p">:</span>
                <span class="k">break</span>
            
            <span class="c1"># Calculate how much to remove to bring highest to second-highest level</span>
            <span class="n">balance_diff</span> <span class="o">=</span> <span class="n">highest_balance</span> <span class="o">-</span> <span class="n">second_highest_balance</span>
            
            <span class="k">if</span> <span class="n">balance_diff</span> <span class="o">&lt;=</span> <span class="mf">1e-6</span><span class="p">:</span>
                <span class="k">break</span>
            
            <span class="c1"># Calculate total energy needed for this leveling step</span>
            <span class="n">total_energy_needed</span> <span class="o">=</span> <span class="n">balance_diff</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">hours_at_highest</span><span class="p">)</span>
            <span class="n">remaining_battery</span> <span class="o">=</span> <span class="n">battery_storage</span> <span class="o">-</span> <span class="n">battery_used</span>
            
            <span class="c1"># Use the minimum of what's needed and what's available</span>
            <span class="n">energy_to_use</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">total_energy_needed</span><span class="p">,</span> <span class="n">remaining_battery</span><span class="p">)</span>
            <span class="n">energy_per_hour</span> <span class="o">=</span> <span class="n">energy_to_use</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">hours_at_highest</span><span class="p">)</span>
            
            <span class="c1"># Apply the adjustment</span>
            <span class="k">for</span> <span class="n">hour_info</span> <span class="ow">in</span> <span class="n">hours_at_highest</span><span class="p">:</span>
                <span class="n">hour_info</span><span class="p">[</span><span class="s1">'storage_impact'</span><span class="p">]</span> <span class="o">-=</span> <span class="n">energy_per_hour</span>
                <span class="n">hour_info</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">=</span> <span class="n">calculate_balance</span><span class="p">(</span>
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'production_fix'</span><span class="p">],</span> 
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'consumption_sum'</span><span class="p">],</span> 
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'storage_impact'</span><span class="p">]</span>
                <span class="p">)</span>
            
            <span class="n">battery_used</span> <span class="o">+=</span> <span class="n">energy_to_use</span>
            
            <span class="k">if</span> <span class="n">battery_used</span> <span class="o">&gt;=</span> <span class="n">battery_storage</span> <span class="o">-</span> <span class="mf">1e-6</span><span class="p">:</span>
                <span class="k">break</span>
        
        <span class="c1"># Phase 2: Add energy to lowest balance hours (stepwise leveling)</span>
        <span class="c1"># Only redistribute retention percentage of what was removed to mimic battery losses</span>
        <span class="n">energy_to_distribute</span> <span class="o">=</span> <span class="n">battery_used</span> <span class="o">*</span> <span class="n">STORAGE_RETENTION</span>
        
        <span class="k">while</span> <span class="n">energy_to_distribute</span> <span class="o">&gt;</span> <span class="mf">1e-6</span><span class="p">:</span>
            <span class="c1"># Sort by balance (lowest first)</span>
            <span class="n">sorted_hours</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">hour_data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">])</span>
            
            <span class="c1"># Find unique balance levels</span>
            <span class="n">unique_balances</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">sorted_hours</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">unique_balances</span> <span class="ow">or</span> <span class="nb">abs</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">-</span> <span class="n">unique_balances</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mf">1e-6</span><span class="p">:</span>
                    <span class="n">unique_balances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">])</span>
            
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">unique_balances</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># All balances are the same, distribute remaining energy equally</span>
                <span class="n">energy_per_hour</span> <span class="o">=</span> <span class="n">energy_to_distribute</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">hour_data</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">hour_info</span> <span class="ow">in</span> <span class="n">hour_data</span><span class="p">:</span>
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'storage_impact'</span><span class="p">]</span> <span class="o">+=</span> <span class="n">energy_per_hour</span>
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">=</span> <span class="n">calculate_balance</span><span class="p">(</span>
                        <span class="n">hour_info</span><span class="p">[</span><span class="s1">'production_fix'</span><span class="p">],</span> 
                        <span class="n">hour_info</span><span class="p">[</span><span class="s1">'consumption_sum'</span><span class="p">],</span> 
                        <span class="n">hour_info</span><span class="p">[</span><span class="s1">'storage_impact'</span><span class="p">]</span>
                    <span class="p">)</span>
                <span class="k">break</span>
            
            <span class="c1"># Get the lowest and second lowest balance levels</span>
            <span class="n">lowest_balance</span> <span class="o">=</span> <span class="n">unique_balances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">second_lowest_balance</span> <span class="o">=</span> <span class="n">unique_balances</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            
            <span class="c1"># Find all hours at the lowest balance level</span>
            <span class="n">hours_at_lowest</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">hour_data</span> <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">-</span> <span class="n">lowest_balance</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-6</span><span class="p">]</span>
            
            <span class="k">if</span> <span class="ow">not</span> <span class="n">hours_at_lowest</span><span class="p">:</span>
                <span class="k">break</span>
            
            <span class="c1"># Calculate how much to add to bring lowest to second-lowest level</span>
            <span class="n">balance_diff</span> <span class="o">=</span> <span class="n">second_lowest_balance</span> <span class="o">-</span> <span class="n">lowest_balance</span>
            
            <span class="k">if</span> <span class="n">balance_diff</span> <span class="o">&lt;=</span> <span class="mf">1e-6</span><span class="p">:</span>
                <span class="k">break</span>
            
            <span class="c1"># Calculate total energy needed for this leveling step</span>
            <span class="n">total_energy_needed</span> <span class="o">=</span> <span class="n">balance_diff</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">hours_at_lowest</span><span class="p">)</span>
            
            <span class="c1"># Use the minimum of what's needed and what's available</span>
            <span class="n">energy_to_use</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">total_energy_needed</span><span class="p">,</span> <span class="n">energy_to_distribute</span><span class="p">)</span>
            <span class="n">energy_per_hour</span> <span class="o">=</span> <span class="n">energy_to_use</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">hours_at_lowest</span><span class="p">)</span>
            
            <span class="c1"># Apply the adjustment</span>
            <span class="k">for</span> <span class="n">hour_info</span> <span class="ow">in</span> <span class="n">hours_at_lowest</span><span class="p">:</span>
                <span class="n">hour_info</span><span class="p">[</span><span class="s1">'storage_impact'</span><span class="p">]</span> <span class="o">+=</span> <span class="n">energy_per_hour</span>
                <span class="n">hour_info</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">=</span> <span class="n">calculate_balance</span><span class="p">(</span>
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'production_fix'</span><span class="p">],</span> 
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'consumption_sum'</span><span class="p">],</span> 
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'storage_impact'</span><span class="p">]</span>
                <span class="p">)</span>
            
            <span class="n">energy_to_distribute</span> <span class="o">-=</span> <span class="n">energy_to_use</span>
        
        <span class="c1"># Update the graphs with the new values</span>
        <span class="k">for</span> <span class="n">hour_info</span> <span class="ow">in</span> <span class="n">hour_data</span><span class="p">:</span>
            <span class="n">hour</span> <span class="o">=</span> <span class="n">hour_info</span><span class="p">[</span><span class="s1">'hour'</span><span class="p">]</span>
            <span class="n">G</span> <span class="o">=</span> <span class="n">season_graphs</span><span class="p">[</span><span class="n">hour</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">'storage_impact'</span><span class="p">]</span> <span class="o">=</span> <span class="n">hour_info</span><span class="p">[</span><span class="s1">'storage_impact'</span><span class="p">]</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"    Completed </span><span class="si">{</span><span class="n">season_name</span><span class="si">}</span><span class="s2">: processed </span><span class="si">{</span><span class="n">nodes_processed</span><span class="si">}</span><span class="s2"> nodes with battery storage"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">redistribute_lt_storage_global</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Redistribute long-term storage for all nodes across all 96 hours.</span>
<span class="sd">    Only draws from top N surplus hours until they're level with (N+1)th highest.</span>
<span class="sd">    Takes into account existing short-term storage impacts in balance calculations.</span>
<span class="sd">    """</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Processing LT storage redistribution across all 96 hours..."</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Drawing from top </span><span class="si">{</span><span class="n">number_hours_considered</span><span class="si">}</span><span class="s2"> highest balance hours..."</span><span class="p">)</span>
    
    <span class="c1"># Get all unique nodes across all 96 graphs</span>
    <span class="n">all_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">G</span> <span class="ow">in</span> <span class="n">all_graphs</span><span class="p">:</span>
        <span class="n">all_nodes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">())</span>
    
    <span class="n">nodes_processed</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">all_nodes</span><span class="p">:</span>
        <span class="c1"># Check if this node has LT storage in any of the 96 hours</span>
        <span class="n">lt_storage</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">G</span> <span class="ow">in</span> <span class="n">all_graphs</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                <span class="n">lt_storage</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT Storage'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">lt_storage</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">break</span>
        
        <span class="k">if</span> <span class="n">lt_storage</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">continue</span>  <span class="c1"># Skip nodes without LT storage</span>
        
        <span class="n">nodes_processed</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">nodes_processed</span> <span class="o">%</span> <span class="mi">50</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Processed </span><span class="si">{</span><span class="n">nodes_processed</span><span class="si">}</span><span class="s2"> nodes with LT storage..."</span><span class="p">)</span>
        
        <span class="c1"># Collect initial balances and data for all 96 hours</span>
        <span class="c1"># Include existing short-term storage impacts in balance calculations</span>
        <span class="n">hour_data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">hour_idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">96</span><span class="p">):</span>
            <span class="n">G</span> <span class="o">=</span> <span class="n">all_graphs</span><span class="p">[</span><span class="n">hour_idx</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span>
                <span class="n">production_fix</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_fix (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
                <span class="n">consumption_sum</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'consumption_sum (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
                <span class="n">storage_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>  <span class="c1"># Short-term storage impact</span>
                <span class="n">lt_storage_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT_storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>  <span class="c1"># Long-term storage impact</span>
                
                <span class="c1"># Calculate balance including both storage types</span>
                <span class="n">balance</span> <span class="o">=</span> <span class="n">calculate_balance_with_storage</span><span class="p">(</span><span class="n">production_fix</span><span class="p">,</span> <span class="n">consumption_sum</span><span class="p">,</span> <span class="n">storage_impact</span><span class="p">,</span> <span class="n">lt_storage_impact</span><span class="p">)</span>
                
                <span class="n">hour_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                    <span class="s1">'hour_idx'</span><span class="p">:</span> <span class="n">hour_idx</span><span class="p">,</span>
                    <span class="s1">'production_fix'</span><span class="p">:</span> <span class="n">production_fix</span><span class="p">,</span>
                    <span class="s1">'consumption_sum'</span><span class="p">:</span> <span class="n">consumption_sum</span><span class="p">,</span>
                    <span class="s1">'storage_impact'</span><span class="p">:</span> <span class="n">storage_impact</span><span class="p">,</span>  <span class="c1"># Keep track of short-term impact</span>
                    <span class="s1">'LT_storage_impact'</span><span class="p">:</span> <span class="n">lt_storage_impact</span><span class="p">,</span>
                    <span class="s1">'balance'</span><span class="p">:</span> <span class="n">balance</span>
                <span class="p">})</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Node doesn't exist in this hour's graph</span>
                <span class="n">hour_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                    <span class="s1">'hour_idx'</span><span class="p">:</span> <span class="n">hour_idx</span><span class="p">,</span>
                    <span class="s1">'production_fix'</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                    <span class="s1">'consumption_sum'</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                    <span class="s1">'storage_impact'</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                    <span class="s1">'LT_storage_impact'</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                    <span class="s1">'balance'</span><span class="p">:</span> <span class="mf">0.0</span>
                <span class="p">})</span>
        
        <span class="c1"># Phase 1: Remove energy from top N surplus hours using stepwise leveling until (N+1)th level</span>
        <span class="n">lt_storage_used</span> <span class="o">=</span> <span class="mf">0.0</span>
        
        <span class="c1"># Sort hours by balance (highest first)</span>
        <span class="n">sorted_hours</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">hour_data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        
        <span class="c1"># Get the (N+1)th highest balance as the target level</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_hours</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">number_hours_considered</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">target_balance</span> <span class="o">=</span> <span class="n">sorted_hours</span><span class="p">[</span><span class="n">number_hours_considered</span><span class="p">][</span><span class="s1">'balance'</span><span class="p">]</span>  <span class="c1"># (N+1)th highest (0-indexed)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If we have fewer than N hours, use the lowest balance as target</span>
            <span class="n">target_balance</span> <span class="o">=</span> <span class="n">sorted_hours</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s1">'balance'</span><span class="p">]</span>
        
        <span class="c1"># Get the top N hours (or fewer if less than N hours available)</span>
        <span class="n">top_hours_count</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">number_hours_considered</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_hours</span><span class="p">))</span>
        
        <span class="c1"># Create a working list of hours to track during stepwise leveling</span>
        <span class="c1"># Only include hours that are above the target balance</span>
        <span class="n">hours_to_level</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">top_hours_count</span><span class="p">):</span>
            <span class="n">hour_info</span> <span class="o">=</span> <span class="n">sorted_hours</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">hour_info</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target_balance</span> <span class="o">+</span> <span class="mf">1e-6</span><span class="p">:</span>
                <span class="n">hours_to_level</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hour_info</span><span class="p">)</span>
        
        <span class="c1"># Stepwise leveling: level highest to second highest, then both to third highest, etc.</span>
        <span class="k">while</span> <span class="n">hours_to_level</span> <span class="ow">and</span> <span class="n">lt_storage_used</span> <span class="o">&lt;</span> <span class="n">lt_storage</span> <span class="o">-</span> <span class="mf">1e-6</span><span class="p">:</span>
            <span class="c1"># Sort current hours by balance (highest first)</span>
            <span class="n">hours_to_level</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            
            <span class="c1"># Find unique balance levels among hours still being leveled</span>
            <span class="n">unique_balances</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">hours_to_level</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">unique_balances</span> <span class="ow">or</span> <span class="nb">abs</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">-</span> <span class="n">unique_balances</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mf">1e-6</span><span class="p">:</span>
                    <span class="n">unique_balances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">])</span>
            
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">unique_balances</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># All remaining hours are at the same level, level them to target</span>
                <span class="n">highest_balance</span> <span class="o">=</span> <span class="n">unique_balances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">highest_balance</span> <span class="o">&gt;</span> <span class="n">target_balance</span> <span class="o">+</span> <span class="mf">1e-6</span><span class="p">:</span>
                    <span class="n">balance_diff</span> <span class="o">=</span> <span class="n">highest_balance</span> <span class="o">-</span> <span class="n">target_balance</span>
                    <span class="n">total_energy_needed</span> <span class="o">=</span> <span class="n">balance_diff</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">hours_to_level</span><span class="p">)</span>
                    <span class="n">remaining_lt_storage</span> <span class="o">=</span> <span class="n">lt_storage</span> <span class="o">-</span> <span class="n">lt_storage_used</span>
                    
                    <span class="n">energy_to_use</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">total_energy_needed</span><span class="p">,</span> <span class="n">remaining_lt_storage</span><span class="p">)</span>
                    <span class="n">energy_per_hour</span> <span class="o">=</span> <span class="n">energy_to_use</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">hours_to_level</span><span class="p">)</span>
                    
                    <span class="k">for</span> <span class="n">hour_info</span> <span class="ow">in</span> <span class="n">hours_to_level</span><span class="p">:</span>
                        <span class="n">hour_info</span><span class="p">[</span><span class="s1">'LT_storage_impact'</span><span class="p">]</span> <span class="o">-=</span> <span class="n">energy_per_hour</span>
                        <span class="n">hour_info</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">=</span> <span class="n">calculate_balance_with_storage</span><span class="p">(</span>
                            <span class="n">hour_info</span><span class="p">[</span><span class="s1">'production_fix'</span><span class="p">],</span> 
                            <span class="n">hour_info</span><span class="p">[</span><span class="s1">'consumption_sum'</span><span class="p">],</span> 
                            <span class="n">hour_info</span><span class="p">[</span><span class="s1">'storage_impact'</span><span class="p">],</span>  <span class="c1"># Short-term (unchanged)</span>
                            <span class="n">hour_info</span><span class="p">[</span><span class="s1">'LT_storage_impact'</span><span class="p">]</span>  <span class="c1"># Long-term (just modified)</span>
                        <span class="p">)</span>
                    <span class="n">lt_storage_used</span> <span class="o">+=</span> <span class="n">energy_to_use</span>
                <span class="k">break</span>
            
            <span class="c1"># Get the highest and second highest balance levels</span>
            <span class="n">highest_balance</span> <span class="o">=</span> <span class="n">unique_balances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">second_highest_balance</span> <span class="o">=</span> <span class="n">unique_balances</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            
            <span class="c1"># Find all hours at the highest balance level</span>
            <span class="n">hours_at_highest</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">hours_to_level</span> <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">-</span> <span class="n">highest_balance</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-6</span><span class="p">]</span>
            
            <span class="k">if</span> <span class="ow">not</span> <span class="n">hours_at_highest</span><span class="p">:</span>
                <span class="k">break</span>
            
            <span class="c1"># Calculate how much to remove to bring highest to second-highest level</span>
            <span class="c1"># But don't go below the target balance</span>
            <span class="n">next_level</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">second_highest_balance</span><span class="p">,</span> <span class="n">target_balance</span><span class="p">)</span>
            <span class="n">balance_diff</span> <span class="o">=</span> <span class="n">highest_balance</span> <span class="o">-</span> <span class="n">next_level</span>
            
            <span class="k">if</span> <span class="n">balance_diff</span> <span class="o">&lt;=</span> <span class="mf">1e-6</span><span class="p">:</span>
                <span class="c1"># Remove these hours from further leveling and continue</span>
                <span class="n">hours_to_level</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">hours_to_level</span> <span class="k">if</span> <span class="n">h</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">hours_at_highest</span><span class="p">]</span>
                <span class="k">continue</span>
            
            <span class="c1"># Calculate total energy needed for this leveling step</span>
            <span class="n">total_energy_needed</span> <span class="o">=</span> <span class="n">balance_diff</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">hours_at_highest</span><span class="p">)</span>
            <span class="n">remaining_lt_storage</span> <span class="o">=</span> <span class="n">lt_storage</span> <span class="o">-</span> <span class="n">lt_storage_used</span>
            
            <span class="c1"># Use the minimum of what's needed and what's available</span>
            <span class="n">energy_to_use</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">total_energy_needed</span><span class="p">,</span> <span class="n">remaining_lt_storage</span><span class="p">)</span>
            <span class="n">energy_per_hour</span> <span class="o">=</span> <span class="n">energy_to_use</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">hours_at_highest</span><span class="p">)</span>
            
            <span class="c1"># Apply the adjustment to LT storage impact only</span>
            <span class="k">for</span> <span class="n">hour_info</span> <span class="ow">in</span> <span class="n">hours_at_highest</span><span class="p">:</span>
                <span class="n">hour_info</span><span class="p">[</span><span class="s1">'LT_storage_impact'</span><span class="p">]</span> <span class="o">-=</span> <span class="n">energy_per_hour</span>
                <span class="c1"># Recalculate balance including both storage impacts</span>
                <span class="n">hour_info</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">=</span> <span class="n">calculate_balance_with_storage</span><span class="p">(</span>
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'production_fix'</span><span class="p">],</span> 
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'consumption_sum'</span><span class="p">],</span> 
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'storage_impact'</span><span class="p">],</span>  <span class="c1"># Short-term (unchanged)</span>
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'LT_storage_impact'</span><span class="p">]</span>  <span class="c1"># Long-term (just modified)</span>
                <span class="p">)</span>
            
            <span class="n">lt_storage_used</span> <span class="o">+=</span> <span class="n">energy_to_use</span>
            
            <span class="c1"># If we couldn't complete this leveling step due to storage limit, stop</span>
            <span class="k">if</span> <span class="n">energy_to_use</span> <span class="o">&lt;</span> <span class="n">total_energy_needed</span> <span class="o">-</span> <span class="mf">1e-6</span><span class="p">:</span>
                <span class="k">break</span>
            
            <span class="c1"># If we reached the target balance, remove these hours from further processing</span>
            <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">next_level</span> <span class="o">-</span> <span class="n">target_balance</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-6</span><span class="p">:</span>
                <span class="n">hours_to_level</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">hours_to_level</span> <span class="k">if</span> <span class="n">h</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">hours_at_highest</span><span class="p">]</span>
        
        <span class="c1"># Phase 2: Add energy to lowest balance hours (stepwise leveling)</span>
        <span class="c1"># Only redistribute retention percentage of what was removed to mimic storage losses</span>
        <span class="n">energy_to_distribute</span> <span class="o">=</span> <span class="n">lt_storage_used</span> <span class="o">*</span> <span class="n">LT_STORAGE_RETENTION</span>
        
        <span class="k">while</span> <span class="n">energy_to_distribute</span> <span class="o">&gt;</span> <span class="mf">1e-6</span><span class="p">:</span>
            <span class="c1"># Sort by balance (lowest first)</span>
            <span class="n">sorted_hours</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">hour_data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">])</span>
            
            <span class="c1"># Find unique balance levels</span>
            <span class="n">unique_balances</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">sorted_hours</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">unique_balances</span> <span class="ow">or</span> <span class="nb">abs</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">-</span> <span class="n">unique_balances</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mf">1e-6</span><span class="p">:</span>
                    <span class="n">unique_balances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">])</span>
            
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">unique_balances</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># All balances are the same, distribute remaining energy equally</span>
                <span class="n">energy_per_hour</span> <span class="o">=</span> <span class="n">energy_to_distribute</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">hour_data</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">hour_info</span> <span class="ow">in</span> <span class="n">hour_data</span><span class="p">:</span>
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'LT_storage_impact'</span><span class="p">]</span> <span class="o">+=</span> <span class="n">energy_per_hour</span>
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">=</span> <span class="n">calculate_balance_with_storage</span><span class="p">(</span>
                        <span class="n">hour_info</span><span class="p">[</span><span class="s1">'production_fix'</span><span class="p">],</span> 
                        <span class="n">hour_info</span><span class="p">[</span><span class="s1">'consumption_sum'</span><span class="p">],</span> 
                        <span class="n">hour_info</span><span class="p">[</span><span class="s1">'storage_impact'</span><span class="p">],</span>
                        <span class="n">hour_info</span><span class="p">[</span><span class="s1">'LT_storage_impact'</span><span class="p">]</span>
                    <span class="p">)</span>
                <span class="k">break</span>
            
            <span class="c1"># Get the lowest and second lowest balance levels</span>
            <span class="n">lowest_balance</span> <span class="o">=</span> <span class="n">unique_balances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">second_lowest_balance</span> <span class="o">=</span> <span class="n">unique_balances</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            
            <span class="c1"># Find all hours at the lowest balance level</span>
            <span class="n">hours_at_lowest</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">hour_data</span> <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">-</span> <span class="n">lowest_balance</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1e-6</span><span class="p">]</span>
            
            <span class="k">if</span> <span class="ow">not</span> <span class="n">hours_at_lowest</span><span class="p">:</span>
                <span class="k">break</span>
            
            <span class="c1"># Calculate how much to add to bring lowest to second-lowest level</span>
            <span class="n">balance_diff</span> <span class="o">=</span> <span class="n">second_lowest_balance</span> <span class="o">-</span> <span class="n">lowest_balance</span>
            
            <span class="k">if</span> <span class="n">balance_diff</span> <span class="o">&lt;=</span> <span class="mf">1e-6</span><span class="p">:</span>
                <span class="k">break</span>
            
            <span class="c1"># Calculate total energy needed for this leveling step</span>
            <span class="n">total_energy_needed</span> <span class="o">=</span> <span class="n">balance_diff</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">hours_at_lowest</span><span class="p">)</span>
            
            <span class="c1"># Use the minimum of what's needed and what's available</span>
            <span class="n">energy_to_use</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">total_energy_needed</span><span class="p">,</span> <span class="n">energy_to_distribute</span><span class="p">)</span>
            <span class="n">energy_per_hour</span> <span class="o">=</span> <span class="n">energy_to_use</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">hours_at_lowest</span><span class="p">)</span>
            
            <span class="c1"># Apply the adjustment</span>
            <span class="k">for</span> <span class="n">hour_info</span> <span class="ow">in</span> <span class="n">hours_at_lowest</span><span class="p">:</span>
                <span class="n">hour_info</span><span class="p">[</span><span class="s1">'LT_storage_impact'</span><span class="p">]</span> <span class="o">+=</span> <span class="n">energy_per_hour</span>
                <span class="n">hour_info</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">=</span> <span class="n">calculate_balance_with_storage</span><span class="p">(</span>
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'production_fix'</span><span class="p">],</span> 
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'consumption_sum'</span><span class="p">],</span> 
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'storage_impact'</span><span class="p">],</span>
                    <span class="n">hour_info</span><span class="p">[</span><span class="s1">'LT_storage_impact'</span><span class="p">]</span>
                <span class="p">)</span>
            
            <span class="n">energy_to_distribute</span> <span class="o">-=</span> <span class="n">energy_to_use</span>
        
        <span class="c1"># Update the graphs with the new LT storage impact values</span>
        <span class="k">for</span> <span class="n">hour_info</span> <span class="ow">in</span> <span class="n">hour_data</span><span class="p">:</span>
            <span class="n">hour_idx</span> <span class="o">=</span> <span class="n">hour_info</span><span class="p">[</span><span class="s1">'hour_idx'</span><span class="p">]</span>
            <span class="n">G</span> <span class="o">=</span> <span class="n">all_graphs</span><span class="p">[</span><span class="n">hour_idx</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">'LT_storage_impact'</span><span class="p">]</span> <span class="o">=</span> <span class="n">hour_info</span><span class="p">[</span><span class="s1">'LT_storage_impact'</span><span class="p">]</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Completed global redistribution: processed </span><span class="si">{</span><span class="n">nodes_processed</span><span class="si">}</span><span class="s2"> nodes with LT storage"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">all_graphs</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="w">    </span><span class="sd">"""Main processing function that combines short-term and long-term storage processing"""</span>
    <span class="c1"># Configuration</span>
    <span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"spring"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">,</span> <span class="s2">"fall"</span><span class="p">,</span> <span class="s2">"winter"</span><span class="p">]</span>
    <span class="n">hours</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">h</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">"</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">)]</span>
    
    <span class="c1"># Paths - Only need Base directory, will update existing files</span>
    <span class="n">multigraph_path</span> <span class="o">=</span> <span class="s2">"/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Datasets/Finalised/NetworkXs/MultiGraph.pkl"</span>
    <span class="n">base_dir</span> <span class="o">=</span> <span class="s2">"/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/Base"</span>
    
    <span class="c1"># Step 1: Identify battery and LT storage values from MultiGraph</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Step 1: Reading MultiGraph.pkl to identify nodes with Solar &gt; 100..."</span><span class="p">)</span>
    
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">multigraph_path</span><span class="p">,</span> <span class="s2">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">multigraph</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    
    <span class="n">battery_storage_values</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">lt_storage_values</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">multigraph</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">solar_value</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"Solar"</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">solar_value</span> <span class="o">&gt;</span> <span class="n">Solar_threshhold</span><span class="p">:</span>
            <span class="n">battery_storage_value</span> <span class="o">=</span> <span class="n">solar_value</span> <span class="o">*</span> <span class="mi">6</span>
            <span class="n">lt_storage_value</span> <span class="o">=</span> <span class="n">solar_value</span> <span class="o">*</span> <span class="n">LT_STORAGE_MULTIPLIER</span>
            <span class="n">battery_storage_values</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">battery_storage_value</span>
            <span class="n">lt_storage_values</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">lt_storage_value</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Node </span><span class="si">{</span><span class="n">node</span><span class="si">}</span><span class="s2">: Solar = </span><span class="si">{</span><span class="n">solar_value</span><span class="si">}</span><span class="s2">, Battery Storage = </span><span class="si">{</span><span class="n">battery_storage_value</span><span class="si">}</span><span class="s2">, LT Storage = </span><span class="si">{</span><span class="n">lt_storage_value</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">battery_storage_values</span><span class="p">)</span><span class="si">}</span><span class="s2"> nodes with Solar &gt; </span><span class="si">{</span><span class="n">Solar_threshhold</span><span class="si">}</span><span class="s2"> for storage</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="c1"># Step 2: Load all 96 graphs and process short-term storage first</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Step 2: Loading graphs from Base directory and adding storage attributes..."</span><span class="p">)</span>
    <span class="n">all_graphs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">graph_files</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># Process each season separately for short-term storage</span>
    <span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Processing </span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2"> season..."</span><span class="p">)</span>
        
        <span class="c1"># Load all 24 graphs for this season</span>
        <span class="n">season_graphs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">season_files</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">hour</span> <span class="ow">in</span> <span class="n">hours</span><span class="p">:</span>
            <span class="c1"># Load scenario graph from Base directory</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"SolarStorage_Base_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hour</span><span class="si">}</span><span class="s2">.pkl"</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Warning: File </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2"> does not exist, skipping..."</span><span class="p">)</span>
                <span class="k">continue</span>
            
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">scenario_graph</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            
            <span class="c1"># Add battery storage values to identified nodes</span>
            <span class="n">nodes_updated</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">battery_value</span> <span class="ow">in</span> <span class="n">battery_storage_values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">scenario_graph</span><span class="o">.</span><span class="n">has_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">):</span>
                    <span class="n">scenario_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="s2">"Battery Storage"</span><span class="p">]</span> <span class="o">=</span> <span class="n">battery_value</span>
                    <span class="n">nodes_updated</span> <span class="o">+=</span> <span class="mi">1</span>
            
            <span class="c1"># Add production, consumption, and storage_impact attributes</span>
            <span class="n">add_production_and_consumption_attributes</span><span class="p">(</span><span class="n">scenario_graph</span><span class="p">)</span>
            
            <span class="n">season_graphs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">scenario_graph</span><span class="p">)</span>
            <span class="n">season_files</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Loaded and processed </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">nodes_updated</span><span class="si">}</span><span class="s2"> nodes got battery storage"</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">season_graphs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">24</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Warning: Expected 24 graphs for </span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">, got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">season_graphs</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            <span class="k">continue</span>
        
        <span class="c1"># Redistribute battery storage across hours for this season</span>
        <span class="n">redistribute_battery_storage</span><span class="p">(</span><span class="n">season_graphs</span><span class="p">,</span> <span class="n">season</span><span class="p">)</span>
        
        <span class="c1"># Add processed graphs and their file paths to the global lists</span>
        <span class="n">all_graphs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">season_graphs</span><span class="p">)</span>
        <span class="n">graph_files</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">season_files</span><span class="p">)</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Completed </span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2"> season short-term storage processing</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">96</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Warning: Expected 96 graphs, got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">"No graphs loaded. Exiting."</span><span class="p">)</span>
            <span class="k">return</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Successfully processed short-term storage for </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span><span class="si">}</span><span class="s2"> graphs</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="c1"># Step 3: Add LT storage attributes to all graphs</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Step 3: Adding long-term storage attributes..."</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">G</span> <span class="ow">in</span> <span class="n">all_graphs</span><span class="p">:</span>
        <span class="n">nodes_with_lt_storage</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
            <span class="c1"># Set LT Storage value for qualifying nodes, 0 for others</span>
            <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">lt_storage_values</span><span class="p">:</span>
                <span class="n">data</span><span class="p">[</span><span class="s1">'LT Storage'</span><span class="p">]</span> <span class="o">=</span> <span class="n">lt_storage_values</span><span class="p">[</span><span class="n">node</span><span class="p">]</span>
                <span class="n">nodes_with_lt_storage</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">data</span><span class="p">[</span><span class="s1">'LT Storage'</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
            
            <span class="c1"># Initialize LT storage impact to 0</span>
            <span class="n">data</span><span class="p">[</span><span class="s1">'LT_storage_impact'</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Added LT storage attributes to all graphs"</span><span class="p">)</span>
    
    <span class="c1"># Step 4: Perform global LT storage redistribution across all 96 hours</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Step 4: Redistributing long-term storage across all 96 hours..."</span><span class="p">)</span>
    <span class="n">all_graphs</span> <span class="o">=</span> <span class="n">redistribute_lt_storage_global</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span>
    
    <span class="c1"># Step 5: Update the existing Base files with the new storage attributes</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Step 5: Updating existing Base files with storage attributes..."</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">filepath</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">,</span> <span class="n">graph_files</span><span class="p">)):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">"wb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">idx</span> <span class="o">%</span> <span class="mi">24</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Print progress every season</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Updated </span><span class="si">{</span><span class="n">idx</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span><span class="si">}</span><span class="s2"> files..."</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Error updating </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2"> Combined storage processing completed!"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Updated existing Base files with storage attributes"</span><span class="p">)</span>
    
    <span class="c1"># Verification</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Verification - checking sample results..."</span><span class="p">)</span>
    <span class="n">sample_files</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">"SolarStorage_Base_</span><span class="si">{</span><span class="n">seasons</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hours</span><span class="p">[</span><span class="n">h</span><span class="p">]</span><span class="si">}</span><span class="s2">.pkl"</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">23</span><span class="p">]]</span>
    
    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">sample_files</span><span class="p">:</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">G</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                
                <span class="c1"># Find a node with both storage types for verification</span>
                <span class="n">sample_node</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Battery Storage'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT Storage'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">sample_node</span> <span class="o">=</span> <span class="n">node</span>
                        <span class="k">break</span>
                
                <span class="k">if</span> <span class="n">sample_node</span><span class="p">:</span>
                    <span class="n">data</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">sample_node</span><span class="p">]</span>
                    <span class="n">battery_storage</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Battery Storage'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="n">storage_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'storage_impact'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="n">lt_storage</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT Storage'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="n">lt_storage_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT_storage_impact'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="n">production_fix</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_fix (MWh)'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    <span class="n">consumption_sum</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'consumption_sum (MWh)'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                    
                    <span class="c1"># Calculate final balance including both storage types</span>
                    <span class="n">final_balance</span> <span class="o">=</span> <span class="n">calculate_balance_with_storage</span><span class="p">(</span>
                        <span class="n">production_fix</span><span class="p">,</span> <span class="n">consumption_sum</span><span class="p">,</span> <span class="n">storage_impact</span><span class="p">,</span> <span class="n">lt_storage_impact</span>
                    <span class="p">)</span>
                    
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">: Node </span><span class="si">{</span><span class="n">sample_node</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"    Short-term Battery Storage: </span><span class="si">{</span><span class="n">battery_storage</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"    Short-term Storage Impact: </span><span class="si">{</span><span class="n">storage_impact</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"    Long-term LT Storage: </span><span class="si">{</span><span class="n">lt_storage</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"    Long-term Storage Impact: </span><span class="si">{</span><span class="n">lt_storage_impact</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"    Final Balance: </span><span class="si">{</span><span class="n">final_balance</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
                    <span class="k">break</span>
                        
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Error verifying </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2"> Processing summary:"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"   - Updated existing graphs in: </span><span class="si">{</span><span class="n">base_dir</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"   - Processed </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span><span class="si">}</span><span class="s2"> graphs with combined storage"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"   - Added short-term storage to </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">battery_storage_values</span><span class="p">)</span><span class="si">}</span><span class="s2"> nodes (Solar * 6)"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"   - Added long-term storage to </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">lt_storage_values</span><span class="p">)</span><span class="si">}</span><span class="s2"> nodes (Solar * </span><span class="si">{</span><span class="n">LT_STORAGE_MULTIPLIER</span><span class="si">}</span><span class="s2">)"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"   - Short-term storage: 24-hour redistribution with </span><span class="si">{</span><span class="n">STORAGE_RETENTION</span><span class="o">*</span><span class="mi">100</span><span class="si">}</span><span class="s2">% retention"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"   - Long-term storage: 96-hour redistribution from top </span><span class="si">{</span><span class="n">number_hours_considered</span><span class="si">}</span><span class="s2"> hours with </span><span class="si">{</span><span class="n">LT_STORAGE_RETENTION</span><span class="o">*</span><span class="mi">100</span><span class="si">}</span><span class="s2">% retention"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"   - All graphs now include both short-term and long-term storage effects"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"   - Production keys: </span><span class="si">{</span><span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PRODUCTION_KEYS</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"   - Consumption keys: </span><span class="si">{</span><span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">CONSUMPTION_KEYS</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">   - Added attributes to existing graphs:"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"     * Battery Storage (capacity)"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"     * storage_impact (short-term redistribution effect)"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"     * LT Storage (long-term capacity)"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"     * LT_storage_impact (long-term redistribution effect)"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"     * production_fix (MWh) (calculated production sum)"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"     * consumption_sum (MWh) (calculated consumption sum)"</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Step 1: Reading MultiGraph.pkl to identify nodes with Solar &gt; 100...
  Node [3750;5505]: Solar = 81.71406442154964, Battery Storage = 490.2843865292978, LT Storage = 408.5703221077482
  Node [3761;5471]: Solar = 58.60987240210704, Battery Storage = 351.6592344126422, LT Storage = 293.04936201053516
  Node [3773;5502]: Solar = 23.03881799180843, Battery Storage = 138.23290795085057, LT Storage = 115.19408995904215
  Node [3772;5512]: Solar = 26.76108496436967, Battery Storage = 160.566509786218, LT Storage = 133.80542482184833
  Node [3811;5478]: Solar = 75.80050115890732, Battery Storage = 454.80300695344397, LT Storage = 379.0025057945366
  Node [3816;5439]: Solar = 65.47622742197137, Battery Storage = 392.85736453182824, LT Storage = 327.38113710985687
  Node [3798;5492]: Solar = 28.23822688589249, Battery Storage = 169.42936131535495, LT Storage = 141.19113442946247
  Node [3763;5493]: Solar = 68.29923129209283, Battery Storage = 409.79538775255696, LT Storage = 341.49615646046414
  Node [3743;5556]: Solar = 51.3166900137327, Battery Storage = 307.9001400823962, LT Storage = 256.5834500686635
  Node [3757;5537]: Solar = 34.92978088311537, Battery Storage = 209.57868529869222, LT Storage = 174.64890441557685
  Node [3549;4341]: Solar = 166.7744321382993, Battery Storage = 1000.6465928297957, LT Storage = 833.8721606914964
  Node [3610;4389]: Solar = 171.17325215913488, Battery Storage = 1027.0395129548092, LT Storage = 855.8662607956744
  Node [3609;4531]: Solar = 135.43631605319854, Battery Storage = 812.6178963191912, LT Storage = 677.1815802659927
  Node [3623;4490]: Solar = 154.787921938114, Battery Storage = 928.7275316286841, LT Storage = 773.93960969057
  Node [3514;4411]: Solar = 214.66763488609217, Battery Storage = 1288.005809316553, LT Storage = 1073.3381744304609
  Node [3503;4448]: Solar = 247.45084720544875, Battery Storage = 1484.7050832326925, LT Storage = 1237.2542360272437
  Node [3627;4583]: Solar = 113.29021340891995, Battery Storage = 679.7412804535197, LT Storage = 566.4510670445998
  Node [3653;4577]: Solar = 590.6659281385439, Battery Storage = 3543.9955688312634, LT Storage = 2953.3296406927193
  Node [3655;4606]: Solar = 208.7571909742725, Battery Storage = 1252.543145845635, LT Storage = 1043.7859548713625
  Node [3665;4594]: Solar = 331.8016250964206, Battery Storage = 1990.8097505785236, LT Storage = 1659.008125482103
  Node [3633;4601]: Solar = 261.89348150271576, Battery Storage = 1571.3608890162945, LT Storage = 1309.4674075135788
  Node [3272;4675]: Solar = 216.68920257470612, Battery Storage = 1300.1352154482367, LT Storage = 1083.4460128735307
  Node [3317;4578]: Solar = 211.8994984420533, Battery Storage = 1271.3969906523198, LT Storage = 1059.4974922102665
  Node [3362;4492]: Solar = 181.84436940404987, Battery Storage = 1091.0662164242992, LT Storage = 909.2218470202494
  Node [3372;4472]: Solar = 355.110882294539, Battery Storage = 2130.6652937672343, LT Storage = 1775.554411472695
  Node [3660;4415]: Solar = 259.6512257455381, Battery Storage = 1557.9073544732287, LT Storage = 1298.2561287276906
  Node [3736;4469]: Solar = 230.43515300529032, Battery Storage = 1382.610918031742, LT Storage = 1152.1757650264517
  Node [3676;4516]: Solar = 179.842902519027, Battery Storage = 1079.057415114162, LT Storage = 899.214512595135
  Node [3379;4445]: Solar = 209.68001950208475, Battery Storage = 1258.0801170125085, LT Storage = 1048.4000975104236
  Node [3403;4400]: Solar = 149.85107110930676, Battery Storage = 899.1064266558406, LT Storage = 749.2553555465338
  Node [3428;4373]: Solar = 133.55106634672012, Battery Storage = 801.3063980803207, LT Storage = 667.7553317336005
  Node [3391;4371]: Solar = 127.26637533713316, Battery Storage = 763.598252022799, LT Storage = 636.3318766856657
  Node [3373;4347]: Solar = 79.06950598716139, Battery Storage = 474.41703592296835, LT Storage = 395.34752993580696
  Node [3674;4612]: Solar = 110.85876574203434, Battery Storage = 665.152594452206, LT Storage = 554.2938287101717
  Node [3442;3228]: Solar = 69.51768020570566, Battery Storage = 417.10608123423395, LT Storage = 347.5884010285283
  Node [3480;3250]: Solar = 54.67083697620463, Battery Storage = 328.0250218572278, LT Storage = 273.3541848810232
  Node [3466;3263]: Solar = 98.9781838844628, Battery Storage = 593.8691033067768, LT Storage = 494.89091942231397
  Node [3623;3244]: Solar = 47.89366121167369, Battery Storage = 287.3619672700421, LT Storage = 239.46830605836846
  Node [3510;3297]: Solar = 28.104937691263583, Battery Storage = 168.6296261475815, LT Storage = 140.5246884563179
  Node [3526;3311]: Solar = 69.3642483484207, Battery Storage = 416.18549009052424, LT Storage = 346.8212417421035
  Node [3603;3289]: Solar = 72.76443890684948, Battery Storage = 436.58663344109686, LT Storage = 363.8221945342474
  Node [3607;3308]: Solar = 126.83578613591872, Battery Storage = 761.0147168155123, LT Storage = 634.1789306795936
  Node [3623;3289]: Solar = 122.89850217444554, Battery Storage = 737.3910130466733, LT Storage = 614.4925108722277
  Node [3511;3307]: Solar = 74.64194310308336, Battery Storage = 447.8516586185002, LT Storage = 373.2097155154168
  Node [3766;3600]: Solar = 87.6919584632893, Battery Storage = 526.1517507797357, LT Storage = 438.4597923164465
  Node [3786;3626]: Solar = 88.82059459434976, Battery Storage = 532.9235675660985, LT Storage = 444.1029729717488
  Node [3752;3648]: Solar = 100.90282452021027, Battery Storage = 605.4169471212616, LT Storage = 504.5141226010514
  Node [3765;3683]: Solar = 75.9399696944216, Battery Storage = 455.6398181665296, LT Storage = 379.69984847210804
  Node [3736;3670]: Solar = 174.4484684530336, Battery Storage = 1046.6908107182016, LT Storage = 872.242342265168
  Node [3824;3709]: Solar = 142.6959132906841, Battery Storage = 856.1754797441047, LT Storage = 713.4795664534205
  Node [3759;3696]: Solar = 80.06998914767487, Battery Storage = 480.41993488604925, LT Storage = 400.34994573837434
  Node [3757;3707]: Solar = 97.50304637954514, Battery Storage = 585.0182782772708, LT Storage = 487.5152318977257
  Node [3436;3731]: Solar = 191.2829334736795, Battery Storage = 1147.697600842077, LT Storage = 956.4146673683974
  Node [3439;3747]: Solar = 119.33325682705885, Battery Storage = 715.9995409623531, LT Storage = 596.6662841352943
  Node [3430;3743]: Solar = 185.82121841201624, Battery Storage = 1114.9273104720974, LT Storage = 929.1060920600812
  Node [3347;3589]: Solar = 139.9930072373333, Battery Storage = 839.9580434239998, LT Storage = 699.9650361866666
  Node [3378;3619]: Solar = 151.6794160315349, Battery Storage = 910.0764961892095, LT Storage = 758.3970801576745
  Node [3331;3569]: Solar = 146.34159830194662, Battery Storage = 878.0495898116797, LT Storage = 731.7079915097331
  Node [3350;3619]: Solar = 134.9043559886107, Battery Storage = 809.4261359316641, LT Storage = 674.5217799430534
  Node [3342;3611]: Solar = 187.38174470132088, Battery Storage = 1124.2904682079252, LT Storage = 936.9087235066045
  Node [3328;3588]: Solar = 269.88407098929247, Battery Storage = 1619.3044259357548, LT Storage = 1349.4203549464623
  Node [3369;3681]: Solar = 148.70426091791018, Battery Storage = 892.225565507461, LT Storage = 743.5213045895509
  Node [3385;3730]: Solar = 91.76481797689983, Battery Storage = 550.588907861399, LT Storage = 458.8240898844992
  Node [3399;3703]: Solar = 94.92519375313428, Battery Storage = 569.5511625188057, LT Storage = 474.6259687656714
  Node [3419;3729]: Solar = 154.14486391971016, Battery Storage = 924.869183518261, LT Storage = 770.7243195985508
  Node [3363;3737]: Solar = 102.8785896889463, Battery Storage = 617.2715381336778, LT Storage = 514.3929484447315
  Node [3851;3792]: Solar = 83.4109381240538, Battery Storage = 500.46562874432277, LT Storage = 417.054690620269
  Node [3877;3790]: Solar = 94.46859076329486, Battery Storage = 566.8115445797691, LT Storage = 472.3429538164743
  Node [3803;3826]: Solar = 165.18259812380597, Battery Storage = 991.0955887428358, LT Storage = 825.9129906190299
  Node [3844;3844]: Solar = 67.86579166003752, Battery Storage = 407.19474996022507, LT Storage = 339.3289583001876
  Node [3846;3853]: Solar = 58.668708560934526, Battery Storage = 352.01225136560714, LT Storage = 293.3435428046726
  Node [3846;3833]: Solar = 86.72413370080007, Battery Storage = 520.3448022048004, LT Storage = 433.6206685040003
  Node [3796;3816]: Solar = 148.67145437605, Battery Storage = 892.0287262563, LT Storage = 743.35727188025
  Node [3732;3833]: Solar = 93.36410586974158, Battery Storage = 560.1846352184494, LT Storage = 466.8205293487079
  Node [3735;3841]: Solar = 66.91219574799631, Battery Storage = 401.4731744879779, LT Storage = 334.5609787399815
  Node [3726;3839]: Solar = 80.35849533794776, Battery Storage = 482.1509720276865, LT Storage = 401.7924766897388
  Node [3646;3926]: Solar = 115.55616497063065, Battery Storage = 693.3369898237838, LT Storage = 577.7808248531533
  Node [3700;3915]: Solar = 118.08372324828515, Battery Storage = 708.502339489711, LT Storage = 590.4186162414258
  Node [3443;3758]: Solar = 157.92789925590637, Battery Storage = 947.5673955354382, LT Storage = 789.6394962795318
  Node [3451;3773]: Solar = 104.33993875838831, Battery Storage = 626.0396325503299, LT Storage = 521.6996937919416
  Node [3452;3796]: Solar = 97.06037345112584, Battery Storage = 582.3622407067551, LT Storage = 485.3018672556292
  Node [3464;3796]: Solar = 111.07641691396137, Battery Storage = 666.4585014837683, LT Storage = 555.3820845698068
  Node [3420;3761]: Solar = 147.16073746216708, Battery Storage = 882.9644247730025, LT Storage = 735.8036873108354
  Node [3399;3797]: Solar = 106.61303275137864, Battery Storage = 639.6781965082719, LT Storage = 533.0651637568932
  Node [3318;3787]: Solar = 72.21175637569178, Battery Storage = 433.27053825415067, LT Storage = 361.0587818784589
  Node [3371;3851]: Solar = 144.85756781407886, Battery Storage = 869.1454068844732, LT Storage = 724.2878390703943
  Node [3394;3898]: Solar = 124.13617819350118, Battery Storage = 744.8170691610071, LT Storage = 620.6808909675059
  Node [3510;3888]: Solar = 76.26747724018666, Battery Storage = 457.60486344111996, LT Storage = 381.33738620093334
  Node [3562;3946]: Solar = 132.32780882685603, Battery Storage = 793.9668529611362, LT Storage = 661.6390441342801
  Node [3519;3893]: Solar = 29.650325887540472, Battery Storage = 177.90195532524282, LT Storage = 148.25162943770235
  Node [3483;3936]: Solar = 70.35874274645447, Battery Storage = 422.1524564787268, LT Storage = 351.79371373227235
  Node [3617;3995]: Solar = 78.64971281227012, Battery Storage = 471.8982768736207, LT Storage = 393.24856406135063
  Node [3448;3944]: Solar = 116.11894217072168, Battery Storage = 696.7136530243301, LT Storage = 580.5947108536084
  Node [3454;3991]: Solar = 164.09440826191965, Battery Storage = 984.566449571518, LT Storage = 820.4720413095982
  Node [3438;4035]: Solar = 98.6800356346444, Battery Storage = 592.0802138078664, LT Storage = 493.400178173222
  Node [3397;3951]: Solar = 193.24258248479373, Battery Storage = 1159.4554949087624, LT Storage = 966.2129124239686
  Node [3447;4047]: Solar = 79.18355036504327, Battery Storage = 475.1013021902596, LT Storage = 395.9177518252164
  Node [3446;4064]: Solar = 108.7822498814449, Battery Storage = 652.6934992886694, LT Storage = 543.9112494072244
  Node [3440;4057]: Solar = 30.850709380827062, Battery Storage = 185.1042562849624, LT Storage = 154.2535469041353
  Node [3432;4044]: Solar = 41.41049681634246, Battery Storage = 248.46298089805475, LT Storage = 207.0524840817123
  Node [3503;4072]: Solar = 136.13755236761054, Battery Storage = 816.8253142056633, LT Storage = 680.6877618380527
  Node [3334;3582]: Solar = 171.60562374337113, Battery Storage = 1029.6337424602268, LT Storage = 858.0281187168556
  Node [3342;3598]: Solar = 171.936978485742, Battery Storage = 1031.621870914452, LT Storage = 859.68489242871
  Node [3645;3291]: Solar = 51.982385429131, Battery Storage = 311.894312574786, LT Storage = 259.911927145655
  Node [3542;3896]: Solar = 80.16033912613605, Battery Storage = 480.9620347568163, LT Storage = 400.80169563068023
  Node [3393;3846]: Solar = 56.0046784043488, Battery Storage = 336.0280704260928, LT Storage = 280.02339202174403
  Node [3392;3937]: Solar = 131.3361023038921, Battery Storage = 788.0166138233526, LT Storage = 656.6805115194604
  Node [3635;3957]: Solar = 87.8849056178643, Battery Storage = 527.3094337071858, LT Storage = 439.42452808932154
  Node [3306;3796]: Solar = 72.2939395039955, Battery Storage = 433.76363702397305, LT Storage = 361.4696975199775
  Node [3717;2399]: Solar = 33.61930393168908, Battery Storage = 201.7158235901345, LT Storage = 168.0965196584454
  Node [3736;2421]: Solar = 22.63238851024098, Battery Storage = 135.79433106144586, LT Storage = 113.1619425512049
  Node [3609;2446]: Solar = 31.552645695118173, Battery Storage = 189.31587417070904, LT Storage = 157.76322847559086
  Node [3630;2458]: Solar = 21.901254917074912, Battery Storage = 131.40752950244948, LT Storage = 109.50627458537456
  Node [3717;2421]: Solar = 31.44325441270373, Battery Storage = 188.65952647622237, LT Storage = 157.21627206351866
  Node [3558;2467]: Solar = 35.03203682820364, Battery Storage = 210.1922209692218, LT Storage = 175.1601841410182
  Node [3563;2480]: Solar = 26.487712163575537, Battery Storage = 158.92627298145322, LT Storage = 132.4385608178777
  Node [3479;2526]: Solar = 48.16587454380008, Battery Storage = 288.9952472628005, LT Storage = 240.8293727190004
  Node [3351;2514]: Solar = 64.23717168979952, Battery Storage = 385.4230301387971, LT Storage = 321.18585844899764
  Node [3404;2576]: Solar = 36.25256185251022, Battery Storage = 217.51537111506133, LT Storage = 181.2628092625511
  Node [3286;2484]: Solar = 26.12954428812215, Battery Storage = 156.7772657287329, LT Storage = 130.64772144061075
  Node [3301;2460]: Solar = 85.96242507868878, Battery Storage = 515.7745504721327, LT Storage = 429.8121253934439
  Node [3277;2461]: Solar = 30.083083227550684, Battery Storage = 180.4984993653041, LT Storage = 150.41541613775343
  Node [3314;2593]: Solar = 53.042878058499014, Battery Storage = 318.2572683509941, LT Storage = 265.21439029249507
  Node [3537;2751]: Solar = 22.614847990881227, Battery Storage = 135.68908794528735, LT Storage = 113.07423995440614
  Node [3546;2764]: Solar = 36.88940061112675, Battery Storage = 221.33640366676053, LT Storage = 184.44700305563376
  Node [3547;2737]: Solar = 32.49082102775938, Battery Storage = 194.9449261665563, LT Storage = 162.4541051387969
  Node [3538;2778]: Solar = 26.53738952559152, Battery Storage = 159.22433715354913, LT Storage = 132.6869476279576
  Node [3529;2787]: Solar = 44.46229330102852, Battery Storage = 266.7737598061711, LT Storage = 222.3114665051426
  Node [3558;2792]: Solar = 53.43408696747624, Battery Storage = 320.6045218048574, LT Storage = 267.1704348373812
  Node [3302;2703]: Solar = 36.03914233002792, Battery Storage = 216.23485398016754, LT Storage = 180.1957116501396
  Node [3283;2743]: Solar = 25.57677007893186, Battery Storage = 153.46062047359118, LT Storage = 127.8838503946593
  Node [3303;2749]: Solar = 22.994715937304623, Battery Storage = 137.96829562382774, LT Storage = 114.97357968652311
  Node [3537;2486]: Solar = 78.32213348565591, Battery Storage = 469.93280091393547, LT Storage = 391.61066742827956
  Node [3538;2474]: Solar = 56.569574265421416, Battery Storage = 339.4174455925285, LT Storage = 282.8478713271071
  Node [3734;2402]: Solar = 40.7923694650872, Battery Storage = 244.75421679052317, LT Storage = 203.961847325436
  Node [3299;2542]: Solar = 81.65804202374979, Battery Storage = 489.94825214249875, LT Storage = 408.2902101187489
  Node [3309;2480]: Solar = 248.2236815288981, Battery Storage = 1489.3420891733886, LT Storage = 1241.1184076444906
  Node [3281;2575]: Solar = 25.143058838530468, Battery Storage = 150.85835303118282, LT Storage = 125.71529419265234
  Node [3623;2503]: Solar = 65.86577982704557, Battery Storage = 395.19467896227343, LT Storage = 329.32889913522786
  Node [3696;2391]: Solar = 52.97509152932927, Battery Storage = 317.85054917597563, LT Storage = 264.87545764664634
  Node [3558;2735]: Solar = 87.64379870877053, Battery Storage = 525.8627922526232, LT Storage = 438.21899354385266
  Node [3525;2490]: Solar = 32.89109317494147, Battery Storage = 197.34655904964882, LT Storage = 164.45546587470733
  Node [3634;2433]: Solar = 26.44265450911091, Battery Storage = 158.65592705466545, LT Storage = 132.21327254555456
  Node [3352;2495]: Solar = 59.00583484506664, Battery Storage = 354.03500907039984, LT Storage = 295.0291742253332
  Node [3309;2568]: Solar = 20.296810749481352, Battery Storage = 121.78086449688811, LT Storage = 101.48405374740676
  Node [3404;2592]: Solar = 22.868596516318632, Battery Storage = 137.2115790979118, LT Storage = 114.34298258159316
  Node [3364;2521]: Solar = 20.178989934581857, Battery Storage = 121.07393960749114, LT Storage = 100.89494967290929
  Node [3578;2488]: Solar = 28.217992630041547, Battery Storage = 169.30795578024927, LT Storage = 141.08996315020772
  Node [3698;2430]: Solar = 28.534409859205542, Battery Storage = 171.20645915523326, LT Storage = 142.67204929602772
  Node [3510;2455]: Solar = 23.26464834168431, Battery Storage = 139.58789005010587, LT Storage = 116.32324170842155
  Node [3521;2477]: Solar = 28.82507222835265, Battery Storage = 172.9504333701159, LT Storage = 144.12536114176325
  Node [3561;2754]: Solar = 53.64225642645261, Battery Storage = 321.8535385587157, LT Storage = 268.2112821322631
  Node [3043;4559]: Solar = 73.59178504595141, Battery Storage = 441.55071027570847, LT Storage = 367.958925229757
  Node [3060;4651]: Solar = 54.78649528491927, Battery Storage = 328.7189717095156, LT Storage = 273.93247642459636
  Node [3539;4276]: Solar = 206.53337869606852, Battery Storage = 1239.200272176411, LT Storage = 1032.6668934803427
  Node [3284;4481]: Solar = 66.95669431629736, Battery Storage = 401.74016589778415, LT Storage = 334.78347158148676
  Node [3380;2465]: Solar = 107.82582838003188, Battery Storage = 646.9549702801912, LT Storage = 539.1291419001594
  Node [3585;2461]: Solar = 57.9655256235467, Battery Storage = 347.7931537412802, LT Storage = 289.82762811773347
  Node [3596;2496]: Solar = 41.079549308176475, Battery Storage = 246.47729584905886, LT Storage = 205.39774654088237
  Node [3572;2476]: Solar = 35.2808961719983, Battery Storage = 211.6853770319898, LT Storage = 176.4044808599915
  Node [3323;2444]: Solar = 20.15827779027582, Battery Storage = 120.94966674165494, LT Storage = 100.7913889513791
  Node [3507;2487]: Solar = 21.67365284380355, Battery Storage = 130.04191706282128, LT Storage = 108.36826421901775
  Node [3507;2500]: Solar = 30.925272867386862, Battery Storage = 185.55163720432117, LT Storage = 154.6263643369343
  Node [3501;2509]: Solar = 25.185257341744222, Battery Storage = 151.11154405046534, LT Storage = 125.92628670872111
  Node [3315;2705]: Solar = 31.67557913232878, Battery Storage = 190.0534747939727, LT Storage = 158.37789566164392
  Node [3328;2733]: Solar = 102.74780285949552, Battery Storage = 616.4868171569731, LT Storage = 513.7390142974776
  Node [3482;3900]: Solar = 79.83651851108529, Battery Storage = 479.01911106651175, LT Storage = 399.1825925554264
  Node [3421;3806]: Solar = 66.84068784011606, Battery Storage = 401.04412704069637, LT Storage = 334.2034392005803
  Node [3423;3840]: Solar = 110.43761331975816, Battery Storage = 662.6256799185489, LT Storage = 552.1880665987908
  Node [3650;3942]: Solar = 73.31576031638475, Battery Storage = 439.89456189830855, LT Storage = 366.57880158192376
  Node [3727;3861]: Solar = 99.82666094966048, Battery Storage = 598.9599656979628, LT Storage = 499.1333047483024
  Node [3721;3888]: Solar = 108.0105648115199, Battery Storage = 648.0633888691194, LT Storage = 540.0528240575995
  Node [3333;2697]: Solar = 64.8277702636877, Battery Storage = 388.9666215821262, LT Storage = 324.13885131843847
  Node [3329;2708]: Solar = 87.80853557267548, Battery Storage = 526.8512134360528, LT Storage = 439.04267786337743
  Node [3347;2713]: Solar = 201.25798686960113, Battery Storage = 1207.5479212176067, LT Storage = 1006.2899343480057
  Node [3362;2686]: Solar = 78.08579096694797, Battery Storage = 468.5147458016878, LT Storage = 390.42895483473984
  Node [3480;2505]: Solar = 30.47531687370394, Battery Storage = 182.85190124222362, LT Storage = 152.3765843685197
  Node [3462;2444]: Solar = 26.98037882231087, Battery Storage = 161.8822729338652, LT Storage = 134.90189411155433
  Node [3610;2639]: Solar = 22.527908477571245, Battery Storage = 135.16745086542747, LT Storage = 112.63954238785622
  Node [3617;2631]: Solar = 24.313912477798272, Battery Storage = 145.88347486678964, LT Storage = 121.56956238899136
  Node [3515;2855]: Solar = 66.75850127642842, Battery Storage = 400.5510076585705, LT Storage = 333.7925063821421
  Node [3605;2492]: Solar = 23.56136942963896, Battery Storage = 141.36821657783378, LT Storage = 117.8068471481948
  Node [3125;4548]: Solar = 45.71655361886738, Battery Storage = 274.2993217132043, LT Storage = 228.5827680943369
  Node [3193;4573]: Solar = 101.85641565063229, Battery Storage = 611.1384939037937, LT Storage = 509.28207825316144
  Node [1901;3564]: Solar = 36.82438318640788, Battery Storage = 220.94629911844726, LT Storage = 184.1219159320394
  Node [1918;3543]: Solar = 33.93874585502129, Battery Storage = 203.63247513012772, LT Storage = 169.69372927510645
  Node [3312;2692]: Solar = 42.29454102352528, Battery Storage = 253.76724614115165, LT Storage = 211.4727051176264
  Node [3375;2636]: Solar = 45.52458226636389, Battery Storage = 273.14749359818336, LT Storage = 227.62291133181947
  Node [3493;1746]: Solar = 137.952, Battery Storage = 827.712, LT Storage = 689.76
  Node [3555;1736]: Solar = 53.217, Battery Storage = 319.302, LT Storage = 266.085
  Node [2148;3322]: Solar = 169.2624768310834, Battery Storage = 1015.5748609865004, LT Storage = 846.312384155417
  Node [2168;3329]: Solar = 171.07330532315223, Battery Storage = 1026.4398319389134, LT Storage = 855.3665266157611
  Node [2214;3339]: Solar = 141.20636029478106, Battery Storage = 847.2381617686864, LT Storage = 706.0318014739053
  Node [2685;3349]: Solar = 228.078856614021, Battery Storage = 1368.473139684126, LT Storage = 1140.3942830701048
  Node [2695;3353]: Solar = 92.31521489047655, Battery Storage = 553.8912893428593, LT Storage = 461.5760744523828
  Node [2947;3537]: Solar = 109.75855327547886, Battery Storage = 658.5513196528732, LT Storage = 548.7927663773943
  Node [2976;3548]: Solar = 129.89904646163416, Battery Storage = 779.3942787698049, LT Storage = 649.4952323081708
  Node [2991;3566]: Solar = 58.384778091808705, Battery Storage = 350.30866855085225, LT Storage = 291.92389045904355
  Node [2887;3172]: Solar = 26.057719609482717, Battery Storage = 156.3463176568963, LT Storage = 130.2885980474136
  Node [2897;3192]: Solar = 28.57468884591864, Battery Storage = 171.44813307551183, LT Storage = 142.8734442295932
  Node [3122;3044]: Solar = 31.977361673867343, Battery Storage = 191.86417004320407, LT Storage = 159.8868083693367
  Node [3575;1740]: Solar = 1212.0, Battery Storage = 7272.0, LT Storage = 6060.0
  Node [3087;1856]: Solar = 37.77806099886419, Battery Storage = 226.66836599318515, LT Storage = 188.89030499432096
  Node [3099;1856]: Solar = 27.635874071883148, Battery Storage = 165.81524443129888, LT Storage = 138.17937035941574
  Node [3058;1856]: Solar = 51.210478966037186, Battery Storage = 307.2628737962231, LT Storage = 256.0523948301859
  Node [3684;2438]: Solar = 21.895746242574084, Battery Storage = 131.3744774554445, LT Storage = 109.47873121287043
  Node [3693;2437]: Solar = 24.868413488223275, Battery Storage = 149.21048092933967, LT Storage = 124.34206744111637
  Node [3660;2436]: Solar = 78.74049751532176, Battery Storage = 472.4429850919306, LT Storage = 393.7024875766088
  Node [3668;2435]: Solar = 27.7208699790404, Battery Storage = 166.3252198742424, LT Storage = 138.604349895202
  Node [3671;2453]: Solar = 20.68540062602131, Battery Storage = 124.11240375612786, LT Storage = 103.42700313010654
  Node [3636;4655]: Solar = 53.9664101508165, Battery Storage = 323.798460904899, LT Storage = 269.8320507540825
  Node [3691;4700]: Solar = 65.09621217756718, Battery Storage = 390.5772730654031, LT Storage = 325.4810608878359
  Node [3684;4738]: Solar = 68.51061894133903, Battery Storage = 411.0637136480342, LT Storage = 342.55309470669516
  Node [3724;4732]: Solar = 292.4169343569981, Battery Storage = 1754.5016061419888, LT Storage = 1462.0846717849906
  Node [3117;2367]: Solar = 31.966563791827753, Battery Storage = 191.79938275096652, LT Storage = 159.83281895913876
  Node [3134;2337]: Solar = 66.19417571068988, Battery Storage = 397.16505426413926, LT Storage = 330.9708785534494
  Node [3158;2360]: Solar = 25.46395537950564, Battery Storage = 152.78373227703383, LT Storage = 127.31977689752821
  Node [3977;3783]: Solar = 226.0, Battery Storage = 1356.0, LT Storage = 1130.0
  Node [3352;1909]: Solar = 249.51, Battery Storage = 1497.06, LT Storage = 1247.55
  Node [3321;1859]: Solar = 48.0, Battery Storage = 288.0, LT Storage = 240.0
  Node [3566;1800]: Solar = 114.83599999999998, Battery Storage = 689.0159999999998, LT Storage = 574.18
  Node [3409;1821]: Solar = 1762.73, Battery Storage = 10576.380000000001, LT Storage = 8813.65
  Node [3465;1728]: Solar = 45.75, Battery Storage = 274.5, LT Storage = 228.75
  Node [3406;1866]: Solar = 288.0, Battery Storage = 1728.0, LT Storage = 1440.0
  Node [3404;1751]: Solar = 217.78, Battery Storage = 1306.68, LT Storage = 1088.9
  Node [3331;1811]: Solar = 52.4, Battery Storage = 314.4, LT Storage = 262.0
  Node [3469;1722]: Solar = 26.325000000000003, Battery Storage = 157.95000000000002, LT Storage = 131.625
  Node [3811;1988]: Solar = 22.463797583664395, Battery Storage = 134.78278550198638, LT Storage = 112.31898791832197
  Node [3824;1985]: Solar = 77.71171008694773, Battery Storage = 466.2702605216864, LT Storage = 388.55855043473866
  Node [3663;1877]: Solar = 78.25562284227325, Battery Storage = 469.5337370536395, LT Storage = 391.2781142113663
  Node [3572;1942]: Solar = 486.70096310791024, Battery Storage = 2920.2057786474616, LT Storage = 2433.504815539551
  Node [3657;1968]: Solar = 23.517200954230695, Battery Storage = 141.10320572538416, LT Storage = 117.58600477115348
  Node [3501;1955]: Solar = 255.4616285279331, Battery Storage = 1532.7697711675987, LT Storage = 1277.3081426396654
  Node [3448;1957]: Solar = 154.40409659669308, Battery Storage = 926.4245795801585, LT Storage = 772.0204829834654
  Node [3758;2071]: Solar = 22.11088983490566, Battery Storage = 132.66533900943395, LT Storage = 110.5544491745283
  Node [3782;2066]: Solar = 50.32778366401248, Battery Storage = 301.96670198407486, LT Storage = 251.6389183200624
  Node [3770;2101]: Solar = 53.31195305528864, Battery Storage = 319.8717183317318, LT Storage = 266.5597652764432
  Node [3775;2088]: Solar = 99.30610156972264, Battery Storage = 595.8366094183359, LT Storage = 496.5305078486132
  Node [3733;2135]: Solar = 35.66491826403986, Battery Storage = 213.98950958423916, LT Storage = 178.32459132019932
  Node [3758;2148]: Solar = 23.29920251381747, Battery Storage = 139.7952150829048, LT Storage = 116.49601256908736
  Node [3745;2166]: Solar = 83.1047060777448, Battery Storage = 498.62823646646876, LT Storage = 415.523530388724
  Node [3786;2166]: Solar = 39.77638832443203, Battery Storage = 238.65832994659218, LT Storage = 198.88194162216013
  Node [3483;2066]: Solar = 907.4060273420804, Battery Storage = 5444.436164052482, LT Storage = 4537.030136710402
  Node [3428;2031]: Solar = 605.3361130948745, Battery Storage = 3632.016678569247, LT Storage = 3026.680565474372
  Node [3419;1996]: Solar = 36.63390206585513, Battery Storage = 219.8034123951308, LT Storage = 183.16951032927565
  Node [3633;2130]: Solar = 20.268798442083124, Battery Storage = 121.61279065249875, LT Storage = 101.34399221041562
  Node [3639;2145]: Solar = 87.41190283913443, Battery Storage = 524.4714170348066, LT Storage = 437.05951419567214
  Node [3589;2152]: Solar = 62.301216246858246, Battery Storage = 373.8072974811495, LT Storage = 311.50608123429123
  Node [3540;2169]: Solar = 30.97786614824444, Battery Storage = 185.86719688946664, LT Storage = 154.8893307412222
  Node [3361;1993]: Solar = 77.62498802166674, Battery Storage = 465.7499281300004, LT Storage = 388.1249401083337
  Node [3290;2060]: Solar = 111.74706673758676, Battery Storage = 670.4824004255206, LT Storage = 558.7353336879338
  Node [3236;2132]: Solar = 29.823787476282217, Battery Storage = 178.9427248576933, LT Storage = 149.1189373814111
  Node [3789;2227]: Solar = 49.17280164724518, Battery Storage = 295.03680988347105, LT Storage = 245.8640082362259
  Node [3297;2328]: Solar = 36.27670704298717, Battery Storage = 217.66024225792302, LT Storage = 181.38353521493585
  Node [3511;1916]: Solar = 274.1511088137719, Battery Storage = 1644.9066528826313, LT Storage = 1370.7555440688593
  Node [3802;1937]: Solar = 30.766483705182488, Battery Storage = 184.59890223109494, LT Storage = 153.83241852591243
  Node [3676;1891]: Solar = 28.90487593418481, Battery Storage = 173.42925560510884, LT Storage = 144.52437967092405
  Node [3713;1991]: Solar = 151.78946176476157, Battery Storage = 910.7367705885695, LT Storage = 758.9473088238078
  Node [3742;1971]: Solar = 95.49934938792626, Battery Storage = 572.9960963275576, LT Storage = 477.4967469396313
  Node [3710;2095]: Solar = 39.30247447851126, Battery Storage = 235.81484687106754, LT Storage = 196.5123723925563
  Node [3435;2005]: Solar = 55.76528894271392, Battery Storage = 334.5917336562835, LT Storage = 278.82644471356963
  Node [3299;2221]: Solar = 44.24998692915599, Battery Storage = 265.4999215749359, LT Storage = 221.24993464577994
  Node [3311;2204]: Solar = 39.26342903701004, Battery Storage = 235.58057422206025, LT Storage = 196.3171451850502
  Node [3356;2240]: Solar = 41.48209332226515, Battery Storage = 248.89255993359092, LT Storage = 207.41046661132575
  Node [3431;2342]: Solar = 25.37571367482747, Battery Storage = 152.25428204896482, LT Storage = 126.87856837413734
  Node [3342;2199]: Solar = 20.12252980713032, Battery Storage = 120.73517884278192, LT Storage = 100.6126490356516
  Node [3243;2416]: Solar = 20.102511495726866, Battery Storage = 120.6150689743612, LT Storage = 100.51255747863433
  Node [3687;1983]: Solar = 28.47235405972306, Battery Storage = 170.83412435833836, LT Storage = 142.36177029861528
  Node [3701;1980]: Solar = 69.082625337151, Battery Storage = 414.495752022906, LT Storage = 345.413126685755
  Node [3586;1905]: Solar = 22.54180013760669, Battery Storage = 135.25080082564014, LT Storage = 112.70900068803344
  Node [3286;2142]: Solar = 135.23661211176338, Battery Storage = 811.4196726705802, LT Storage = 676.1830605588169
  Node [3674;1848]: Solar = 30.63811996428152, Battery Storage = 183.82871978568912, LT Storage = 153.1905998214076
  Node [3689;1945]: Solar = 29.654181627830265, Battery Storage = 177.92508976698159, LT Storage = 148.27090813915132
  Node [3773;2021]: Solar = 24.794575119890645, Battery Storage = 148.76745071934386, LT Storage = 123.97287559945323
  Node [3554;2221]: Solar = 38.85396310849424, Battery Storage = 233.12377865096545, LT Storage = 194.2698155424712
  Node [3542;2235]: Solar = 129.80601649608906, Battery Storage = 778.8360989765343, LT Storage = 649.0300824804453
  Node [3821;1992]: Solar = 36.48644450322277, Battery Storage = 218.91866701933662, LT Storage = 182.43222251611385
  Node [3688;1968]: Solar = 36.053481189685826, Battery Storage = 216.32088713811495, LT Storage = 180.26740594842914
  Node [3683;1962]: Solar = 62.86687543334491, Battery Storage = 377.20125260006944, LT Storage = 314.33437716672455
  Node [3644;1812]: Solar = 564.3149999999999, Battery Storage = 3385.8899999999994, LT Storage = 2821.575
  Node [3772;2239]: Solar = 42.31740581553086, Battery Storage = 253.90443489318517, LT Storage = 211.5870290776543
  Node [3746;1913]: Solar = 36.80942202921496, Battery Storage = 220.85653217528974, LT Storage = 184.04711014607477
  Node [3767;1935]: Solar = 154.17086131744833, Battery Storage = 925.02516790469, LT Storage = 770.8543065872416
  Node [3775;1930]: Solar = 47.135759030319456, Battery Storage = 282.8145541819167, LT Storage = 235.67879515159728
  Node [3495;2233]: Solar = 25.44090484514268, Battery Storage = 152.64542907085607, LT Storage = 127.2045242257134
  Node [3177;1862]: Solar = 28.8, Battery Storage = 172.8, LT Storage = 144.0
  Node [3143;2349]: Solar = 40.81975939008979, Battery Storage = 244.91855634053877, LT Storage = 204.09879695044896
  Node [3299;1973]: Solar = 21.19144218906471, Battery Storage = 127.14865313438825, LT Storage = 105.95721094532354
  Node [3495;1911]: Solar = 322.95621530120764, Battery Storage = 1937.7372918072458, LT Storage = 1614.781076506038
  Node [3566;2148]: Solar = 203.52747692981404, Battery Storage = 1221.1648615788843, LT Storage = 1017.6373846490702
  Node [3481;1778]: Solar = 26.350999999999996, Battery Storage = 158.10599999999997, LT Storage = 131.75499999999997
  Node [3455;1878]: Solar = 180.0, Battery Storage = 1080.0, LT Storage = 900.0
  Node [3474;1837]: Solar = 78.72999999999999, Battery Storage = 472.37999999999994, LT Storage = 393.65
  Node [3246;2360]: Solar = 25.11341685085767, Battery Storage = 150.68050110514602, LT Storage = 125.56708425428836
  Node [3359;2262]: Solar = 42.36977559814017, Battery Storage = 254.21865358884105, LT Storage = 211.84887799070086
  Node [3422;2245]: Solar = 24.53893264708999, Battery Storage = 147.23359588253993, LT Storage = 122.69466323544995
  Node [3432;2221]: Solar = 34.71421366687054, Battery Storage = 208.28528200122327, LT Storage = 173.5710683343527
  Node [3441;2255]: Solar = 35.418915974141704, Battery Storage = 212.51349584485024, LT Storage = 177.09457987070851
  Node [3422;2198]: Solar = 21.134643054663183, Battery Storage = 126.80785832797909, LT Storage = 105.67321527331592
  Node [3412;2166]: Solar = 34.74892410976178, Battery Storage = 208.49354465857067, LT Storage = 173.7446205488089
  Node [3393;2161]: Solar = 38.14438648209291, Battery Storage = 228.86631889255747, LT Storage = 190.72193241046455
  Node [3380;2186]: Solar = 48.1652812137715, Battery Storage = 288.991687282629, LT Storage = 240.8264060688575
  Node [3381;2165]: Solar = 40.883837266422894, Battery Storage = 245.30302359853738, LT Storage = 204.41918633211446
  Node [3376;2198]: Solar = 78.89333270908058, Battery Storage = 473.35999625448346, LT Storage = 394.4666635454029
  Node [3366;2206]: Solar = 61.01722662723951, Battery Storage = 366.1033597634371, LT Storage = 305.08613313619753
  Node [3355;2205]: Solar = 70.14770478078316, Battery Storage = 420.88622868469895, LT Storage = 350.7385239039158
  Node [3384;2244]: Solar = 71.77249485384013, Battery Storage = 430.6349691230408, LT Storage = 358.8624742692007
  Node [3393;2253]: Solar = 30.316044168600506, Battery Storage = 181.89626501160302, LT Storage = 151.58022084300254
  Node [3373;2240]: Solar = 44.47336475212798, Battery Storage = 266.8401885127679, LT Storage = 222.36682376063987
  Node [3382;2233]: Solar = 102.98720442648523, Battery Storage = 617.9232265589114, LT Storage = 514.9360221324262
  Node [3382;2213]: Solar = 3029.7908735581577, Battery Storage = 18178.745241348945, LT Storage = 15148.95436779079
  Node [3394;2203]: Solar = 122.03712703279724, Battery Storage = 732.2227621967835, LT Storage = 610.1856351639863
  Node [2641;2471]: Solar = 28.650423199933005, Battery Storage = 171.90253919959804, LT Storage = 143.25211599966502
  Node [3405;2195]: Solar = 49.48896954255816, Battery Storage = 296.93381725534897, LT Storage = 247.4448477127908
  Node [3406;2222]: Solar = 89.7391782944297, Battery Storage = 538.4350697665782, LT Storage = 448.69589147214856
  Node [3399;2186]: Solar = 36.88161985977773, Battery Storage = 221.28971915866637, LT Storage = 184.40809929888866
  Node [3415;2222]: Solar = 36.25123429416714, Battery Storage = 217.50740576500283, LT Storage = 181.2561714708357
  Node [3420;2213]: Solar = 38.92457894258357, Battery Storage = 233.54747365550145, LT Storage = 194.62289471291786
  Node [3413;2196]: Solar = 33.34006673593857, Battery Storage = 200.04040041563144, LT Storage = 166.70033367969285
  Node [3359;2182]: Solar = 59.29984267325733, Battery Storage = 355.799056039544, LT Storage = 296.49921336628665
  Node [3212;2784]: Solar = 29.929595724369236, Battery Storage = 179.5775743462154, LT Storage = 149.64797862184616
  Node [3282;2743]: Solar = 38.690975920980826, Battery Storage = 232.14585552588494, LT Storage = 193.45487960490414
  Node [3312;3540]: Solar = 34.214691616776335, Battery Storage = 205.288149700658, LT Storage = 171.0734580838817
  Node [3313;3540]: Solar = 20.379511545348223, Battery Storage = 122.27706927208934, LT Storage = 101.89755772674111
  Node [3403;2310]: Solar = 55.92585646231956, Battery Storage = 335.55513877391735, LT Storage = 279.62928231159776
  Node [3219;4469]: Solar = 51.95053971019187, Battery Storage = 311.7032382611512, LT Storage = 259.75269855095934
  Node [3676;1967]: Solar = 48.074805339942976, Battery Storage = 288.4488320396579, LT Storage = 240.37402669971488
  Node [2203;3506]: Solar = 69.51629432625302, Battery Storage = 417.0977659575181, LT Storage = 347.5814716312651
  Node [2212;3648]: Solar = 360.20965117046813, Battery Storage = 2161.257907022809, LT Storage = 1801.0482558523406
  Node [2508;3690]: Solar = 21.231135094136917, Battery Storage = 127.3868105648215, LT Storage = 106.15567547068459
  Node [2514;3813]: Solar = 34.874026711974714, Battery Storage = 209.24416027184827, LT Storage = 174.37013355987358
  Node [2523;3829]: Solar = 34.441117658559556, Battery Storage = 206.64670595135732, LT Storage = 172.20558829279778
  Node [2540;3820]: Solar = 37.306245280963566, Battery Storage = 223.8374716857814, LT Storage = 186.53122640481783
  Node [2514;3872]: Solar = 95.90744649526202, Battery Storage = 575.4446789715721, LT Storage = 479.5372324763101
  Node [2409;3578]: Solar = 25.349361874288963, Battery Storage = 152.09617124573379, LT Storage = 126.74680937144481
  Node [2468;3616]: Solar = 41.208763314567264, Battery Storage = 247.25257988740358, LT Storage = 206.0438165728363
  Node [2472;3668]: Solar = 28.65339503959312, Battery Storage = 171.92037023755873, LT Storage = 143.26697519796562
  Node [2472;3688]: Solar = 21.04687007064098, Battery Storage = 126.2812204238459, LT Storage = 105.2343503532049
  Node [2377;3622]: Solar = 24.47401436410156, Battery Storage = 146.84408618460935, LT Storage = 122.3700718205078
  Node [2387;3594]: Solar = 20.980508442838403, Battery Storage = 125.88305065703042, LT Storage = 104.90254221419201
  Node [2384;3656]: Solar = 28.887954825421133, Battery Storage = 173.3277289525268, LT Storage = 144.43977412710566
  Node [2358;3653]: Solar = 43.0974370764336, Battery Storage = 258.5846224586016, LT Storage = 215.487185382168
  Node [2403;3760]: Solar = 26.38064340636869, Battery Storage = 158.28386043821214, LT Storage = 131.90321703184344
  Node [2415;3758]: Solar = 33.60970295320788, Battery Storage = 201.65821771924726, LT Storage = 168.0485147660394
  Node [2409;3724]: Solar = 55.61224283723876, Battery Storage = 333.67345702343255, LT Storage = 278.0612141861938
  Node [2422;3672]: Solar = 34.012649373472705, Battery Storage = 204.07589624083624, LT Storage = 170.06324686736352
  Node [2426;3686]: Solar = 70.66210603807546, Battery Storage = 423.97263622845276, LT Storage = 353.31053019037734
  Node [2408;3698]: Solar = 147.24347813768975, Battery Storage = 883.4608688261385, LT Storage = 736.2173906884487
  Node [2414;3782]: Solar = 61.78606723830645, Battery Storage = 370.7164034298387, LT Storage = 308.93033619153226
  Node [2355;3694]: Solar = 79.01426506732264, Battery Storage = 474.08559040393584, LT Storage = 395.0713253366132
  Node [2350;3752]: Solar = 48.488099596354246, Battery Storage = 290.9285975781255, LT Storage = 242.44049798177122
  Node [2377;3787]: Solar = 51.19586727992853, Battery Storage = 307.17520367957115, LT Storage = 255.97933639964265
  Node [2420;3858]: Solar = 34.76375584269639, Battery Storage = 208.58253505617836, LT Storage = 173.81877921348195
  Node [2473;3838]: Solar = 56.68551345780669, Battery Storage = 340.1130807468402, LT Storage = 283.42756728903345
  Node [2463;3924]: Solar = 52.64744237266553, Battery Storage = 315.8846542359932, LT Storage = 263.2372118633277
  Node [2438;3991]: Solar = 37.42024116146411, Battery Storage = 224.5214469687847, LT Storage = 187.10120580732055
  Node [2421;3978]: Solar = 52.2178546707772, Battery Storage = 313.3071280246632, LT Storage = 261.089273353886
  Node [2434;3977]: Solar = 44.96241059261517, Battery Storage = 269.774463555691, LT Storage = 224.81205296307587
  Node [2420;3565]: Solar = 31.705530862157975, Battery Storage = 190.23318517294786, LT Storage = 158.52765431078987
  Node [2372;3702]: Solar = 71.39312919851693, Battery Storage = 428.3587751911016, LT Storage = 356.96564599258465
  Node [2401;3567]: Solar = 31.806325272298608, Battery Storage = 190.83795163379165, LT Storage = 159.03162636149304
  Node [2447;3621]: Solar = 39.41002348161928, Battery Storage = 236.46014088971566, LT Storage = 197.05011740809638
  Node [2361;3640]: Solar = 28.963024710934015, Battery Storage = 173.7781482656041, LT Storage = 144.81512355467007
  Node [2411;3919]: Solar = 35.949520785589506, Battery Storage = 215.69712471353705, LT Storage = 179.74760392794752
  Node [2427;3946]: Solar = 43.89116400328647, Battery Storage = 263.34698401971883, LT Storage = 219.45582001643234
  Node [1600;3407]: Solar = 24.85844546239608, Battery Storage = 149.1506727743765, LT Storage = 124.2922273119804
  Node [1726;3293]: Solar = 23.71363322873566, Battery Storage = 142.28179937241396, LT Storage = 118.5681661436783
  Node [1775;3288]: Solar = 20.566598010476117, Battery Storage = 123.39958806285671, LT Storage = 102.83299005238058
  Node [1799;3291]: Solar = 23.34256664152424, Battery Storage = 140.05539984914543, LT Storage = 116.7128332076212
  Node [1777;3308]: Solar = 20.546892097489422, Battery Storage = 123.28135258493654, LT Storage = 102.73446048744711
  Node [1819;3283]: Solar = 28.60088302687494, Battery Storage = 171.60529816124964, LT Storage = 143.0044151343747
  Node [1865;3306]: Solar = 26.806970371155145, Battery Storage = 160.84182222693087, LT Storage = 134.03485185577574
  Node [1841;3343]: Solar = 24.032715483173774, Battery Storage = 144.19629289904265, LT Storage = 120.16357741586887
  Node [1882;3373]: Solar = 86.76620719243805, Battery Storage = 520.5972431546282, LT Storage = 433.83103596219024
  Node [1791;3350]: Solar = 30.812195612299902, Battery Storage = 184.8731736737994, LT Storage = 154.0609780614995
  Node [1845;3394]: Solar = 27.893590176151697, Battery Storage = 167.3615410569102, LT Storage = 139.46795088075848
  Node [1827;3385]: Solar = 21.112121107212957, Battery Storage = 126.67272664327774, LT Storage = 105.56060553606478
  Node [1764;3381]: Solar = 22.43606929023362, Battery Storage = 134.6164157414017, LT Storage = 112.18034645116809
  Node [1739;3356]: Solar = 232.26919243488385, Battery Storage = 1393.615154609303, LT Storage = 1161.3459621744191
  Node [1745;3316]: Solar = 31.56268644352535, Battery Storage = 189.3761186611521, LT Storage = 157.81343221762677
  Node [1673;3357]: Solar = 20.242081197113816, Battery Storage = 121.45248718268289, LT Storage = 101.21040598556908
  Node [1865;3417]: Solar = 32.669953467132395, Battery Storage = 196.01972080279438, LT Storage = 163.34976733566197
  Node [1792;3476]: Solar = 23.48570494264522, Battery Storage = 140.91422965587134, LT Storage = 117.4285247132261
  Node [1847;3491]: Solar = 70.49391458363411, Battery Storage = 422.96348750180465, LT Storage = 352.46957291817057
  Node [1822;3464]: Solar = 49.917485910682075, Battery Storage = 299.50491546409245, LT Storage = 249.58742955341037
  Node [1887;3455]: Solar = 41.00899774954881, Battery Storage = 246.05398649729287, LT Storage = 205.04498874774407
  Node [1904;3475]: Solar = 86.49270856136073, Battery Storage = 518.9562513681644, LT Storage = 432.4635428068036
  Node [1899;3505]: Solar = 27.250736327552563, Battery Storage = 163.50441796531538, LT Storage = 136.2536816377628
  Node [1804;3511]: Solar = 25.708276210182916, Battery Storage = 154.2496572610975, LT Storage = 128.5413810509146
  Node [1786;3529]: Solar = 43.119981414726574, Battery Storage = 258.71988848835946, LT Storage = 215.59990707363286
  Node [1766;3527]: Solar = 22.961120737541428, Battery Storage = 137.76672442524858, LT Storage = 114.80560368770713
  Node [1782;3540]: Solar = 26.460561961241908, Battery Storage = 158.76337176745145, LT Storage = 132.30280980620955
  Node [1789;3537]: Solar = 55.07390855824657, Battery Storage = 330.44345134947946, LT Storage = 275.36954279123285
  Node [1797;3524]: Solar = 30.472096732052183, Battery Storage = 182.8325803923131, LT Storage = 152.3604836602609
  Node [1803;3527]: Solar = 24.38180741760409, Battery Storage = 146.29084450562453, LT Storage = 121.90903708802045
  Node [1764;3507]: Solar = 25.70904824180518, Battery Storage = 154.2542894508311, LT Storage = 128.5452412090259
  Node [1647;3309]: Solar = 60.52934729875294, Battery Storage = 363.1760837925176, LT Storage = 302.6467364937647
  Node [1647;3376]: Solar = 45.14391592024355, Battery Storage = 270.8634955214613, LT Storage = 225.71957960121776
  Node [1715;3346]: Solar = 26.174695340830656, Battery Storage = 157.04817204498394, LT Storage = 130.8734767041533
  Node [1705;3321]: Solar = 23.62544939024436, Battery Storage = 141.75269634146616, LT Storage = 118.12724695122179
  Node [1739;3392]: Solar = 21.40398964366588, Battery Storage = 128.42393786199528, LT Storage = 107.0199482183294
  Node [1719;3407]: Solar = 20.594675896947663, Battery Storage = 123.56805538168598, LT Storage = 102.97337948473832
  Node [1712;3433]: Solar = 20.266997736201652, Battery Storage = 121.60198641720991, LT Storage = 101.33498868100827
  Node [1824;3405]: Solar = 22.608129461999244, Battery Storage = 135.64877677199547, LT Storage = 113.04064730999622
  Node [1832;3411]: Solar = 24.260054841889943, Battery Storage = 145.56032905133966, LT Storage = 121.30027420944971
  Node [1603;3376]: Solar = 26.603278116021844, Battery Storage = 159.61966869613107, LT Storage = 133.01639058010923
  Node [1777;3368]: Solar = 32.61103917060038, Battery Storage = 195.66623502360227, LT Storage = 163.0551958530019
  Node [1799;3531]: Solar = 48.24627331121302, Battery Storage = 289.47763986727807, LT Storage = 241.2313665560651
  Node [1776;3336]: Solar = 20.151317110256635, Battery Storage = 120.90790266153981, LT Storage = 100.75658555128317
  Node [1755;3539]: Solar = 54.00690724949494, Battery Storage = 324.04144349696963, LT Storage = 270.0345362474747
  Node [1797;3541]: Solar = 68.8547532983614, Battery Storage = 413.1285197901684, LT Storage = 344.273766491807
  Node [1733;3401]: Solar = 22.77714746222485, Battery Storage = 136.6628847733491, LT Storage = 113.88573731112425
  Node [1302;4191]: Solar = 74.39219021618136, Battery Storage = 446.3531412970882, LT Storage = 371.9609510809068
  Node [1327;4203]: Solar = 54.766246441205034, Battery Storage = 328.5974786472302, LT Storage = 273.83123220602516
  Node [1303;4216]: Solar = 136.63627494587385, Battery Storage = 819.817649675243, LT Storage = 683.1813747293693
  Node [1344;4248]: Solar = 37.57196601126538, Battery Storage = 225.4317960675923, LT Storage = 187.8598300563269
  Node [1409;4232]: Solar = 126.17177673999711, Battery Storage = 757.0306604399827, LT Storage = 630.8588836999855
  Node [1286;4384]: Solar = 35.82152228879924, Battery Storage = 214.92913373279544, LT Storage = 179.10761144399618
  Node [1271;4307]: Solar = 34.79669152381736, Battery Storage = 208.78014914290415, LT Storage = 173.98345761908678
  Node [1287;4266]: Solar = 54.899664424081315, Battery Storage = 329.3979865444879, LT Storage = 274.49832212040656
  Node [681;4122]: Solar = 28.863113017049827, Battery Storage = 173.17867810229896, LT Storage = 144.31556508524915
  Node [856;4258]: Solar = 22.534903432357957, Battery Storage = 135.20942059414773, LT Storage = 112.6745171617898
  Node [950;4022]: Solar = 22.83068155816294, Battery Storage = 136.98408934897765, LT Storage = 114.1534077908147
  Node [950;4293]: Solar = 22.906083520664097, Battery Storage = 137.43650112398458, LT Storage = 114.53041760332049
  Node [1131;4183]: Solar = 21.428061359502315, Battery Storage = 128.56836815701388, LT Storage = 107.14030679751158
  Node [1166;4198]: Solar = 20.92214586182834, Battery Storage = 125.53287517097004, LT Storage = 104.6107293091417
  Node [1194;4198]: Solar = 36.25081004095763, Battery Storage = 217.5048602457458, LT Storage = 181.25405020478814
  Node [1185;4212]: Solar = 20.082960160967332, Battery Storage = 120.49776096580399, LT Storage = 100.41480080483666
  Node [1074;4125]: Solar = 49.49254433914715, Battery Storage = 296.9552660348829, LT Storage = 247.46272169573575
  Node [1211;4186]: Solar = 31.214387804224874, Battery Storage = 187.28632682534925, LT Storage = 156.07193902112436
  Node [1199;4060]: Solar = 23.836922987126332, Battery Storage = 143.021537922758, LT Storage = 119.18461493563166
  Node [1161;4022]: Solar = 218.8523107347742, Battery Storage = 1313.1138644086452, LT Storage = 1094.261553673871
  Node [1237;4145]: Solar = 24.2091328674213, Battery Storage = 145.2547972045278, LT Storage = 121.0456643371065
  Node [2180;3391]: Solar = 91.858859851321, Battery Storage = 551.1531591079261, LT Storage = 459.294299256605
  Node [2194;3409]: Solar = 186.0667810655599, Battery Storage = 1116.4006863933594, LT Storage = 930.3339053277995
  Node [2487;3134]: Solar = 85.43503765041058, Battery Storage = 512.6102259024635, LT Storage = 427.17518825205286
  Node [2496;3137]: Solar = 88.49885916549667, Battery Storage = 530.99315499298, LT Storage = 442.49429582748337
  Node [2424;3111]: Solar = 62.19710235441033, Battery Storage = 373.182614126462, LT Storage = 310.98551177205167
  Node [2428;3129]: Solar = 90.30144212288096, Battery Storage = 541.8086527372857, LT Storage = 451.5072106144048
  Node [2380;3135]: Solar = 163.45037032572677, Battery Storage = 980.7022219543605, LT Storage = 817.2518516286339
  Node [2639;3208]: Solar = 297.6368769603137, Battery Storage = 1785.8212617618824, LT Storage = 1488.1843848015685
  Node [2695;3223]: Solar = 81.20120804267611, Battery Storage = 487.2072482560567, LT Storage = 406.0060402133806
  Node [2682;3219]: Solar = 92.1151906417705, Battery Storage = 552.691143850623, LT Storage = 460.57595320885247
  Node [2683;3240]: Solar = 89.49529987033875, Battery Storage = 536.9717992220326, LT Storage = 447.47649935169375
  Node [2690;3244]: Solar = 95.26391792129942, Battery Storage = 571.5835075277965, LT Storage = 476.3195896064971
  Node [2594;3222]: Solar = 197.58138101091632, Battery Storage = 1185.488286065498, LT Storage = 987.9069050545816
  Node [2493;3157]: Solar = 109.93330874632206, Battery Storage = 659.5998524779324, LT Storage = 549.6665437316103
  Node [2499;3163]: Solar = 221.1085591433589, Battery Storage = 1326.6513548601533, LT Storage = 1105.5427957167944
  Node [2494;3212]: Solar = 187.2940228984075, Battery Storage = 1123.7641373904448, LT Storage = 936.4701144920375
  Node [2502;3187]: Solar = 177.59864982757202, Battery Storage = 1065.5918989654322, LT Storage = 887.9932491378601
  Node [2415;3165]: Solar = 165.5774258384736, Battery Storage = 993.4645550308417, LT Storage = 827.887129192368
  Node [2385;3192]: Solar = 217.1293096469068, Battery Storage = 1302.7758578814407, LT Storage = 1085.6465482345338
  Node [2391;3206]: Solar = 247.97584186799205, Battery Storage = 1487.8550512079523, LT Storage = 1239.8792093399602
  Node [2539;3256]: Solar = 222.58726444474797, Battery Storage = 1335.523586668488, LT Storage = 1112.9363222237398
  Node [2541;3263]: Solar = 224.42794163893495, Battery Storage = 1346.5676498336097, LT Storage = 1122.1397081946748
  Node [2566;3249]: Solar = 201.58999571945063, Battery Storage = 1209.5399743167038, LT Storage = 1007.9499785972531
  Node [2517;3263]: Solar = 170.2210794310904, Battery Storage = 1021.3264765865424, LT Storage = 851.105397155452
  Node [2450;3215]: Solar = 180.3025738388213, Battery Storage = 1081.8154430329278, LT Storage = 901.5128691941065
  Node [2425;3260]: Solar = 391.14461267697413, Battery Storage = 2346.8676760618446, LT Storage = 1955.7230633848708
  Node [2440;3263]: Solar = 169.60077229362128, Battery Storage = 1017.6046337617277, LT Storage = 848.0038614681064
  Node [2331;3116]: Solar = 191.07716085292213, Battery Storage = 1146.4629651175328, LT Storage = 955.3858042646107
  Node [2331;3130]: Solar = 175.10814335484395, Battery Storage = 1050.6488601290637, LT Storage = 875.5407167742197
  Node [2321;3134]: Solar = 76.44866266854845, Battery Storage = 458.6919760112907, LT Storage = 382.2433133427422
  Node [2314;3145]: Solar = 111.93978078607756, Battery Storage = 671.6386847164654, LT Storage = 559.6989039303878
  Node [2314;3136]: Solar = 76.9467820599557, Battery Storage = 461.68069235973417, LT Storage = 384.7339102997785
  Node [2295;3148]: Solar = 223.6515998044518, Battery Storage = 1341.9095988267109, LT Storage = 1118.257999022259
  Node [2303;3154]: Solar = 133.70795905623294, Battery Storage = 802.2477543373976, LT Storage = 668.5397952811647
  Node [2301;3142]: Solar = 100.44863592620348, Battery Storage = 602.6918155572209, LT Storage = 502.24317963101737
  Node [2306;3137]: Solar = 130.15277000754605, Battery Storage = 780.9166200452763, LT Storage = 650.7638500377302
  Node [2286;3140]: Solar = 140.4183980560507, Battery Storage = 842.5103883363042, LT Storage = 702.0919902802535
  Node [2275;3142]: Solar = 189.996485580523, Battery Storage = 1139.978913483138, LT Storage = 949.982427902615
  Node [2252;3151]: Solar = 159.56503908204482, Battery Storage = 957.390234492269, LT Storage = 797.8251954102241
  Node [2263;3142]: Solar = 208.74213390283103, Battery Storage = 1252.4528034169862, LT Storage = 1043.7106695141551
  Node [2243;3144]: Solar = 198.82591594079437, Battery Storage = 1192.9554956447662, LT Storage = 994.1295797039719
  Node [2243;3121]: Solar = 269.36147184590885, Battery Storage = 1616.168831075453, LT Storage = 1346.8073592295443
  Node [2237;3229]: Solar = 151.7378940412443, Battery Storage = 910.4273642474657, LT Storage = 758.6894702062215
  Node [2258;3192]: Solar = 221.91920306757072, Battery Storage = 1331.5152184054243, LT Storage = 1109.5960153378537
  Node [2292;3178]: Solar = 295.43310096024777, Battery Storage = 1772.5986057614866, LT Storage = 1477.165504801239
  Node [2309;3167]: Solar = 307.76646810605854, Battery Storage = 1846.5988086363514, LT Storage = 1538.8323405302926
  Node [2340;3161]: Solar = 178.53580946509297, Battery Storage = 1071.2148567905579, LT Storage = 892.6790473254648
  Node [2295;3159]: Solar = 339.04981616421657, Battery Storage = 2034.2988969852995, LT Storage = 1695.2490808210828
  Node [2300;3165]: Solar = 194.3516110494311, Battery Storage = 1166.1096662965867, LT Storage = 971.7580552471555
  Node [2339;3178]: Solar = 319.55262197948315, Battery Storage = 1917.315731876899, LT Storage = 1597.7631098974157
  Node [2356;3173]: Solar = 283.53868916627744, Battery Storage = 1701.2321349976646, LT Storage = 1417.6934458313872
  Node [2327;3170]: Solar = 373.81156399730145, Battery Storage = 2242.869383983809, LT Storage = 1869.0578199865072
  Node [2327;3183]: Solar = 173.379330661412, Battery Storage = 1040.275983968472, LT Storage = 866.8966533070601
  Node [2259;3172]: Solar = 234.71375400628537, Battery Storage = 1408.2825240377122, LT Storage = 1173.5687700314268
  Node [2263;3160]: Solar = 212.68661606738513, Battery Storage = 1276.1196964043108, LT Storage = 1063.4330803369257
  Node [2277;3157]: Solar = 293.4397834467816, Battery Storage = 1760.6387006806895, LT Storage = 1467.1989172339079
  Node [2249;3170]: Solar = 178.60889805446854, Battery Storage = 1071.6533883268112, LT Storage = 893.0444902723427
  Node [2254;3159]: Solar = 158.29872021303535, Battery Storage = 949.7923212782121, LT Storage = 791.4936010651768
  Node [2269;3179]: Solar = 185.45758923624868, Battery Storage = 1112.7455354174922, LT Storage = 927.2879461812433
  Node [2370;4050]: Solar = 54.66766814300864, Battery Storage = 328.0060088580518, LT Storage = 273.3383407150432
  Node [2401;4083]: Solar = 120.67857882413524, Battery Storage = 724.0714729448115, LT Storage = 603.3928941206763
  Node [2277;3180]: Solar = 207.61313175481467, Battery Storage = 1245.678790528888, LT Storage = 1038.0656587740734
  Node [2270;3190]: Solar = 122.86362567028604, Battery Storage = 737.1817540217162, LT Storage = 614.3181283514302
  Node [2241;3175]: Solar = 241.00446499815573, Battery Storage = 1446.0267899889343, LT Storage = 1205.0223249907785
  Node [2263;3183]: Solar = 201.7772530725556, Battery Storage = 1210.6635184353336, LT Storage = 1008.886265362778
  Node [2255;3186]: Solar = 233.20821278635745, Battery Storage = 1399.2492767181448, LT Storage = 1166.0410639317872
  Node [2337;3232]: Solar = 179.40950963360223, Battery Storage = 1076.4570578016132, LT Storage = 897.0475481680112
  Node [2384;3244]: Solar = 197.69472100146072, Battery Storage = 1186.1683260087643, LT Storage = 988.4736050073036
  Node [2311;3238]: Solar = 138.3095602034514, Battery Storage = 829.8573612207085, LT Storage = 691.547801017257
  Node [2330;3241]: Solar = 129.34280186127148, Battery Storage = 776.0568111676289, LT Storage = 646.7140093063574
  Node [2277;3202]: Solar = 217.10142398510803, Battery Storage = 1302.6085439106482, LT Storage = 1085.50711992554
  Node [2277;3218]: Solar = 257.38371744151874, Battery Storage = 1544.3023046491126, LT Storage = 1286.9185872075936
  Node [2268;3197]: Solar = 139.89660920515732, Battery Storage = 839.3796552309439, LT Storage = 699.4830460257866
  Node [2261;3205]: Solar = 329.03307471469606, Battery Storage = 1974.1984482881762, LT Storage = 1645.1653735734803
  Node [2244;3245]: Solar = 194.2013272080319, Battery Storage = 1165.2079632481914, LT Storage = 971.0066360401595
  Node [2180;3182]: Solar = 280.8388438243007, Battery Storage = 1685.033062945804, LT Storage = 1404.1942191215035
  Node [2153;3193]: Solar = 146.92410500933406, Battery Storage = 881.5446300560043, LT Storage = 734.6205250466703
  Node [2207;3219]: Solar = 324.6585782513115, Battery Storage = 1947.951469507869, LT Storage = 1623.2928912565576
  Node [2174;3237]: Solar = 165.88541995588926, Battery Storage = 995.3125197353356, LT Storage = 829.4270997794463
  Node [2177;3222]: Solar = 152.37266220363935, Battery Storage = 914.235973221836, LT Storage = 761.8633110181968
  Node [2178;3252]: Solar = 184.87205600352337, Battery Storage = 1109.2323360211403, LT Storage = 924.3602800176168
  Node [2202;3255]: Solar = 154.5457552208085, Battery Storage = 927.2745313248511, LT Storage = 772.7287761040425
  Node [2168;3262]: Solar = 118.74803204398356, Battery Storage = 712.4881922639013, LT Storage = 593.7401602199178
  Node [2033;3246]: Solar = 229.26175954456096, Battery Storage = 1375.5705572673658, LT Storage = 1146.3087977228047
  Node [2037;3254]: Solar = 109.69340680406783, Battery Storage = 658.160440824407, LT Storage = 548.4670340203392
  Node [2026;3252]: Solar = 67.86410692264292, Battery Storage = 407.1846415358575, LT Storage = 339.3205346132146
  Node [2045;3194]: Solar = 184.39855668240045, Battery Storage = 1106.3913400944027, LT Storage = 921.9927834120023
  Node [2061;3253]: Solar = 156.43644632361088, Battery Storage = 938.6186779416653, LT Storage = 782.1822316180544
  Node [2104;3249]: Solar = 186.43505887466728, Battery Storage = 1118.6103532480038, LT Storage = 932.1752943733363
  Node [2086;3202]: Solar = 179.14448348029626, Battery Storage = 1074.8669008817776, LT Storage = 895.7224174014813
  Node [2506;3277]: Solar = 172.40320394597117, Battery Storage = 1034.419223675827, LT Storage = 862.0160197298559
  Node [2509;3268]: Solar = 142.8650330159717, Battery Storage = 857.1901980958303, LT Storage = 714.3251650798585
  Node [2517;3276]: Solar = 101.19597903019522, Battery Storage = 607.1758741811714, LT Storage = 505.97989515097606
  Node [2594;3286]: Solar = 242.04415100592703, Battery Storage = 1452.2649060355623, LT Storage = 1210.2207550296353
  Node [2624;3294]: Solar = 197.1721061601681, Battery Storage = 1183.0326369610086, LT Storage = 985.8605308008406
  Node [2648;3333]: Solar = 199.51893218184605, Battery Storage = 1197.1135930910764, LT Storage = 997.5946609092302
  Node [2561;3315]: Solar = 439.6437516816346, Battery Storage = 2637.862510089808, LT Storage = 2198.218758408173
  Node [2562;3299]: Solar = 277.11528366211763, Battery Storage = 1662.6917019727057, LT Storage = 1385.5764183105882
  Node [2608;3349]: Solar = 142.42640202314044, Battery Storage = 854.5584121388426, LT Storage = 712.1320101157022
  Node [2625;3367]: Solar = 218.26035785763744, Battery Storage = 1309.5621471458246, LT Storage = 1091.3017892881871
  Node [2584;3347]: Solar = 258.02076887150736, Battery Storage = 1548.1246132290441, LT Storage = 1290.1038443575367
  Node [2587;3326]: Solar = 122.22794754135091, Battery Storage = 733.3676852481055, LT Storage = 611.1397377067545
  Node [2538;3331]: Solar = 216.35171355397935, Battery Storage = 1298.110281323876, LT Storage = 1081.7585677698967
  Node [2570;3329]: Solar = 290.2331664981632, Battery Storage = 1741.3989989889792, LT Storage = 1451.165832490816
  Node [2658;3393]: Solar = 196.7234660979331, Battery Storage = 1180.3407965875986, LT Storage = 983.6173304896656
  Node [2694;3398]: Solar = 160.61159028543423, Battery Storage = 963.6695417126055, LT Storage = 803.0579514271711
  Node [2597;3391]: Solar = 161.3477212426285, Battery Storage = 968.086327455771, LT Storage = 806.7386062131425
  Node [2630;3383]: Solar = 128.07733909518433, Battery Storage = 768.4640345711059, LT Storage = 640.3866954759217
  Node [2681;3405]: Solar = 199.17794715686253, Battery Storage = 1195.0676829411752, LT Storage = 995.8897357843126
  Node [2512;3346]: Solar = 232.12258632547145, Battery Storage = 1392.7355179528286, LT Storage = 1160.6129316273573
  Node [2564;3386]: Solar = 273.0357134071205, Battery Storage = 1638.214280442723, LT Storage = 1365.1785670356026
  Node [2583;3394]: Solar = 136.13967492534914, Battery Storage = 816.8380495520948, LT Storage = 680.6983746267457
  Node [2617;3436]: Solar = 213.99260196824468, Battery Storage = 1283.955611809468, LT Storage = 1069.9630098412235
  Node [2582;3440]: Solar = 175.5691597347082, Battery Storage = 1053.4149584082493, LT Storage = 877.8457986735409
  Node [1553;3654]: Solar = 39.1047535592471, Battery Storage = 234.6285213554826, LT Storage = 195.52376779623552
  Node [1772;3603]: Solar = 62.98583668937283, Battery Storage = 377.915020136237, LT Storage = 314.92918344686416
  Node [2596;3440]: Solar = 93.0776875796938, Battery Storage = 558.4661254781628, LT Storage = 465.388437898469
  Node [2613;3472]: Solar = 138.41986225569104, Battery Storage = 830.5191735341463, LT Storage = 692.0993112784552
  Node [2643;3467]: Solar = 327.3101752045453, Battery Storage = 1963.861051227272, LT Storage = 1636.5508760227267
  Node [2621;3479]: Solar = 342.9128991838371, Battery Storage = 2057.477395103023, LT Storage = 1714.5644959191854
  Node [2557;3478]: Solar = 229.8805320594724, Battery Storage = 1379.2831923568342, LT Storage = 1149.402660297362
  Node [2563;3489]: Solar = 390.26504405335527, Battery Storage = 2341.5902643201316, LT Storage = 1951.3252202667763
  Node [2590;3510]: Solar = 172.5834215113146, Battery Storage = 1035.5005290678878, LT Storage = 862.917107556573
  Node [2615;3503]: Solar = 90.13782545099724, Battery Storage = 540.8269527059834, LT Storage = 450.6891272549862
  Node [2657;3526]: Solar = 348.27139216124107, Battery Storage = 2089.6283529674465, LT Storage = 1741.3569608062053
  Node [2616;3514]: Solar = 185.61303714946024, Battery Storage = 1113.6782228967613, LT Storage = 928.0651857473013
  Node [2621;3497]: Solar = 686.2714102268296, Battery Storage = 4117.628461360978, LT Storage = 3431.357051134148
  Node [2554;3514]: Solar = 143.34744951345476, Battery Storage = 860.0846970807286, LT Storage = 716.7372475672738
  Node [2579;3539]: Solar = 181.19902869245453, Battery Storage = 1087.1941721547273, LT Storage = 905.9951434622726
  Node [2576;3547]: Solar = 154.54760018234313, Battery Storage = 927.2856010940588, LT Storage = 772.7380009117156
  Node [2573;3602]: Solar = 192.55461459291072, Battery Storage = 1155.3276875574643, LT Storage = 962.7730729645536
  Node [2430;3274]: Solar = 191.24966580908463, Battery Storage = 1147.4979948545079, LT Storage = 956.2483290454231
  Node [2498;3273]: Solar = 132.41188717750393, Battery Storage = 794.4713230650236, LT Storage = 662.0594358875196
  Node [2492;3270]: Solar = 198.16266128728856, Battery Storage = 1188.9759677237314, LT Storage = 990.8133064364428
  Node [2463;3273]: Solar = 160.77882891566628, Battery Storage = 964.6729734939977, LT Storage = 803.8941445783314
  Node [2473;3268]: Solar = 91.55196905747763, Battery Storage = 549.3118143448658, LT Storage = 457.7598452873882
  Node [2481;3283]: Solar = 165.43942658396855, Battery Storage = 992.6365595038113, LT Storage = 827.1971329198427
  Node [2437;3292]: Solar = 222.50267814610245, Battery Storage = 1335.0160688766148, LT Storage = 1112.5133907305124
  Node [2416;3273]: Solar = 312.54449475332876, Battery Storage = 1875.2669685199726, LT Storage = 1562.7224737666438
  Node [2300;3265]: Solar = 151.50458682943923, Battery Storage = 909.0275209766354, LT Storage = 757.5229341471961
  Node [2356;3287]: Solar = 277.59763284041316, Battery Storage = 1665.585797042479, LT Storage = 1387.9881642020657
  Node [2403;3290]: Solar = 244.0633644705392, Battery Storage = 1464.3801868232351, LT Storage = 1220.316822352696
  Node [2275;3287]: Solar = 136.2724366483162, Battery Storage = 817.6346198898971, LT Storage = 681.362183241581
  Node [2483;3302]: Solar = 139.03488000835873, Battery Storage = 834.2092800501523, LT Storage = 695.1744000417937
  Node [2414;3294]: Solar = 264.53300504235676, Battery Storage = 1587.1980302541406, LT Storage = 1322.6650252117838
  Node [2419;3305]: Solar = 188.53123045152824, Battery Storage = 1131.1873827091695, LT Storage = 942.6561522576412
  Node [2315;3327]: Solar = 133.571342135927, Battery Storage = 801.4280528155621, LT Storage = 667.8567106796351
  Node [2334;3352]: Solar = 187.4278122886452, Battery Storage = 1124.5668737318713, LT Storage = 937.1390614432261
  Node [2370;3355]: Solar = 320.9129627351247, Battery Storage = 1925.4777764107484, LT Storage = 1604.5648136756236
  Node [2297;3345]: Solar = 149.03488389296683, Battery Storage = 894.209303357801, LT Storage = 745.1744194648342
  Node [2164;3303]: Solar = 248.00017873125563, Battery Storage = 1488.001072387534, LT Storage = 1240.000893656278
  Node [2218;3270]: Solar = 136.27207560420453, Battery Storage = 817.6324536252272, LT Storage = 681.3603780210226
  Node [2188;3305]: Solar = 142.42839850300024, Battery Storage = 854.5703910180014, LT Storage = 712.1419925150012
  Node [2204;3283]: Solar = 199.80388969719604, Battery Storage = 1198.8233381831762, LT Storage = 999.0194484859802
  Node [2205;3293]: Solar = 114.41720893889573, Battery Storage = 686.5032536333744, LT Storage = 572.0860446944787
  Node [2195;3287]: Solar = 203.44014941912687, Battery Storage = 1220.6408965147612, LT Storage = 1017.2007470956344
  Node [2209;3307]: Solar = 153.29283083937264, Battery Storage = 919.7569850362358, LT Storage = 766.4641541968632
  Node [2239;3288]: Solar = 200.08453300354105, Battery Storage = 1200.5071980212463, LT Storage = 1000.4226650177053
  Node [2057;3272]: Solar = 154.7339783519308, Battery Storage = 928.4038701115849, LT Storage = 773.669891759654
  Node [2115;3310]: Solar = 117.43426355454532, Battery Storage = 704.6055813272719, LT Storage = 587.1713177727266
  Node [2091;3327]: Solar = 177.20416490204258, Battery Storage = 1063.2249894122556, LT Storage = 886.0208245102128
  Node [1995;3329]: Solar = 165.74169689701134, Battery Storage = 994.450181382068, LT Storage = 828.7084844850567
  Node [1995;3339]: Solar = 49.31706090119136, Battery Storage = 295.9023654071482, LT Storage = 246.5853045059568
  Node [2019;3342]: Solar = 45.86940845530109, Battery Storage = 275.21645073180656, LT Storage = 229.34704227650545
  Node [2050;3346]: Solar = 138.36882971144803, Battery Storage = 830.2129782686882, LT Storage = 691.8441485572401
  Node [1989;3350]: Solar = 121.3990965935782, Battery Storage = 728.3945795614692, LT Storage = 606.995482967891
  Node [2004;3338]: Solar = 61.304505216152634, Battery Storage = 367.82703129691583, LT Storage = 306.52252608076316
  Node [2431;3373]: Solar = 76.27547175441129, Battery Storage = 457.6528305264677, LT Storage = 381.3773587720564
  Node [2435;3385]: Solar = 68.8586297525517, Battery Storage = 413.15177851531024, LT Storage = 344.2931487627585
  Node [2495;3437]: Solar = 396.52513624313315, Battery Storage = 2379.150817458799, LT Storage = 1982.6256812156657
  Node [2249;3361]: Solar = 104.50229449870636, Battery Storage = 627.0137669922382, LT Storage = 522.5114724935318
  Node [2267;3367]: Solar = 228.19172642703, Battery Storage = 1369.15035856218, LT Storage = 1140.95863213515
  Node [2284;3347]: Solar = 266.18534127317685, Battery Storage = 1597.112047639061, LT Storage = 1330.9267063658842
  Node [2470;3452]: Solar = 332.2486027135702, Battery Storage = 1993.4916162814213, LT Storage = 1661.243013567851
  Node [2406;3463]: Solar = 210.8223129342423, Battery Storage = 1264.9338776054537, LT Storage = 1054.1115646712115
  Node [2430;3452]: Solar = 181.5699145608575, Battery Storage = 1089.419487365145, LT Storage = 907.8495728042876
  Node [2434;3435]: Solar = 230.2949902676529, Battery Storage = 1381.7699416059174, LT Storage = 1151.4749513382644
  Node [2490;3473]: Solar = 479.16969375152433, Battery Storage = 2875.018162509146, LT Storage = 2395.8484687576215
  Node [2165;3371]: Solar = 348.29096909324755, Battery Storage = 2089.7458145594856, LT Storage = 1741.4548454662377
  Node [2170;3380]: Solar = 152.32324484463012, Battery Storage = 913.9394690677807, LT Storage = 761.6162242231507
  Node [2210;3363]: Solar = 126.03990866217003, Battery Storage = 756.2394519730202, LT Storage = 630.1995433108502
  Node [2185;3375]: Solar = 166.41504467670154, Battery Storage = 998.4902680602092, LT Storage = 832.0752233835077
  Node [2175;3399]: Solar = 124.21787400754774, Battery Storage = 745.3072440452864, LT Storage = 621.0893700377387
  Node [2006;3375]: Solar = 157.46881081125193, Battery Storage = 944.8128648675115, LT Storage = 787.3440540562597
  Node [2021;3357]: Solar = 184.80903309189517, Battery Storage = 1108.8541985513712, LT Storage = 924.0451654594758
  Node [2047;3371]: Solar = 247.69453980007424, Battery Storage = 1486.1672388004454, LT Storage = 1238.4726990003712
  Node [1951;3363]: Solar = 186.43714833998604, Battery Storage = 1118.6228900399162, LT Storage = 932.1857416999302
  Node [2016;3377]: Solar = 375.4634455989368, Battery Storage = 2252.780673593621, LT Storage = 1877.317227994684
  Node [2033;3395]: Solar = 380.0809034540733, Battery Storage = 2280.48542072444, LT Storage = 1900.4045172703663
  Node [2185;3414]: Solar = 158.13519846307267, Battery Storage = 948.811190778436, LT Storage = 790.6759923153634
  Node [2170;3435]: Solar = 203.5832520820157, Battery Storage = 1221.4995124920943, LT Storage = 1017.9162604100784
  Node [2178;3409]: Solar = 215.28782613412417, Battery Storage = 1291.726956804745, LT Storage = 1076.439130670621
  Node [2095;3405]: Solar = 199.0718728489324, Battery Storage = 1194.4312370935945, LT Storage = 995.359364244662
  Node [2188;3454]: Solar = 116.99669033700908, Battery Storage = 701.9801420220545, LT Storage = 584.9834516850455
  Node [2194;3445]: Solar = 167.6390588136359, Battery Storage = 1005.8343528818154, LT Storage = 838.1952940681795
  Node [2181;3498]: Solar = 224.3317187153739, Battery Storage = 1345.9903122922435, LT Storage = 1121.6585935768696
  Node [2251;3480]: Solar = 212.5281130908392, Battery Storage = 1275.1686785450352, LT Storage = 1062.6405654541961
  Node [2048;3409]: Solar = 180.26098376647715, Battery Storage = 1081.565902598863, LT Storage = 901.3049188323857
  Node [2067;3408]: Solar = 185.936385379892, Battery Storage = 1115.6183122793518, LT Storage = 929.68192689946
  Node [2003;3415]: Solar = 180.6642255664503, Battery Storage = 1083.9853533987018, LT Storage = 903.3211278322516
  Node [2032;3475]: Solar = 268.60111176259795, Battery Storage = 1611.6066705755877, LT Storage = 1343.0055588129899
  Node [1990;3437]: Solar = 259.1242860000101, Battery Storage = 1554.7457160000606, LT Storage = 1295.6214300000506
  Node [1999;3428]: Solar = 209.8203633287985, Battery Storage = 1258.922179972791, LT Storage = 1049.1018166439924
  Node [2399;3505]: Solar = 335.49620696409875, Battery Storage = 2012.9772417845925, LT Storage = 1677.4810348204937
  Node [2463;3527]: Solar = 214.84009873074703, Battery Storage = 1289.0405923844821, LT Storage = 1074.200493653735
  Node [2501;3526]: Solar = 360.87967349977856, Battery Storage = 2165.2780409986713, LT Storage = 1804.3983674988929
  Node [2540;3527]: Solar = 319.6689957690499, Battery Storage = 1918.0139746142995, LT Storage = 1598.3449788452494
  Node [2364;3500]: Solar = 107.39243518980236, Battery Storage = 644.3546111388141, LT Storage = 536.9621759490118
  Node [2265;3449]: Solar = 229.46997660557315, Battery Storage = 1376.819859633439, LT Storage = 1147.3498830278659
  Node [2320;3481]: Solar = 384.9058277165277, Battery Storage = 2309.4349662991663, LT Storage = 1924.5291385826386
  Node [2332;3576]: Solar = 208.39401569107608, Battery Storage = 1250.3640941464564, LT Storage = 1041.9700784553804
  Node [2343;3525]: Solar = 107.4378418741574, Battery Storage = 644.6270512449444, LT Storage = 537.189209370787
  Node [2361;3544]: Solar = 193.8158875488011, Battery Storage = 1162.8953252928065, LT Storage = 969.0794377440055
  Node [2339;3557]: Solar = 211.1706678429996, Battery Storage = 1267.0240070579976, LT Storage = 1055.853339214998
  Node [2302;3568]: Solar = 101.62472948536268, Battery Storage = 609.7483769121761, LT Storage = 508.12364742681336
  Node [2331;3593]: Solar = 175.63061598144935, Battery Storage = 1053.783695888696, LT Storage = 878.1530799072468
  Node [2281;3566]: Solar = 192.21003593487177, Battery Storage = 1153.2602156092307, LT Storage = 961.0501796743588
  Node [2195;3506]: Solar = 46.25368070013613, Battery Storage = 277.5220842008168, LT Storage = 231.26840350068065
  Node [2142;3540]: Solar = 197.6887500438864, Battery Storage = 1186.1325002633184, LT Storage = 988.4437502194319
  Node [2168;3524]: Solar = 112.2926103058019, Battery Storage = 673.7556618348115, LT Storage = 561.4630515290095
  Node [2191;3609]: Solar = 118.21142603194492, Battery Storage = 709.2685561916695, LT Storage = 591.0571301597246
  Node [2280;3619]: Solar = 278.35474879856895, Battery Storage = 1670.1284927914137, LT Storage = 1391.7737439928446
  Node [2221;3682]: Solar = 220.339289794269, Battery Storage = 1322.035738765614, LT Storage = 1101.696448971345
  Node [2172;3640]: Solar = 112.6109388879267, Battery Storage = 675.6656333275602, LT Storage = 563.0546944396335
  Node [2132;3585]: Solar = 247.00181922066713, Battery Storage = 1482.0109153240028, LT Storage = 1235.0090961033357
  Node [2250;3687]: Solar = 104.9628186863402, Battery Storage = 629.7769121180412, LT Storage = 524.8140934317009
  Node [2269;3690]: Solar = 63.01750905400058, Battery Storage = 378.10505432400345, LT Storage = 315.08754527000286
  Node [2290;3671]: Solar = 173.34968468181492, Battery Storage = 1040.0981080908896, LT Storage = 866.7484234090746
  Node [2292;3715]: Solar = 171.4262847425349, Battery Storage = 1028.5577084552094, LT Storage = 857.1314237126745
  Node [1964;3518]: Solar = 196.7219392710849, Battery Storage = 1180.3316356265093, LT Storage = 983.6096963554245
  Node [1975;3527]: Solar = 138.3347290464971, Battery Storage = 830.0083742789826, LT Storage = 691.6736452324856
  Node [2009;3524]: Solar = 108.99224912712096, Battery Storage = 653.9534947627258, LT Storage = 544.9612456356048
  Node [1952;3578]: Solar = 186.67282771304855, Battery Storage = 1120.0369662782914, LT Storage = 933.3641385652427
  Node [1967;3614]: Solar = 338.20098103795505, Battery Storage = 2029.2058862277304, LT Storage = 1691.0049051897752
  Node [1998;3585]: Solar = 145.38752547796133, Battery Storage = 872.325152867768, LT Storage = 726.9376273898067
  Node [2141;3565]: Solar = 63.81189121373955, Battery Storage = 382.8713472824373, LT Storage = 319.0594560686977
  Node [2158;3570]: Solar = 195.6725921690861, Battery Storage = 1174.0355530145166, LT Storage = 978.3629608454305
  Node [2152;3578]: Solar = 79.29785238777612, Battery Storage = 475.7871143266567, LT Storage = 396.4892619388806
  Node [2148;3643]: Solar = 884.1200992878719, Battery Storage = 5304.720595727231, LT Storage = 4420.60049643936
  Node [2154;3626]: Solar = 326.2178293350355, Battery Storage = 1957.306976010213, LT Storage = 1631.0891466751775
  Node [2153;3613]: Solar = 561.498620344166, Battery Storage = 3368.9917220649963, LT Storage = 2807.49310172083
  Node [2578;3327]: Solar = 197.54748977338343, Battery Storage = 1185.2849386403007, LT Storage = 987.7374488669171
  Node [2579;3233]: Solar = 145.49886080314818, Battery Storage = 872.993164818889, LT Storage = 727.4943040157409
  Node [2437;3397]: Solar = 171.10100899206878, Battery Storage = 1026.6060539524128, LT Storage = 855.5050449603439
  Node [2170;3222]: Solar = 131.50294927203822, Battery Storage = 789.0176956322293, LT Storage = 657.5147463601911
  Node [2254;3336]: Solar = 117.66415204173536, Battery Storage = 705.9849122504122, LT Storage = 588.3207602086768
  Node [2413;3280]: Solar = 450.50047481635767, Battery Storage = 2703.002848898146, LT Storage = 2252.5023740817883
  Node [2286;3545]: Solar = 951.8527690414268, Battery Storage = 5711.116614248561, LT Storage = 4759.263845207134
  Node [2281;3551]: Solar = 269.6623993039299, Battery Storage = 1617.9743958235792, LT Storage = 1348.3119965196493
  Node [2103;3190]: Solar = 62.70423805474445, Battery Storage = 376.2254283284667, LT Storage = 313.52119027372225
  Node [2341;3270]: Solar = 141.98123400332764, Battery Storage = 851.8874040199659, LT Storage = 709.9061700166383
  Node [2355;3271]: Solar = 176.24492105886503, Battery Storage = 1057.4695263531903, LT Storage = 881.2246052943251
  Node [2416;3381]: Solar = 295.25904475010674, Battery Storage = 1771.5542685006403, LT Storage = 1476.2952237505338
  Node [2375;3460]: Solar = 128.7942386021573, Battery Storage = 772.7654316129438, LT Storage = 643.9711930107865
  Node [2384;3453]: Solar = 188.25249484191687, Battery Storage = 1129.5149690515013, LT Storage = 941.2624742095843
  Node [2044;3312]: Solar = 157.45585590885204, Battery Storage = 944.7351354531122, LT Storage = 787.2792795442602
  Node [2228;3696]: Solar = 99.4517522630577, Battery Storage = 596.7105135783462, LT Storage = 497.2587613152885
  Node [2255;3670]: Solar = 778.1295414844202, Battery Storage = 4668.777248906521, LT Storage = 3890.647707422101
  Node [2275;3705]: Solar = 89.13513169143611, Battery Storage = 534.8107901486167, LT Storage = 445.6756584571806
  Node [2331;3100]: Solar = 347.16100460272725, Battery Storage = 2082.9660276163636, LT Storage = 1735.8050230136362
  Node [2444;3141]: Solar = 147.92927521328085, Battery Storage = 887.5756512796851, LT Storage = 739.6463760664042
  Node [1902;3340]: Solar = 291.36688807746515, Battery Storage = 1748.201328464791, LT Storage = 1456.8344403873257
  Node [2173;3425]: Solar = 165.17531426208942, Battery Storage = 991.0518855725365, LT Storage = 825.876571310447
  Node [2228;3258]: Solar = 168.25660086928315, Battery Storage = 1009.5396052156989, LT Storage = 841.2830043464157
  Node [2302;3629]: Solar = 214.3756744140434, Battery Storage = 1286.2540464842605, LT Storage = 1071.878372070217
  Node [2271;3504]: Solar = 135.92799716153408, Battery Storage = 815.5679829692044, LT Storage = 679.6399858076704
  Node [2273;3514]: Solar = 241.4350856201905, Battery Storage = 1448.610513721143, LT Storage = 1207.1754281009526
  Node [2041;3378]: Solar = 472.8487650873909, Battery Storage = 2837.0925905243457, LT Storage = 2364.2438254369545
  Node [2124;3497]: Solar = 145.13474788801938, Battery Storage = 870.8084873281163, LT Storage = 725.6737394400968
  Node [2560;3580]: Solar = 294.7255372275775, Battery Storage = 1768.353223365465, LT Storage = 1473.6276861378874
  Node [2233;3327]: Solar = 114.35651293587652, Battery Storage = 686.1390776152591, LT Storage = 571.7825646793826
  Node [1387;4340]: Solar = 73.9861811153611, Battery Storage = 443.91708669216666, LT Storage = 369.9309055768055
  Node [1494;4289]: Solar = 29.61484621863739, Battery Storage = 177.68907731182435, LT Storage = 148.07423109318694
  Node [1576;4241]: Solar = 50.33855188219571, Battery Storage = 302.03131129317427, LT Storage = 251.69275941097854
  Node [1657;4405]: Solar = 26.962037657656545, Battery Storage = 161.77222594593928, LT Storage = 134.81018828828272
  Node [1568;4225]: Solar = 26.345742058432247, Battery Storage = 158.07445235059348, LT Storage = 131.72871029216122
  Node [1735;4074]: Solar = 74.21255757677665, Battery Storage = 445.2753454606599, LT Storage = 371.06278788388323
  Node [1791;4194]: Solar = 45.62939801899145, Battery Storage = 273.7763881139487, LT Storage = 228.14699009495726
  Node [1797;4255]: Solar = 97.5218064413672, Battery Storage = 585.1308386482033, LT Storage = 487.609032206836
  Node [1790;4138]: Solar = 29.57403439397918, Battery Storage = 177.44420636387508, LT Storage = 147.8701719698959
  Node [1812;4279]: Solar = 59.40046333904803, Battery Storage = 356.4027800342882, LT Storage = 297.00231669524015
  Node [1852;4282]: Solar = 50.46726899390347, Battery Storage = 302.8036139634208, LT Storage = 252.33634496951734
  Node [1693;4135]: Solar = 53.168477467343195, Battery Storage = 319.01086480405917, LT Storage = 265.842387336716
  Node [1691;4205]: Solar = 88.82464484755553, Battery Storage = 532.9478690853332, LT Storage = 444.12322423777766
  Node [1697;4277]: Solar = 63.183448445832205, Battery Storage = 379.10069067499325, LT Storage = 315.91724222916105
  Node [1771;4280]: Solar = 89.20644555376555, Battery Storage = 535.2386733225933, LT Storage = 446.03222776882774
  Node [1792;4319]: Solar = 49.2642571204609, Battery Storage = 295.58554272276535, LT Storage = 246.3212856023045
  Node [1799;4344]: Solar = 134.86754233827554, Battery Storage = 809.2052540296532, LT Storage = 674.3377116913778
  Node [1817;4349]: Solar = 84.60274918321699, Battery Storage = 507.6164950993019, LT Storage = 423.01374591608493
  Node [1716;4338]: Solar = 39.18477082320856, Battery Storage = 235.10862493925134, LT Storage = 195.9238541160428
  Node [1693;4406]: Solar = 39.69048844502346, Battery Storage = 238.14293067014077, LT Storage = 198.4524422251173
  Node [2472;3101]: Solar = 35.59972033662257, Battery Storage = 213.5983220197354, LT Storage = 177.99860168311284
  Node [2480;3087]: Solar = 32.04688319479675, Battery Storage = 192.2812991687805, LT Storage = 160.23441597398374
  Node [2464;3112]: Solar = 30.47439049173406, Battery Storage = 182.84634295040436, LT Storage = 152.3719524586703
  Node [2473;3091]: Solar = 24.854116110245208, Battery Storage = 149.12469666147126, LT Storage = 124.27058055122603
  Node [2462;3102]: Solar = 42.26418799821326, Battery Storage = 253.58512798927956, LT Storage = 211.3209399910663
  Node [2455;3109]: Solar = 35.61018186845242, Battery Storage = 213.66109121071452, LT Storage = 178.05090934226212
  Node [2423;3096]: Solar = 35.682939913574984, Battery Storage = 214.0976394814499, LT Storage = 178.41469956787492
  Node [2447;3098]: Solar = 35.41681927889477, Battery Storage = 212.50091567336864, LT Storage = 177.08409639447385
  Node [2435;3104]: Solar = 26.09539065944329, Battery Storage = 156.57234395665972, LT Storage = 130.47695329721645
  Node [2471;3082]: Solar = 43.32889580593637, Battery Storage = 259.9733748356182, LT Storage = 216.64447902968186
  Node [2464;3085]: Solar = 33.332195259462345, Battery Storage = 199.9931715567741, LT Storage = 166.66097629731172
  Node [2069;3675]: Solar = 51.57297272406639, Battery Storage = 309.4378363443983, LT Storage = 257.86486362033196
  Node [2078;3663]: Solar = 97.3238756834756, Battery Storage = 583.9432541008537, LT Storage = 486.619378417378
  Node [2322;3773]: Solar = 95.80586951687177, Battery Storage = 574.8352171012306, LT Storage = 479.02934758435885
  Node [2334;3815]: Solar = 103.22201037645338, Battery Storage = 619.3320622587203, LT Storage = 516.1100518822669
  Node [2320;3827]: Solar = 109.26439002554926, Battery Storage = 655.5863401532956, LT Storage = 546.3219501277463
  Node [2345;3862]: Solar = 114.88567166394294, Battery Storage = 689.3140299836576, LT Storage = 574.4283583197147
  Node [2332;3946]: Solar = 96.08220106284546, Battery Storage = 576.4932063770727, LT Storage = 480.4110053142273
  Node [2299;3735]: Solar = 111.293484107843, Battery Storage = 667.7609046470579, LT Storage = 556.467420539215
  Node [2049;3700]: Solar = 107.05707228617204, Battery Storage = 642.3424337170322, LT Storage = 535.2853614308602
  Node [2203;3742]: Solar = 132.06432357144698, Battery Storage = 792.3859414286819, LT Storage = 660.3216178572349
  Node [2233;3789]: Solar = 94.8257669887513, Battery Storage = 568.9546019325078, LT Storage = 474.1288349437565
  Node [2113;3726]: Solar = 115.4217310576017, Battery Storage = 692.5303863456102, LT Storage = 577.1086552880085
  Node [2252;3799]: Solar = 82.05938451574204, Battery Storage = 492.35630709445223, LT Storage = 410.2969225787102
  Node [2268;3813]: Solar = 110.33117305929817, Battery Storage = 661.987038355789, LT Storage = 551.6558652964908
  Node [2275;3871]: Solar = 213.2413964055403, Battery Storage = 1279.448378433242, LT Storage = 1066.2069820277015
  Node [2221;3915]: Solar = 182.63787003418432, Battery Storage = 1095.827220205106, LT Storage = 913.1893501709216
  Node [2150;3837]: Solar = 146.05505261786692, Battery Storage = 876.3303157072015, LT Storage = 730.2752630893347
  Node [2137;3854]: Solar = 245.19250623485576, Battery Storage = 1471.1550374091346, LT Storage = 1225.9625311742789
  Node [2154;3849]: Solar = 93.08047350415734, Battery Storage = 558.482841024944, LT Storage = 465.4023675207867
  Node [2056;3837]: Solar = 188.2562589131026, Battery Storage = 1129.5375534786158, LT Storage = 941.281294565513
  Node [2055;3897]: Solar = 118.80872795939074, Battery Storage = 712.8523677563444, LT Storage = 594.0436397969537
  Node [2044;3917]: Solar = 166.80329987922224, Battery Storage = 1000.8197992753335, LT Storage = 834.0164993961112
  Node [1954;3778]: Solar = 121.78142341372302, Battery Storage = 730.6885404823381, LT Storage = 608.9071170686151
  Node [2020;3673]: Solar = 46.25372096183636, Battery Storage = 277.52232577101813, LT Storage = 231.2686048091818
  Node [2035;3677]: Solar = 139.33844474325306, Battery Storage = 836.0306684595184, LT Storage = 696.6922237162653
  Node [1989;3687]: Solar = 93.18151251696736, Battery Storage = 559.0890751018042, LT Storage = 465.9075625848368
  Node [1913;3928]: Solar = 219.69867199574696, Battery Storage = 1318.1920319744818, LT Storage = 1098.4933599787348
  Node [2368;4159]: Solar = 87.12298037338597, Battery Storage = 522.7378822403158, LT Storage = 435.61490186692987
  Node [2370;4167]: Solar = 77.6875851259513, Battery Storage = 466.1255107557078, LT Storage = 388.4379256297565
  Node [2246;4026]: Solar = 28.255911326120657, Battery Storage = 169.53546795672395, LT Storage = 141.27955663060328
  Node [2276;3990]: Solar = 71.41143365219837, Battery Storage = 428.46860191319024, LT Storage = 357.05716826099183
  Node [2228;4046]: Solar = 105.99907170554118, Battery Storage = 635.9944302332472, LT Storage = 529.9953585277059
  Node [2240;4030]: Solar = 52.69567835876673, Battery Storage = 316.1740701526004, LT Storage = 263.4783917938336
  Node [2302;4017]: Solar = 87.12962829808511, Battery Storage = 522.7777697885107, LT Storage = 435.64814149042553
  Node [2305;4031]: Solar = 23.02910107642497, Battery Storage = 138.17460645854982, LT Storage = 115.14550538212484
  Node [2334;4051]: Solar = 94.0567148884665, Battery Storage = 564.340289330799, LT Storage = 470.2835744423325
  Node [2254;4032]: Solar = 57.77077660910929, Battery Storage = 346.6246596546557, LT Storage = 288.85388304554647
  Node [2169;3959]: Solar = 175.57067600203533, Battery Storage = 1053.424056012212, LT Storage = 877.8533800101766
  Node [2187;4032]: Solar = 300.93762062208, Battery Storage = 1805.6257237324799, LT Storage = 1504.6881031103999
  Node [2206;4023]: Solar = 102.62760231330604, Battery Storage = 615.7656138798362, LT Storage = 513.1380115665302
  Node [2199;4035]: Solar = 133.13774885404388, Battery Storage = 798.8264931242633, LT Storage = 665.6887442702193
  Node [2225;4145]: Solar = 144.63890899416413, Battery Storage = 867.8334539649848, LT Storage = 723.1945449708206
  Node [2288;4103]: Solar = 81.6746081717432, Battery Storage = 490.0476490304592, LT Storage = 408.373040858716
  Node [2284;4121]: Solar = 132.53536773641264, Battery Storage = 795.2122064184758, LT Storage = 662.6768386820631
  Node [2294;4116]: Solar = 74.9193282945249, Battery Storage = 449.5159697671494, LT Storage = 374.5966414726245
  Node [2131;4116]: Solar = 141.91240034529608, Battery Storage = 851.4744020717765, LT Storage = 709.5620017264804
  Node [2131;4124]: Solar = 321.21701920538135, Battery Storage = 1927.302115232288, LT Storage = 1606.0850960269067
  Node [2121;4142]: Solar = 280.71055026980736, Battery Storage = 1684.2633016188443, LT Storage = 1403.5527513490367
  Node [2378;4170]: Solar = 92.48026496232796, Battery Storage = 554.8815897739678, LT Storage = 462.4013248116398
  Node [2401;4234]: Solar = 138.18877397463018, Battery Storage = 829.1326438477811, LT Storage = 690.9438698731509
  Node [2345;4229]: Solar = 127.84968456105788, Battery Storage = 767.0981073663473, LT Storage = 639.2484228052895
  Node [2310;4202]: Solar = 72.61486198877392, Battery Storage = 435.68917193264355, LT Storage = 363.0743099438696
  Node [2364;4232]: Solar = 137.8827207843121, Battery Storage = 827.2963247058726, LT Storage = 689.4136039215606
  Node [2225;4255]: Solar = 116.9876635359012, Battery Storage = 701.9259812154072, LT Storage = 584.938317679506
  Node [2262;4314]: Solar = 74.64421679826356, Battery Storage = 447.86530078958134, LT Storage = 373.22108399131776
  Node [2272;4314]: Solar = 85.22008012754412, Battery Storage = 511.32048076526473, LT Storage = 426.1004006377206
  Node [2208;4212]: Solar = 90.79886850774776, Battery Storage = 544.7932110464865, LT Storage = 453.9943425387388
  Node [2216;4316]: Solar = 93.80876625186455, Battery Storage = 562.8525975111874, LT Storage = 469.04383125932276
  Node [1959;4072]: Solar = 222.98621952735544, Battery Storage = 1337.9173171641328, LT Storage = 1114.9310976367772
  Node [2095;3985]: Solar = 113.32979246464338, Battery Storage = 679.9787547878602, LT Storage = 566.6489623232169
  Node [2057;3950]: Solar = 157.6512841247371, Battery Storage = 945.9077047484225, LT Storage = 788.2564206236855
  Node [2008;3960]: Solar = 130.95533035860595, Battery Storage = 785.7319821516357, LT Storage = 654.7766517930297
  Node [2090;4034]: Solar = 111.999732696517, Battery Storage = 671.998396179102, LT Storage = 559.998663482585
  Node [1921;3943]: Solar = 167.48289705587985, Battery Storage = 1004.8973823352791, LT Storage = 837.4144852793993
  Node [1956;4054]: Solar = 127.46512330663202, Battery Storage = 764.7907398397922, LT Storage = 637.3256165331601
  Node [2308;4024]: Solar = 29.384910927958973, Battery Storage = 176.30946556775385, LT Storage = 146.92455463979488
  Node [2313;4018]: Solar = 61.33465633571244, Battery Storage = 368.0079380142746, LT Storage = 306.6732816785622
  Node [2355;4039]: Solar = 64.71250942643256, Battery Storage = 388.27505655859534, LT Storage = 323.5625471321628
  Node [2378;4044]: Solar = 54.75923634064469, Battery Storage = 328.55541804386814, LT Storage = 273.79618170322345
  Node [2409;4046]: Solar = 102.0649145281283, Battery Storage = 612.3894871687698, LT Storage = 510.32457264064146
  Node [2358;4049]: Solar = 55.27800680391507, Battery Storage = 331.6680408234904, LT Storage = 276.39003401957535
  Node [2304;3863]: Solar = 76.43400856357496, Battery Storage = 458.6040513814498, LT Storage = 382.1700428178748
  Node [1909;3826]: Solar = 178.3290398041711, Battery Storage = 1069.9742388250265, LT Storage = 891.6451990208554
  Node [1876;3900]: Solar = 313.5771935606, Battery Storage = 1881.4631613636, LT Storage = 1567.8859678029999
  Node [1963;3813]: Solar = 72.57087094985071, Battery Storage = 435.4252256991043, LT Storage = 362.85435474925356
  Node [1920;4202]: Solar = 96.11731133956174, Battery Storage = 576.7038680373704, LT Storage = 480.5865566978087
  Node [2028;4154]: Solar = 120.74870441430868, Battery Storage = 724.492226485852, LT Storage = 603.7435220715433
  Node [2137;3937]: Solar = 285.5435007790347, Battery Storage = 1713.261004674208, LT Storage = 1427.7175038951734
  Node [2150;3941]: Solar = 63.76721776548107, Battery Storage = 382.60330659288644, LT Storage = 318.8360888274054
  Node [2136;4078]: Solar = 72.3051525528452, Battery Storage = 433.83091531707123, LT Storage = 361.525762764226
  Node [2186;4175]: Solar = 92.79885829803672, Battery Storage = 556.7931497882203, LT Storage = 463.9942914901836
  Node [2320;4178]: Solar = 94.6974290551992, Battery Storage = 568.1845743311951, LT Storage = 473.487145275996
  Node [2271;4178]: Solar = 110.61769045515445, Battery Storage = 663.7061427309267, LT Storage = 553.0884522757722
  Node [2350;4028]: Solar = 79.77878659822473, Battery Storage = 478.6727195893484, LT Storage = 398.8939329911236
  Node [2361;3972]: Solar = 63.926495842241344, Battery Storage = 383.5589750534481, LT Storage = 319.6324792112067
  Node [2366;4054]: Solar = 60.383042628713106, Battery Storage = 362.29825577227865, LT Storage = 301.91521314356555
  Node [2387;4083]: Solar = 158.61310456938827, Battery Storage = 951.6786274163296, LT Storage = 793.0655228469413
  Node [2595;3898]: Solar = 30.80801172018201, Battery Storage = 184.84807032109205, LT Storage = 154.04005860091004
  Node [2618;3911]: Solar = 37.95697661149392, Battery Storage = 227.7418596689635, LT Storage = 189.7848830574696
  Node [2589;3944]: Solar = 20.655695916981887, Battery Storage = 123.93417550189133, LT Storage = 103.27847958490943
  Node [2548;3997]: Solar = 21.573579570270493, Battery Storage = 129.44147742162295, LT Storage = 107.86789785135247
  Node [2561;4114]: Solar = 21.37931408801251, Battery Storage = 128.27588452807507, LT Storage = 106.89657044006255
  Node [2481;4017]: Solar = 25.927672122870067, Battery Storage = 155.5660327372204, LT Storage = 129.63836061435035
  Node [2538;3948]: Solar = 23.96517993132529, Battery Storage = 143.79107958795174, LT Storage = 119.82589965662646
  Node [2494;4139]: Solar = 23.896009744910796, Battery Storage = 143.37605846946477, LT Storage = 119.48004872455398
  Node [2481;4195]: Solar = 26.507276754954383, Battery Storage = 159.0436605297263, LT Storage = 132.5363837747719
  Node [1388;3548]: Solar = 51.0078394792944, Battery Storage = 306.04703687576637, LT Storage = 255.039197396472
  Node [1504;3513]: Solar = 59.09668351529905, Battery Storage = 354.5801010917943, LT Storage = 295.48341757649524
  Node [1542;3511]: Solar = 42.50414954054531, Battery Storage = 255.02489724327188, LT Storage = 212.52074770272657
  Node [1569;3495]: Solar = 98.30729835778772, Battery Storage = 589.8437901467263, LT Storage = 491.5364917889386
  Node [1558;3522]: Solar = 44.18466279664974, Battery Storage = 265.1079767798984, LT Storage = 220.9233139832487
  Node [1471;3604]: Solar = 52.703932355738154, Battery Storage = 316.22359413442894, LT Storage = 263.51966177869076
  Node [1586;3503]: Solar = 41.87239923490519, Battery Storage = 251.23439540943113, LT Storage = 209.36199617452593
  Node [1588;3532]: Solar = 38.94502875226334, Battery Storage = 233.67017251358004, LT Storage = 194.7251437613167
  Node [1613;3513]: Solar = 38.95119388649597, Battery Storage = 233.70716331897583, LT Storage = 194.75596943247984
  Node [1586;3583]: Solar = 39.43723033437985, Battery Storage = 236.6233820062791, LT Storage = 197.18615167189924
  Node [1564;3629]: Solar = 47.48198380624641, Battery Storage = 284.8919028374785, LT Storage = 237.40991903123205
  Node [1398;3675]: Solar = 51.9982501273998, Battery Storage = 311.9895007643988, LT Storage = 259.991250636999
  Node [1467;3618]: Solar = 28.181832264861125, Battery Storage = 169.09099358916674, LT Storage = 140.90916132430561
  Node [1366;3675]: Solar = 34.07156906047611, Battery Storage = 204.42941436285665, LT Storage = 170.35784530238055
  Node [1383;3791]: Solar = 48.53004124115197, Battery Storage = 291.18024744691184, LT Storage = 242.65020620575984
  Node [1413;3762]: Solar = 42.89133773601962, Battery Storage = 257.3480264161177, LT Storage = 214.45668868009813
  Node [1447;3729]: Solar = 30.76128253834389, Battery Storage = 184.56769523006335, LT Storage = 153.80641269171946
  Node [1470;3734]: Solar = 52.48289804113523, Battery Storage = 314.8973882468114, LT Storage = 262.41449020567615
  Node [1261;3665]: Solar = 37.16053216068805, Battery Storage = 222.9631929641283, LT Storage = 185.80266080344023
  Node [1261;3679]: Solar = 40.671292214717205, Battery Storage = 244.02775328830324, LT Storage = 203.35646107358602
  Node [1300;3679]: Solar = 31.540297279847408, Battery Storage = 189.24178367908445, LT Storage = 157.70148639923704
  Node [1319;3765]: Solar = 26.249201485225857, Battery Storage = 157.49520891135515, LT Storage = 131.2460074261293
  Node [1340;3755]: Solar = 39.3300613700597, Battery Storage = 235.98036822035823, LT Storage = 196.6503068502985
  Node [1359;3717]: Solar = 29.20936682042015, Battery Storage = 175.25620092252092, LT Storage = 146.04683410210075
  Node [1497;3683]: Solar = 65.1316390674501, Battery Storage = 390.78983440470057, LT Storage = 325.6581953372505
  Node [916;3792]: Solar = 34.26114822105295, Battery Storage = 205.5668893263177, LT Storage = 171.30574110526476
  Node [849;3873]: Solar = 54.37296806332656, Battery Storage = 326.23780837995935, LT Storage = 271.8648403166328
  Node [946;3741]: Solar = 22.812480282022985, Battery Storage = 136.8748816921379, LT Storage = 114.06240141011493
  Node [1106;3713]: Solar = 27.011565570242286, Battery Storage = 162.06939342145373, LT Storage = 135.05782785121144
  Node [1145;3723]: Solar = 26.78805494301965, Battery Storage = 160.7283296581179, LT Storage = 133.94027471509824
  Node [1167;3765]: Solar = 21.13468888285184, Battery Storage = 126.80813329711104, LT Storage = 105.6734444142592
  Node [1220;3771]: Solar = 35.225328128263776, Battery Storage = 211.35196876958264, LT Storage = 176.1266406413189
  Node [1251;3779]: Solar = 22.20577462130867, Battery Storage = 133.234647727852, LT Storage = 111.02887310654336
  Node [1281;3858]: Solar = 52.68844834139055, Battery Storage = 316.1306900483433, LT Storage = 263.44224170695276
  Node [1306;3862]: Solar = 52.213590372434375, Battery Storage = 313.28154223460626, LT Storage = 261.06795186217187
  Node [1301;3812]: Solar = 47.54651963287608, Battery Storage = 285.27911779725645, LT Storage = 237.7325981643804
  Node [1280;3869]: Solar = 22.638722576267345, Battery Storage = 135.83233545760407, LT Storage = 113.19361288133672
  Node [1393;3833]: Solar = 39.85083078515921, Battery Storage = 239.10498471095525, LT Storage = 199.25415392579606
  Node [1380;3822]: Solar = 64.99509325531784, Battery Storage = 389.97055953190704, LT Storage = 324.9754662765892
  Node [1328;3791]: Solar = 30.25023394379292, Battery Storage = 181.50140366275753, LT Storage = 151.2511697189646
  Node [1383;3842]: Solar = 60.73752984366936, Battery Storage = 364.4251790620161, LT Storage = 303.6876492183468
  Node [1393;3844]: Solar = 28.52114316911322, Battery Storage = 171.12685901467933, LT Storage = 142.6057158455661
  Node [1664;3648]: Solar = 50.339975907103394, Battery Storage = 302.03985544262036, LT Storage = 251.69987953551697
  Node [1716;3673]: Solar = 25.290535793115552, Battery Storage = 151.7432147586933, LT Storage = 126.45267896557776
  Node [1677;3719]: Solar = 45.86774949926921, Battery Storage = 275.2064969956152, LT Storage = 229.33874749634606
  Node [1782;3565]: Solar = 30.29301937300609, Battery Storage = 181.75811623803654, LT Storage = 151.46509686503043
  Node [1787;3576]: Solar = 43.280552795140665, Battery Storage = 259.683316770844, LT Storage = 216.40276397570332
  Node [1805;3580]: Solar = 92.14236855528964, Battery Storage = 552.8542113317378, LT Storage = 460.7118427764482
  Node [1751;3561]: Solar = 29.486435105757447, Battery Storage = 176.91861063454468, LT Storage = 147.43217552878724
  Node [1741;3564]: Solar = 48.847350702831726, Battery Storage = 293.08410421699034, LT Storage = 244.23675351415864
  Node [1673;3562]: Solar = 41.64038671638726, Battery Storage = 249.84232029832356, LT Storage = 208.20193358193632
  Node [1367;3839]: Solar = 123.34475190334052, Battery Storage = 740.0685114200431, LT Storage = 616.7237595167026
  Node [1350;3840]: Solar = 66.17774193240203, Battery Storage = 397.0664515944122, LT Storage = 330.8887096620101
  Node [1347;3854]: Solar = 63.12439607073826, Battery Storage = 378.7463764244295, LT Storage = 315.6219803536913
  Node [1654;3565]: Solar = 23.56235675848921, Battery Storage = 141.37414055093524, LT Storage = 117.81178379244605
  Node [1024;3765]: Solar = 31.64066714215755, Battery Storage = 189.8440028529453, LT Storage = 158.20333571078774
  Node [1036;3760]: Solar = 34.83669378742002, Battery Storage = 209.0201627245201, LT Storage = 174.1834689371001
  Node [1733;3679]: Solar = 59.19628607492307, Battery Storage = 355.1777164495384, LT Storage = 295.98143037461534
  Node [1584;3778]: Solar = 42.00913919738002, Battery Storage = 252.05483518428014, LT Storage = 210.0456959869001
  Node [3070;4528]: Solar = 47.58219286673515, Battery Storage = 285.4931572004109, LT Storage = 237.91096433367574
  Node [3063;4458]: Solar = 57.67742767458896, Battery Storage = 346.0645660475338, LT Storage = 288.38713837294483
  Node [3131;4693]: Solar = 29.5128633084177, Battery Storage = 177.07717985050618, LT Storage = 147.5643165420885
  Node [3138;4660]: Solar = 53.13954046237013, Battery Storage = 318.8372427742208, LT Storage = 265.69770231185066
  Node [3041;4634]: Solar = 53.30523352642288, Battery Storage = 319.8314011585373, LT Storage = 266.5261676321144
  Node [2998;4780]: Solar = 52.83231350912714, Battery Storage = 316.9938810547628, LT Storage = 264.1615675456357
  Node [3004;4796]: Solar = 64.76987333945915, Battery Storage = 388.61924003675495, LT Storage = 323.84936669729575
  Node [3025;4734]: Solar = 74.04527771465742, Battery Storage = 444.2716662879445, LT Storage = 370.22638857328707
  Node [3090;4794]: Solar = 131.3762530261421, Battery Storage = 788.2575181568527, LT Storage = 656.8812651307105
  Node [3024;4809]: Solar = 92.77555415875696, Battery Storage = 556.6533249525418, LT Storage = 463.8777707937848
  Node [2986;4653]: Solar = 67.38550579523977, Battery Storage = 404.3130347714386, LT Storage = 336.9275289761988
  Node [3093;4634]: Solar = 47.81254395426007, Battery Storage = 286.87526372556044, LT Storage = 239.06271977130035
  Node [3145;4680]: Solar = 23.186705365452458, Battery Storage = 139.12023219271475, LT Storage = 115.93352682726228
  Node [3165;4447]: Solar = 42.41063298588352, Battery Storage = 254.4637979153011, LT Storage = 212.0531649294176
  Node [3185;4535]: Solar = 27.938105470157968, Battery Storage = 167.62863282094781, LT Storage = 139.69052735078984
  Node [3177;4557]: Solar = 55.110385241153395, Battery Storage = 330.6623114469204, LT Storage = 275.55192620576696
  Node [3197;4534]: Solar = 31.35378829147732, Battery Storage = 188.12272974886392, LT Storage = 156.7689414573866
  Node [3200;4546]: Solar = 22.468771907934777, Battery Storage = 134.81263144760865, LT Storage = 112.34385953967389
  Node [3135;4458]: Solar = 69.0844173583736, Battery Storage = 414.5065041502416, LT Storage = 345.42208679186797
  Node [3158;4459]: Solar = 99.33830539891484, Battery Storage = 596.0298323934891, LT Storage = 496.6915269945742
  Node [3128;4446]: Solar = 26.023684037617496, Battery Storage = 156.14210422570497, LT Storage = 130.11842018808747
  Node [3127;4477]: Solar = 41.77552572034276, Battery Storage = 250.6531543220566, LT Storage = 208.8776286017138
  Node [3129;4496]: Solar = 33.10323472409734, Battery Storage = 198.61940834458403, LT Storage = 165.5161736204867
  Node [3161;4515]: Solar = 26.691273976598296, Battery Storage = 160.14764385958978, LT Storage = 133.45636988299148
  Node [3134;4480]: Solar = 52.98605303218878, Battery Storage = 317.91631819313267, LT Storage = 264.9302651609439
  Node [3139;4494]: Solar = 27.90391595494241, Battery Storage = 167.42349572965446, LT Storage = 139.51957977471204
  Node [3173;4512]: Solar = 34.244085187707185, Battery Storage = 205.4645111262431, LT Storage = 171.22042593853593
  Node [3146;4478]: Solar = 143.300592985932, Battery Storage = 859.8035579155921, LT Storage = 716.50296492966
  Node [3180;4464]: Solar = 37.11340370965287, Battery Storage = 222.68042225791723, LT Storage = 185.56701854826434
  Node [2835;4258]: Solar = 26.392746178108084, Battery Storage = 158.3564770686485, LT Storage = 131.96373089054043
  Node [2787;4257]: Solar = 20.026073045898222, Battery Storage = 120.15643827538933, LT Storage = 100.1303652294911
  Node [2850;4639]: Solar = 27.707241994817903, Battery Storage = 166.2434519689074, LT Storage = 138.5362099740895
  Node [2902;4656]: Solar = 59.53269132768688, Battery Storage = 357.19614796612126, LT Storage = 297.66345663843435
  Node [2787;4476]: Solar = 25.0318101649412, Battery Storage = 150.1908609896472, LT Storage = 125.15905082470599
  Node [2707;4480]: Solar = 26.8864131731095, Battery Storage = 161.318479038657, LT Storage = 134.4320658655475
  Node [2668;4568]: Solar = 23.188540288568273, Battery Storage = 139.13124173140963, LT Storage = 115.94270144284137
  Node [2775;4585]: Solar = 31.12965135798754, Battery Storage = 186.77790814792525, LT Storage = 155.6482567899377
  Node [2785;4588]: Solar = 29.21570435406137, Battery Storage = 175.2942261243682, LT Storage = 146.07852177030685
  Node [2550;4594]: Solar = 41.94761660165464, Battery Storage = 251.68569960992784, LT Storage = 209.73808300827318
  Node [2581;4691]: Solar = 27.908843391025968, Battery Storage = 167.4530603461558, LT Storage = 139.54421695512985
  Node [2613;4649]: Solar = 26.886035625431138, Battery Storage = 161.31621375258683, LT Storage = 134.4301781271557
  Node [2654;4673]: Solar = 23.40708350622692, Battery Storage = 140.44250103736152, LT Storage = 117.03541753113458
  Node [2995;4571]: Solar = 20.577945541356694, Battery Storage = 123.46767324814016, LT Storage = 102.88972770678348
  Node [2812;4698]: Solar = 32.23713324277795, Battery Storage = 193.4227994566677, LT Storage = 161.18566621388976
  Node [2908;4752]: Solar = 25.27847379977092, Battery Storage = 151.67084279862553, LT Storage = 126.39236899885461
  Node [2842;4782]: Solar = 30.57065134518399, Battery Storage = 183.42390807110394, LT Storage = 152.85325672591995
  Node [2750;4763]: Solar = 23.37690708109953, Battery Storage = 140.2614424865972, LT Storage = 116.88453540549766
  Node [2698;4668]: Solar = 23.238144256268207, Battery Storage = 139.42886553760923, LT Storage = 116.19072128134104
  Node [2706;4513]: Solar = 23.98663970032063, Battery Storage = 143.91983820192377, LT Storage = 119.93319850160316
  Node [2692;4682]: Solar = 20.736633172739428, Battery Storage = 124.41979903643656, LT Storage = 103.68316586369714
  Node [2788;4767]: Solar = 25.376162116077655, Battery Storage = 152.25697269646594, LT Storage = 126.88081058038827
  Node [2914;4662]: Solar = 37.869951991397784, Battery Storage = 227.2197119483867, LT Storage = 189.34975995698892
  Node [2921;4648]: Solar = 54.10381347928614, Battery Storage = 324.6228808757168, LT Storage = 270.51906739643067
  Node [2881;4540]: Solar = 29.609033589803488, Battery Storage = 177.65420153882093, LT Storage = 148.04516794901744
  Node [3024;4473]: Solar = 33.49638516510322, Battery Storage = 200.97831099061932, LT Storage = 167.4819258255161
  Node [2954;4470]: Solar = 21.19384011837255, Battery Storage = 127.1630407102353, LT Storage = 105.96920059186274
  Node [2681;4433]: Solar = 27.298435178574312, Battery Storage = 163.79061107144588, LT Storage = 136.49217589287156
  Node [2687;4416]: Solar = 27.601561750457236, Battery Storage = 165.60937050274342, LT Storage = 138.00780875228617
  Node [2591;4336]: Solar = 27.492675131688753, Battery Storage = 164.9560507901325, LT Storage = 137.46337565844377
  Node [2684;4289]: Solar = 30.063198216255, Battery Storage = 180.37918929753, LT Storage = 150.315991081275
  Node [2593;4400]: Solar = 28.94863150008093, Battery Storage = 173.69178900048558, LT Storage = 144.74315750040464
  Node [2748;3362]: Solar = 53.38278315529728, Battery Storage = 320.2966989317837, LT Storage = 266.9139157764864
  Node [2766;3381]: Solar = 30.809602130004155, Battery Storage = 184.85761278002494, LT Storage = 154.04801065002079
  Node [2732;3350]: Solar = 65.6121792559285, Battery Storage = 393.673075535571, LT Storage = 328.06089627964246
  Node [2716;3356]: Solar = 98.19062380152856, Battery Storage = 589.1437428091714, LT Storage = 490.9531190076428
  Node [2737;3447]: Solar = 58.79909753704479, Battery Storage = 352.7945852222687, LT Storage = 293.9954876852239
  Node [2747;3454]: Solar = 34.328804648244144, Battery Storage = 205.97282788946487, LT Storage = 171.64402324122074
  Node [2734;3434]: Solar = 53.89050862024541, Battery Storage = 323.3430517214725, LT Storage = 269.4525431012271
  Node [2760;3424]: Solar = 37.423443899578025, Battery Storage = 224.54066339746817, LT Storage = 187.11721949789012
  Node [2725;3518]: Solar = 52.07603883126186, Battery Storage = 312.4562329875712, LT Storage = 260.3801941563093
  Node [2741;3508]: Solar = 24.755999055087045, Battery Storage = 148.53599433052227, LT Storage = 123.77999527543523
  Node [2754;3500]: Solar = 70.79162738205503, Battery Storage = 424.74976429233016, LT Storage = 353.95813691027513
  Node [2747;3521]: Solar = 71.34490075548707, Battery Storage = 428.0694045329225, LT Storage = 356.72450377743536
  Node [2710;3514]: Solar = 52.556007988832974, Battery Storage = 315.3360479329979, LT Storage = 262.78003994416486
  Node [2725;3488]: Solar = 63.128499406584744, Battery Storage = 378.77099643950845, LT Storage = 315.6424970329237
  Node [2698;3528]: Solar = 115.09775996963867, Battery Storage = 690.586559817832, LT Storage = 575.4887998481934
  Node [2721;3580]: Solar = 65.53749239511926, Battery Storage = 393.2249543707155, LT Storage = 327.6874619755963
  Node [2733;3591]: Solar = 77.32443871169107, Battery Storage = 463.94663227014644, LT Storage = 386.62219355845536
  Node [2619;3608]: Solar = 59.737733689509525, Battery Storage = 358.42640213705715, LT Storage = 298.6886684475476
  Node [2611;3596]: Solar = 89.38113858222557, Battery Storage = 536.2868314933535, LT Storage = 446.90569291112786
  Node [2772;3641]: Solar = 76.682575511602, Battery Storage = 460.09545306961195, LT Storage = 383.41287755801
  Node [2782;3584]: Solar = 72.00204128267453, Battery Storage = 432.01224769604715, LT Storage = 360.01020641337266
  Node [2692;3693]: Solar = 69.79226881629698, Battery Storage = 418.75361289778186, LT Storage = 348.9613440814849
  Node [2679;3698]: Solar = 37.16078046367544, Battery Storage = 222.96468278205262, LT Storage = 185.8039023183772
  Node [2666;3683]: Solar = 64.46364839591193, Battery Storage = 386.78189037547156, LT Storage = 322.3182419795597
  Node [2630;3705]: Solar = 124.57039267176106, Battery Storage = 747.4223560305663, LT Storage = 622.8519633588053
  Node [2596;3853]: Solar = 241.97063472005237, Battery Storage = 1451.8238083203141, LT Storage = 1209.853173600262
  Node [2596;3840]: Solar = 92.22250598747924, Battery Storage = 553.3350359248755, LT Storage = 461.1125299373962
  Node [2618;3851]: Solar = 308.8850466350468, Battery Storage = 1853.310279810281, LT Storage = 1544.425233175234
  Node [2716;3741]: Solar = 110.43356345530536, Battery Storage = 662.6013807318321, LT Storage = 552.1678172765268
  Node [2801;3725]: Solar = 89.1939021920766, Battery Storage = 535.1634131524596, LT Storage = 445.96951096038305
  Node [2626;3744]: Solar = 66.01209519637011, Battery Storage = 396.07257117822064, LT Storage = 330.0604759818506
  Node [2615;3747]: Solar = 55.345456664896126, Battery Storage = 332.07273998937677, LT Storage = 276.72728332448065
  Node [2764;3795]: Solar = 148.62199311819094, Battery Storage = 891.7319587091456, LT Storage = 743.1099655909547
  Node [2666;3826]: Solar = 121.7593592553742, Battery Storage = 730.5561555322453, LT Storage = 608.7967962768711
  Node [2604;3800]: Solar = 81.54194959006534, Battery Storage = 489.25169754039206, LT Storage = 407.7097479503267
  Node [2591;3798]: Solar = 96.3590432574746, Battery Storage = 578.1542595448476, LT Storage = 481.79521628737297
  Node [2713;3839]: Solar = 80.73965721297645, Battery Storage = 484.4379432778587, LT Storage = 403.69828606488227
  Node [2625;3782]: Solar = 69.61557187561314, Battery Storage = 417.69343125367885, LT Storage = 348.0778593780657
  Node [2590;3775]: Solar = 74.90690521198098, Battery Storage = 449.4414312718859, LT Storage = 374.5345260599049
  Node [2633;3684]: Solar = 111.75454316142256, Battery Storage = 670.5272589685353, LT Storage = 558.7727158071128
  Node [2636;3663]: Solar = 83.65688101298224, Battery Storage = 501.94128607789344, LT Storage = 418.2844050649112
  Node [2617;3874]: Solar = 89.32414535087526, Battery Storage = 535.9448721052515, LT Storage = 446.6207267543763
  Node [2729;3482]: Solar = 115.40441611543258, Battery Storage = 692.4264966925955, LT Storage = 577.0220805771629
  Node [2742;3816]: Solar = 131.47190413104258, Battery Storage = 788.8314247862554, LT Storage = 657.3595206552129
  Node [2309;2900]: Solar = 282.17678387968914, Battery Storage = 1693.060703278135, LT Storage = 1410.8839193984456
  Node [2326;2915]: Solar = 191.00689929545004, Battery Storage = 1146.0413957727003, LT Storage = 955.0344964772502
  Node [2282;3002]: Solar = 363.1649560360626, Battery Storage = 2178.9897362163756, LT Storage = 1815.8247801803132
  Node [2293;2996]: Solar = 298.9451717409543, Battery Storage = 1793.671030445726, LT Storage = 1494.7258587047716
  Node [2285;2971]: Solar = 204.1750477364636, Battery Storage = 1225.0502864187815, LT Storage = 1020.875238682318
  Node [2274;2975]: Solar = 151.4772727085377, Battery Storage = 908.8636362512261, LT Storage = 757.3863635426885
  Node [2463;3068]: Solar = 69.42327388626127, Battery Storage = 416.53964331756765, LT Storage = 347.11636943130634
  Node [2400;3080]: Solar = 64.46890592786035, Battery Storage = 386.81343556716206, LT Storage = 322.34452963930175
  Node [2416;3065]: Solar = 94.99384185035726, Battery Storage = 569.9630511021435, LT Storage = 474.9692092517863
  Node [2381;3083]: Solar = 55.05674845898847, Battery Storage = 330.34049075393085, LT Storage = 275.2837422949424
  Node [2384;3095]: Solar = 109.86441449533386, Battery Storage = 659.1864869720032, LT Storage = 549.3220724766693
  Node [2358;3050]: Solar = 111.06280642179956, Battery Storage = 666.3768385307974, LT Storage = 555.3140321089978
  Node [2371;3055]: Solar = 60.01193490130086, Battery Storage = 360.07160940780517, LT Storage = 300.0596745065043
  Node [2368;3039]: Solar = 97.86211064316448, Battery Storage = 587.1726638589869, LT Storage = 489.31055321582244
  Node [2391;3026]: Solar = 103.2060884695021, Battery Storage = 619.2365308170126, LT Storage = 516.0304423475105
  Node [2352;3035]: Solar = 194.6274999631027, Battery Storage = 1167.7649997786161, LT Storage = 973.1374998155136
  Node [2358;3073]: Solar = 119.50119218862274, Battery Storage = 717.0071531317365, LT Storage = 597.5059609431137
  Node [2370;3079]: Solar = 87.17256450201633, Battery Storage = 523.035387012098, LT Storage = 435.8628225100816
  Node [2299;3034]: Solar = 357.31055975170057, Battery Storage = 2143.8633585102034, LT Storage = 1786.5527987585028
  Node [2355;2974]: Solar = 133.4766812651208, Battery Storage = 800.8600875907248, LT Storage = 667.3834063256039
  Node [2362;2970]: Solar = 171.860007369335, Battery Storage = 1031.16004421601, LT Storage = 859.300036846675
  Node [2386;2978]: Solar = 133.5858616076454, Battery Storage = 801.5151696458724, LT Storage = 667.929308038227
  Node [2394;3059]: Solar = 83.19601384283762, Battery Storage = 499.1760830570257, LT Storage = 415.98006921418806
  Node [2446;3069]: Solar = 102.35409026965068, Battery Storage = 614.1245416179041, LT Storage = 511.7704513482534
  Node [2465;3053]: Solar = 69.66639348445355, Battery Storage = 417.9983609067213, LT Storage = 348.3319674222678
  Node [2469;3061]: Solar = 48.70369636432291, Battery Storage = 292.2221781859374, LT Storage = 243.51848182161456
  Node [2299;3078]: Solar = 319.9866226313137, Battery Storage = 1919.9197357878822, LT Storage = 1599.9331131565687
  Node [2358;3062]: Solar = 195.1525454712115, Battery Storage = 1170.915272827269, LT Storage = 975.7627273560576
  Node [3129;3918]: Solar = 25.913904782256616, Battery Storage = 155.48342869353968, LT Storage = 129.56952391128308
  Node [3045;3821]: Solar = 28.953786284188237, Battery Storage = 173.7227177051294, LT Storage = 144.7689314209412
  Node [2928;3727]: Solar = 20.85877979747889, Battery Storage = 125.15267878487333, LT Storage = 104.29389898739444
  Node [2889;3857]: Solar = 31.790982288115124, Battery Storage = 190.74589372869076, LT Storage = 158.95491144057561
  Node [2890;3830]: Solar = 22.30702254178138, Battery Storage = 133.84213525068827, LT Storage = 111.5351127089069
  Node [2870;3873]: Solar = 20.04415168963493, Battery Storage = 120.26491013780958, LT Storage = 100.22075844817465
  Node [3109;2522]: Solar = 69.42400099633639, Battery Storage = 416.54400597801833, LT Storage = 347.120004981682
  Node [3145;2611]: Solar = 41.01421760196557, Battery Storage = 246.08530561179342, LT Storage = 205.07108800982786
  Node [3138;2569]: Solar = 31.68258479538169, Battery Storage = 190.09550877229015, LT Storage = 158.41292397690844
  Node [3105;2675]: Solar = 34.48752936031038, Battery Storage = 206.92517616186228, LT Storage = 172.43764680155192
  Node [3114;2674]: Solar = 57.246265406237285, Battery Storage = 343.4775924374237, LT Storage = 286.2313270311864
  Node [2969;2519]: Solar = 202.1173687998808, Battery Storage = 1212.704212799285, LT Storage = 1010.586843999404
  Node [2975;2542]: Solar = 74.2087301376313, Battery Storage = 445.25238082578784, LT Storage = 371.0436506881565
  Node [3036;2512]: Solar = 157.17912186432747, Battery Storage = 943.0747311859648, LT Storage = 785.8956093216374
  Node [3058;2541]: Solar = 131.06433422083586, Battery Storage = 786.3860053250152, LT Storage = 655.3216711041794
  Node [2955;2540]: Solar = 329.6526274319758, Battery Storage = 1977.915764591855, LT Storage = 1648.263137159879
  Node [2954;2554]: Solar = 28.872637487996226, Battery Storage = 173.23582492797735, LT Storage = 144.36318743998112
  Node [2942;2544]: Solar = 110.66905788477904, Battery Storage = 664.0143473086742, LT Storage = 553.3452894238952
  Node [2932;2552]: Solar = 77.98847389323566, Battery Storage = 467.930843359414, LT Storage = 389.9423694661783
  Node [2906;2534]: Solar = 117.7194702347244, Battery Storage = 706.3168214083464, LT Storage = 588.597351173622
  Node [2904;2554]: Solar = 22.596174646858685, Battery Storage = 135.5770478811521, LT Storage = 112.98087323429343
  Node [2859;2559]: Solar = 27.87683513541553, Battery Storage = 167.26101081249317, LT Storage = 139.38417567707765
  Node [2992;2604]: Solar = 106.26996511154172, Battery Storage = 637.6197906692503, LT Storage = 531.3498255577086
  Node [3028;2636]: Solar = 43.59520996512478, Battery Storage = 261.5712597907487, LT Storage = 217.9760498256239
  Node [3051;2653]: Solar = 26.924111620688738, Battery Storage = 161.54466972413243, LT Storage = 134.6205581034437
  Node [3041;2657]: Solar = 34.59080010856194, Battery Storage = 207.54480065137165, LT Storage = 172.95400054280972
  Node [3085;2682]: Solar = 40.0128176573148, Battery Storage = 240.0769059438888, LT Storage = 200.064088286574
  Node [2996;2656]: Solar = 24.671713550930168, Battery Storage = 148.030281305581, LT Storage = 123.35856775465084
  Node [3067;2686]: Solar = 67.19688223689994, Battery Storage = 403.18129342139963, LT Storage = 335.98441118449966
  Node [2954;2648]: Solar = 59.02593993031799, Battery Storage = 354.15563958190796, LT Storage = 295.12969965158993
  Node [2864;2615]: Solar = 59.97078781645663, Battery Storage = 359.82472689873975, LT Storage = 299.85393908228315
  Node [2913;2583]: Solar = 54.837345550637025, Battery Storage = 329.02407330382215, LT Storage = 274.1867277531851
  Node [2794;2526]: Solar = 37.44732825443684, Battery Storage = 224.68396952662104, LT Storage = 187.23664127218422
  Node [2820;2542]: Solar = 32.89932287803766, Battery Storage = 197.39593726822596, LT Storage = 164.49661439018828
  Node [2518;2611]: Solar = 27.24740205725393, Battery Storage = 163.48441234352356, LT Storage = 136.23701028626965
  Node [2530;2555]: Solar = 37.19177920804907, Battery Storage = 223.15067524829442, LT Storage = 185.95889604024535
  Node [2688;2615]: Solar = 25.65708899621044, Battery Storage = 153.94253397726266, LT Storage = 128.2854449810522
  Node [2696;2555]: Solar = 33.898952578912265, Battery Storage = 203.3937154734736, LT Storage = 169.49476289456132
  Node [2652;2594]: Solar = 24.3751636273012, Battery Storage = 146.2509817638072, LT Storage = 121.87581813650598
  Node [2653;2583]: Solar = 28.85762052420526, Battery Storage = 173.14572314523156, LT Storage = 144.2881026210263
  Node [2586;2579]: Solar = 22.76396627370073, Battery Storage = 136.5837976422044, LT Storage = 113.81983136850366
  Node [2615;2658]: Solar = 62.13983445940654, Battery Storage = 372.8390067564393, LT Storage = 310.6991722970327
  Node [2684;2642]: Solar = 29.37117098096385, Battery Storage = 176.2270258857831, LT Storage = 146.85585490481924
  Node [2610;2646]: Solar = 45.676491013866354, Battery Storage = 274.0589460831981, LT Storage = 228.38245506933177
  Node [2466;2577]: Solar = 31.93888528867345, Battery Storage = 191.6333117320407, LT Storage = 159.69442644336726
  Node [2680;2689]: Solar = 40.29062119700436, Battery Storage = 241.7437271820262, LT Storage = 201.4531059850218
  Node [2660;2685]: Solar = 28.717584517555405, Battery Storage = 172.30550710533242, LT Storage = 143.58792258777703
  Node [2567;2651]: Solar = 20.715129510298368, Battery Storage = 124.29077706179021, LT Storage = 103.57564755149184
  Node [3155;2695]: Solar = 35.99899649140734, Battery Storage = 215.99397894844404, LT Storage = 179.9949824570367
  Node [3213;2702]: Solar = 21.53130644396747, Battery Storage = 129.18783866380483, LT Storage = 107.65653221983735
  Node [3148;2760]: Solar = 35.549858567757944, Battery Storage = 213.29915140654765, LT Storage = 177.74929283878973
  Node [3134;2726]: Solar = 56.375341800254745, Battery Storage = 338.25205080152847, LT Storage = 281.87670900127375
  Node [3156;2808]: Solar = 67.51032104553647, Battery Storage = 405.06192627321883, LT Storage = 337.55160522768233
  Node [3139;2828]: Solar = 59.6616214789804, Battery Storage = 357.9697288738824, LT Storage = 298.308107394902
  Node [3138;2971]: Solar = 42.72771256556097, Battery Storage = 256.3662753933658, LT Storage = 213.63856282780486
  Node [3123;2988]: Solar = 21.393406631630533, Battery Storage = 128.3604397897832, LT Storage = 106.96703315815267
  Node [3136;2996]: Solar = 20.1491767497166, Battery Storage = 120.89506049829959, LT Storage = 100.745883748583
  Node [3110;2707]: Solar = 26.434610865949715, Battery Storage = 158.6076651956983, LT Storage = 132.17305432974857
  Node [2933;2751]: Solar = 22.634698173651053, Battery Storage = 135.8081890419063, LT Storage = 113.17349086825527
  Node [2952;2743]: Solar = 26.715404227237116, Battery Storage = 160.2924253634227, LT Storage = 133.57702113618558
  Node [2955;2705]: Solar = 42.50642673165153, Battery Storage = 255.03856038990918, LT Storage = 212.53213365825764
  Node [2957;2764]: Solar = 48.253944120416314, Battery Storage = 289.52366472249787, LT Storage = 241.26972060208158
  Node [3115;2808]: Solar = 43.08779845884638, Battery Storage = 258.5267907530783, LT Storage = 215.4389922942319
  Node [3065;2748]: Solar = 56.26748632985745, Battery Storage = 337.6049179791447, LT Storage = 281.3374316492872
  Node [3117;2757]: Solar = 21.693300061366315, Battery Storage = 130.1598003681979, LT Storage = 108.46650030683158
  Node [3112;2850]: Solar = 33.96669748788201, Battery Storage = 203.80018492729204, LT Storage = 169.83348743941005
  Node [3113;2872]: Solar = 31.5323183458446, Battery Storage = 189.1939100750676, LT Storage = 157.661591729223
  Node [3079;2878]: Solar = 32.43665098097572, Battery Storage = 194.61990588585434, LT Storage = 162.1832549048786
  Node [2988;2793]: Solar = 22.163145253653912, Battery Storage = 132.97887152192348, LT Storage = 110.81572626826956
  Node [2961;2879]: Solar = 90.67200072287704, Battery Storage = 544.0320043372623, LT Storage = 453.3600036143852
  Node [2943;2831]: Solar = 21.22665126054515, Battery Storage = 127.3599075632709, LT Storage = 106.13325630272575
  Node [2962;2833]: Solar = 20.476285392392853, Battery Storage = 122.85771235435712, LT Storage = 102.38142696196427
  Node [2921;2710]: Solar = 91.1857875259087, Battery Storage = 547.1147251554521, LT Storage = 455.9289376295435
  Node [2730;2805]: Solar = 71.69895303218567, Battery Storage = 430.193718193114, LT Storage = 358.49476516092835
  Node [2855;2782]: Solar = 31.46274615760722, Battery Storage = 188.7764769456433, LT Storage = 157.3137307880361
  Node [2714;2752]: Solar = 22.43588126614717, Battery Storage = 134.61528759688304, LT Storage = 112.17940633073584
  Node [2859;2837]: Solar = 36.00243383815895, Battery Storage = 216.0146030289537, LT Storage = 180.01216919079474
  Node [2875;2833]: Solar = 29.808537456890036, Battery Storage = 178.85122474134022, LT Storage = 149.04268728445018
  Node [2882;2853]: Solar = 28.44101216275861, Battery Storage = 170.64607297655166, LT Storage = 142.20506081379307
  Node [2873;2855]: Solar = 26.555089027217317, Battery Storage = 159.3305341633039, LT Storage = 132.77544513608657
  Node [2810;2810]: Solar = 113.79302733323097, Battery Storage = 682.7581639993858, LT Storage = 568.9651366661549
  Node [2813;2829]: Solar = 47.681922364427805, Battery Storage = 286.09153418656683, LT Storage = 238.40961182213903
  Node [2835;2876]: Solar = 20.68144413009518, Battery Storage = 124.08866478057108, LT Storage = 103.40722065047589
  Node [2792;2872]: Solar = 47.472487881360834, Battery Storage = 284.834927288165, LT Storage = 237.36243940680419
  Node [2736;2861]: Solar = 41.54608073491525, Battery Storage = 249.2764844094915, LT Storage = 207.73040367457625
  Node [2747;2876]: Solar = 28.844615291199187, Battery Storage = 173.0676917471951, LT Storage = 144.22307645599594
  Node [3124;2883]: Solar = 94.75872190133272, Battery Storage = 568.5523314079963, LT Storage = 473.7936095066636
  Node [3135;2867]: Solar = 28.30572234464064, Battery Storage = 169.83433406784383, LT Storage = 141.5286117232032
  Node [3109;2904]: Solar = 22.845000311286263, Battery Storage = 137.07000186771756, LT Storage = 114.22500155643132
  Node [3064;2910]: Solar = 63.79257760973056, Battery Storage = 382.75546565838334, LT Storage = 318.96288804865276
  Node [3020;2930]: Solar = 31.584089440620037, Battery Storage = 189.50453664372023, LT Storage = 157.9204472031002
  Node [3082;2968]: Solar = 46.21182691671676, Battery Storage = 277.2709615003006, LT Storage = 231.05913458358378
  Node [3096;2968]: Solar = 27.75965367845638, Battery Storage = 166.5579220707383, LT Storage = 138.7982683922819
  Node [3078;2950]: Solar = 23.474923675624854, Battery Storage = 140.84954205374913, LT Storage = 117.37461837812427
  Node [3095;2956]: Solar = 28.08967355030365, Battery Storage = 168.53804130182192, LT Storage = 140.44836775151825
  Node [3071;2956]: Solar = 38.95603076632303, Battery Storage = 233.73618459793818, LT Storage = 194.78015383161517
  Node [3062;2961]: Solar = 37.769146102313016, Battery Storage = 226.6148766138781, LT Storage = 188.84573051156508
  Node [3112;2998]: Solar = 29.669920353446184, Battery Storage = 178.0195221206771, LT Storage = 148.34960176723092
  Node [3134;2984]: Solar = 40.83183880265877, Battery Storage = 244.99103281595262, LT Storage = 204.15919401329387
  Node [3017;2964]: Solar = 20.585897846469805, Battery Storage = 123.51538707881883, LT Storage = 102.92948923234903
  Node [3040;2958]: Solar = 20.00620549963851, Battery Storage = 120.03723299783107, LT Storage = 100.03102749819256
  Node [3047;2965]: Solar = 20.692040362126555, Battery Storage = 124.15224217275933, LT Storage = 103.46020181063278
  Node [3029;2964]: Solar = 25.15036781783563, Battery Storage = 150.90220690701378, LT Storage = 125.75183908917815
  Node [2984;2973]: Solar = 28.52342578575842, Battery Storage = 171.14055471455052, LT Storage = 142.6171289287921
  Node [2993;2970]: Solar = 43.36584659457162, Battery Storage = 260.19507956742973, LT Storage = 216.8292329728581
  Node [2975;2979]: Solar = 29.542415565693023, Battery Storage = 177.25449339415815, LT Storage = 147.7120778284651
  Node [2902;2999]: Solar = 28.063783219047423, Battery Storage = 168.38269931428454, LT Storage = 140.3189160952371
  Node [2855;2913]: Solar = 26.8925979055182, Battery Storage = 161.3555874331092, LT Storage = 134.462989527591
  Node [2856;2927]: Solar = 29.97806195969404, Battery Storage = 179.86837175816424, LT Storage = 149.89030979847018
  Node [2790;2948]: Solar = 22.87102382183175, Battery Storage = 137.22614293099048, LT Storage = 114.35511910915875
  Node [2793;2929]: Solar = 39.61234405918804, Battery Storage = 237.67406435512822, LT Storage = 198.0617202959402
  Node [2939;2976]: Solar = 31.153918380370413, Battery Storage = 186.92351028222248, LT Storage = 155.76959190185207
  Node [2912;2971]: Solar = 20.88811378870622, Battery Storage = 125.32868273223733, LT Storage = 104.4405689435311
  Node [2921;2942]: Solar = 32.50164854577864, Battery Storage = 195.00989127467187, LT Storage = 162.5082427288932
  Node [2912;2959]: Solar = 23.750882683668337, Battery Storage = 142.50529610201002, LT Storage = 118.75441341834168
  Node [2931;2965]: Solar = 49.16415545597158, Battery Storage = 294.9849327358295, LT Storage = 245.8207772798579
  Node [2882;2964]: Solar = 34.519365936888626, Battery Storage = 207.11619562133177, LT Storage = 172.59682968444312
  Node [2890;2973]: Solar = 38.22064520767591, Battery Storage = 229.32387124605543, LT Storage = 191.10322603837955
  Node [2896;2972]: Solar = 25.566504484688735, Battery Storage = 153.3990269081324, LT Storage = 127.83252242344368
  Node [2864;2969]: Solar = 35.93704561049456, Battery Storage = 215.62227366296736, LT Storage = 179.68522805247278
  Node [2873;2974]: Solar = 30.925022220482955, Battery Storage = 185.55013332289772, LT Storage = 154.62511110241476
  Node [2919;2983]: Solar = 23.177861105404183, Battery Storage = 139.06716663242509, LT Storage = 115.88930552702092
  Node [2889;2983]: Solar = 44.899615398116346, Battery Storage = 269.3976923886981, LT Storage = 224.49807699058172
  Node [2896;2982]: Solar = 37.76633925584208, Battery Storage = 226.59803553505247, LT Storage = 188.83169627921038
  Node [2880;2991]: Solar = 41.86166307853971, Battery Storage = 251.16997847123827, LT Storage = 209.30831539269857
  Node [2779;2996]: Solar = 25.719817759472985, Battery Storage = 154.3189065568379, LT Storage = 128.5990887973649
  Node [2796;2977]: Solar = 32.93666737529049, Battery Storage = 197.62000425174296, LT Storage = 164.68333687645244
  Node [3141;3016]: Solar = 54.73930421369075, Battery Storage = 328.4358252821445, LT Storage = 273.69652106845376
  Node [3119;3011]: Solar = 40.304252097308904, Battery Storage = 241.82551258385342, LT Storage = 201.52126048654452
  Node [3109;3037]: Solar = 67.13764002462904, Battery Storage = 402.8258401477742, LT Storage = 335.6882001231452
  Node [3103;3049]: Solar = 20.440481607467035, Battery Storage = 122.64288964480221, LT Storage = 102.20240803733518
  Node [3182;3044]: Solar = 34.93793279243903, Battery Storage = 209.62759675463417, LT Storage = 174.68966396219514
  Node [3164;3059]: Solar = 44.53918357006436, Battery Storage = 267.2351014203862, LT Storage = 222.6959178503218
  Node [3080;3064]: Solar = 64.87156237075054, Battery Storage = 389.2293742245032, LT Storage = 324.3578118537527
  Node [3040;3060]: Solar = 43.60038686634627, Battery Storage = 261.6023211980776, LT Storage = 218.00193433173135
  Node [3130;3131]: Solar = 27.797046357997928, Battery Storage = 166.78227814798757, LT Storage = 138.98523178998965
  Node [3132;3142]: Solar = 58.733317526689376, Battery Storage = 352.39990516013626, LT Storage = 293.66658763344685
  Node [3129;3147]: Solar = 38.66555089696324, Battery Storage = 231.99330538177944, LT Storage = 193.32775448481618
  Node [3115;3150]: Solar = 34.93831118857701, Battery Storage = 209.62986713146205, LT Storage = 174.69155594288506
  Node [3112;3183]: Solar = 129.17854140292386, Battery Storage = 775.0712484175431, LT Storage = 645.8927070146193
  Node [2955;3038]: Solar = 23.62705221080056, Battery Storage = 141.76231326480337, LT Storage = 118.1352610540028
  Node [2980;3031]: Solar = 20.047276798808156, Battery Storage = 120.28366079284893, LT Storage = 100.23638399404078
  Node [2937;3029]: Solar = 30.433641594401813, Battery Storage = 182.60184956641086, LT Storage = 152.16820797200907
  Node [2911;3035]: Solar = 22.26107672183699, Battery Storage = 133.56646033102194, LT Storage = 111.30538360918494
  Node [2893;3023]: Solar = 41.599407901110176, Battery Storage = 249.59644740666107, LT Storage = 207.99703950555087
  Node [2880;3014]: Solar = 22.975436044728365, Battery Storage = 137.85261626837018, LT Storage = 114.87718022364183
  Node [2912;3055]: Solar = 36.868857900576565, Battery Storage = 221.2131474034594, LT Storage = 184.34428950288282
  Node [2708;3006]: Solar = 68.69918683006684, Battery Storage = 412.19512098040104, LT Storage = 343.49593415033416
  Node [2721;3001]: Solar = 30.86619989548036, Battery Storage = 185.19719937288215, LT Storage = 154.3309994774018
  Node [2788;3043]: Solar = 51.18462057672703, Battery Storage = 307.1077234603622, LT Storage = 255.92310288363512
  Node [2853;3094]: Solar = 28.50903396408766, Battery Storage = 171.05420378452595, LT Storage = 142.5451698204383
  Node [2858;3111]: Solar = 20.875233313064076, Battery Storage = 125.25139987838446, LT Storage = 104.37616656532037
  Node [2834;3101]: Solar = 24.706656979523903, Battery Storage = 148.23994187714342, LT Storage = 123.53328489761951
  Node [2724;3079]: Solar = 30.623836630756553, Battery Storage = 183.7430197845393, LT Storage = 153.11918315378276
  Node [2766;3097]: Solar = 20.446169736670974, Battery Storage = 122.67701842002585, LT Storage = 102.23084868335488
  Node [2640;2777]: Solar = 66.57846113747277, Battery Storage = 399.47076682483663, LT Storage = 332.8923056873639
  Node [2654;2734]: Solar = 40.03737747421782, Battery Storage = 240.22426484530692, LT Storage = 200.18688737108909
  Node [2655;2707]: Solar = 28.15542851599654, Battery Storage = 168.93257109597926, LT Storage = 140.7771425799827
  Node [2614;2692]: Solar = 26.664342451910997, Battery Storage = 159.98605471146598, LT Storage = 133.321712259555
  Node [2658;2832]: Solar = 31.749942326270546, Battery Storage = 190.49965395762328, LT Storage = 158.74971163135274
  Node [2650;2826]: Solar = 20.93143909681678, Battery Storage = 125.58863458090069, LT Storage = 104.6571954840839
  Node [2569;2817]: Solar = 32.77512406824149, Battery Storage = 196.65074440944892, LT Storage = 163.87562034120745
  Node [2546;2819]: Solar = 45.16509260986463, Battery Storage = 270.99055565918775, LT Storage = 225.82546304932316
  Node [2552;2810]: Solar = 59.04395367745846, Battery Storage = 354.26372206475077, LT Storage = 295.21976838729233
  Node [2539;2793]: Solar = 36.34786288333253, Battery Storage = 218.08717729999518, LT Storage = 181.73931441666267
  Node [2564;2828]: Solar = 29.42742662516621, Battery Storage = 176.56455975099726, LT Storage = 147.13713312583104
  Node [2543;2828]: Solar = 61.81856365511547, Battery Storage = 370.9113819306928, LT Storage = 309.0928182755773
  Node [2468;2725]: Solar = 20.354416094395415, Battery Storage = 122.12649656637248, LT Storage = 101.77208047197708
  Node [2469;2675]: Solar = 22.785167685013057, Battery Storage = 136.71100611007836, LT Storage = 113.92583842506528
  Node [2502;2729]: Solar = 22.963140625897715, Battery Storage = 137.77884375538628, LT Storage = 114.81570312948858
  Node [2459;2731]: Solar = 23.57484998580718, Battery Storage = 141.4490999148431, LT Storage = 117.8742499290359
  Node [2454;2738]: Solar = 24.737674606002685, Battery Storage = 148.4260476360161, LT Storage = 123.68837303001342
  Node [2537;2803]: Solar = 47.64788819937474, Battery Storage = 285.88732919624846, LT Storage = 238.2394409968737
  Node [2511;2776]: Solar = 35.53537244829863, Battery Storage = 213.21223468979179, LT Storage = 177.67686224149315
  Node [2536;2813]: Solar = 117.09724058815252, Battery Storage = 702.583443528915, LT Storage = 585.4862029407626
  Node [2508;2803]: Solar = 46.916436383611355, Battery Storage = 281.4986183016681, LT Storage = 234.5821819180568
  Node [2523;2812]: Solar = 182.4622403725525, Battery Storage = 1094.7734422353149, LT Storage = 912.3112018627625
  Node [2468;2809]: Solar = 24.556721064993425, Battery Storage = 147.34032638996055, LT Storage = 122.78360532496713
  Node [2478;2794]: Solar = 22.34061139011372, Battery Storage = 134.04366834068233, LT Storage = 111.70305695056861
  Node [2510;2830]: Solar = 23.205487561134884, Battery Storage = 139.2329253668093, LT Storage = 116.02743780567442
  Node [2523;2823]: Solar = 118.11110871838822, Battery Storage = 708.6666523103294, LT Storage = 590.5555435919412
  Node [2514;2818]: Solar = 55.065681743444905, Battery Storage = 330.3940904606694, LT Storage = 275.32840871722453
  Node [2484;2817]: Solar = 24.071492327010212, Battery Storage = 144.42895396206126, LT Storage = 120.35746163505107
  Node [2486;2830]: Solar = 39.632631420907465, Battery Storage = 237.79578852544478, LT Storage = 198.16315710453733
  Node [2616;2888]: Solar = 37.17727178755064, Battery Storage = 223.06363072530382, LT Storage = 185.8863589377532
  Node [2624;2844]: Solar = 24.634742204777112, Battery Storage = 147.80845322866267, LT Storage = 123.17371102388556
  Node [2588;2855]: Solar = 26.470684063613433, Battery Storage = 158.8241043816806, LT Storage = 132.35342031806715
  Node [2691;2920]: Solar = 74.64276630428886, Battery Storage = 447.85659782573316, LT Storage = 373.21383152144426
  Node [2595;2943]: Solar = 37.07281611044553, Battery Storage = 222.43689666267318, LT Storage = 185.36408055222765
  Node [2542;2843]: Solar = 24.444420288287393, Battery Storage = 146.66652172972437, LT Storage = 122.22210144143696
  Node [2528;2844]: Solar = 60.94054252758387, Battery Storage = 365.6432551655032, LT Storage = 304.7027126379194
  Node [2525;2829]: Solar = 68.15959883084753, Battery Storage = 408.95759298508517, LT Storage = 340.79799415423764
  Node [2534;2860]: Solar = 22.83812323682522, Battery Storage = 137.0287394209513, LT Storage = 114.1906161841261
  Node [2524;2864]: Solar = 22.941919691992176, Battery Storage = 137.65151815195304, LT Storage = 114.70959845996089
  Node [2473;2851]: Solar = 34.843670329872396, Battery Storage = 209.06202197923437, LT Storage = 174.21835164936198
  Node [2445;2903]: Solar = 22.49276495384501, Battery Storage = 134.95658972307007, LT Storage = 112.46382476922506
  Node [2467;2864]: Solar = 20.66089346162404, Battery Storage = 123.96536076974422, LT Storage = 103.3044673081202
  Node [2518;2900]: Solar = 20.33137274261058, Battery Storage = 121.98823645566347, LT Storage = 101.6568637130529
  Node [2495;2938]: Solar = 21.721308958710814, Battery Storage = 130.3278537522649, LT Storage = 108.60654479355406
  Node [2490;2948]: Solar = 21.061183773212186, Battery Storage = 126.36710263927311, LT Storage = 105.30591886606092
  Node [2405;2826]: Solar = 20.862566309578895, Battery Storage = 125.17539785747337, LT Storage = 104.31283154789448
  Node [2391;2778]: Solar = 22.2844745800117, Battery Storage = 133.7068474800702, LT Storage = 111.4223729000585
  Node [2416;2831]: Solar = 24.509673816566764, Battery Storage = 147.0580428994006, LT Storage = 122.54836908283382
  Node [2422;2793]: Solar = 20.129173820245065, Battery Storage = 120.77504292147039, LT Storage = 100.64586910122532
  Node [2317;2794]: Solar = 33.26241037142249, Battery Storage = 199.57446222853494, LT Storage = 166.31205185711246
  Node [2343;2795]: Solar = 21.708329592391404, Battery Storage = 130.24997755434842, LT Storage = 108.54164796195703
  Node [2289;2841]: Solar = 24.770663816115267, Battery Storage = 148.6239828966916, LT Storage = 123.85331908057634
  Node [2318;2839]: Solar = 33.9165765829519, Battery Storage = 203.49945949771137, LT Storage = 169.5828829147595
  Node [2289;2851]: Solar = 28.68495325904639, Battery Storage = 172.10971955427834, LT Storage = 143.42476629523196
  Node [2422;2904]: Solar = 21.903036259627783, Battery Storage = 131.4182175577667, LT Storage = 109.51518129813891
  Node [2401;2906]: Solar = 87.71146835573239, Battery Storage = 526.2688101343944, LT Storage = 438.55734177866196
  Node [2345;2880]: Solar = 34.54152398448237, Battery Storage = 207.2491439068942, LT Storage = 172.70761992241182
  Node [2354;2874]: Solar = 30.305550254543764, Battery Storage = 181.8333015272626, LT Storage = 151.52775127271883
  Node [2369;2868]: Solar = 25.828323422017217, Battery Storage = 154.9699405321033, LT Storage = 129.1416171100861
  Node [2365;2891]: Solar = 27.25397779750036, Battery Storage = 163.52386678500216, LT Storage = 136.26988898750182
  Node [2373;2906]: Solar = 37.72833357391834, Battery Storage = 226.37000144351003, LT Storage = 188.6416678695917
  Node [2351;2889]: Solar = 21.24195586054176, Battery Storage = 127.45173516325056, LT Storage = 106.20977930270881
  Node [2388;2944]: Solar = 31.73105647569131, Battery Storage = 190.38633885414788, LT Storage = 158.65528237845655
  Node [2367;2920]: Solar = 35.57008992354927, Battery Storage = 213.42053954129562, LT Storage = 177.85044961774634
  Node [2335;2852]: Solar = 25.01242227655565, Battery Storage = 150.0745336593339, LT Storage = 125.06211138277826
  Node [2331;2865]: Solar = 24.366470937813997, Battery Storage = 146.19882562688397, LT Storage = 121.83235468906999
  Node [2335;2877]: Solar = 28.063457160886237, Battery Storage = 168.38074296531744, LT Storage = 140.31728580443118
  Node [2339;2894]: Solar = 52.0463718132336, Battery Storage = 312.2782308794016, LT Storage = 260.231859066168
  Node [2328;2896]: Solar = 45.29893566677649, Battery Storage = 271.7936140006589, LT Storage = 226.49467833388243
  Node [2681;3091]: Solar = 21.626252921840734, Battery Storage = 129.7575175310444, LT Storage = 108.13126460920367
  Node [2574;3101]: Solar = 26.86591354549619, Battery Storage = 161.19548127297713, LT Storage = 134.32956772748096
  Node [2700;3134]: Solar = 25.20800736573146, Battery Storage = 151.24804419438877, LT Storage = 126.0400368286573
  Node [2514;3105]: Solar = 21.988141343682987, Battery Storage = 131.92884806209793, LT Storage = 109.94070671841493
  Node [2530;3100]: Solar = 22.05939617715885, Battery Storage = 132.3563770629531, LT Storage = 110.29698088579424
  Node [2521;3136]: Solar = 41.67941267370799, Battery Storage = 250.07647604224798, LT Storage = 208.39706336853996
  Node [2522;3148]: Solar = 24.189238455984995, Battery Storage = 145.13543073590998, LT Storage = 120.94619227992497
  Node [2504;3095]: Solar = 39.71988232981152, Battery Storage = 238.3192939788691, LT Storage = 198.5994116490576
  Node [2494;3103]: Solar = 21.02887150269893, Battery Storage = 126.17322901619357, LT Storage = 105.14435751349465
  Node [2674;3177]: Solar = 28.757749637893298, Battery Storage = 172.5464978273598, LT Storage = 143.7887481894665
  Node [2672;3187]: Solar = 55.00827031899955, Battery Storage = 330.04962191399727, LT Storage = 275.04135159499776
  Node [2642;3173]: Solar = 31.60610082439172, Battery Storage = 189.63660494635033, LT Storage = 158.03050412195861
  Node [2645;3190]: Solar = 32.52694213620728, Battery Storage = 195.1616528172437, LT Storage = 162.6347106810364
  Node [2584;3192]: Solar = 25.63624299291805, Battery Storage = 153.81745795750828, LT Storage = 128.18121496459025
  Node [2584;3206]: Solar = 20.60757874585243, Battery Storage = 123.64547247511457, LT Storage = 103.03789372926215
  Node [2607;3206]: Solar = 21.029918150451007, Battery Storage = 126.17950890270603, LT Storage = 105.14959075225504
  Node [2588;3213]: Solar = 30.427775216358818, Battery Storage = 182.56665129815292, LT Storage = 152.13887608179408
  Node [2579;3213]: Solar = 20.16132598318073, Battery Storage = 120.96795589908439, LT Storage = 100.80662991590366
  Node [2530;3162]: Solar = 32.88516178301352, Battery Storage = 197.31097069808112, LT Storage = 164.42580891506762
  Node [2557;3220]: Solar = 23.91292167824465, Battery Storage = 143.4775300694679, LT Storage = 119.56460839122326
  Node [2681;2849]: Solar = 32.65238982231802, Battery Storage = 195.91433893390814, LT Storage = 163.2619491115901
  Node [2781;2669]: Solar = 21.51750586424857, Battery Storage = 129.10503518549143, LT Storage = 107.58752932124284
  Node [2763;2652]: Solar = 30.553908815946144, Battery Storage = 183.32345289567687, LT Storage = 152.76954407973074
  Node [2570;3091]: Solar = 22.96885697560686, Battery Storage = 137.81314185364118, LT Storage = 114.8442848780343
  Node [3097;2923]: Solar = 27.4170738964138, Battery Storage = 164.5024433784828, LT Storage = 137.085369482069
  Node [3097;2944]: Solar = 22.005415033416288, Battery Storage = 132.03249020049773, LT Storage = 110.02707516708143
  Node [3102;2952]: Solar = 57.15588036371511, Battery Storage = 342.9352821822907, LT Storage = 285.7794018185756
  Node [2677;2644]: Solar = 29.543250440357856, Battery Storage = 177.25950264214714, LT Storage = 147.71625220178927
  Node [2470;2629]: Solar = 34.769914578543094, Battery Storage = 208.61948747125857, LT Storage = 173.84957289271546
  Node [2437;2677]: Solar = 38.97629483402818, Battery Storage = 233.85776900416909, LT Storage = 194.8814741701409
  Node [2380;2885]: Solar = 23.093271301994903, Battery Storage = 138.55962781196942, LT Storage = 115.46635650997452
  Node [2522;2833]: Solar = 43.33324457615063, Battery Storage = 259.9994674569038, LT Storage = 216.66622288075317
  Node [2378;2942]: Solar = 37.759076379810935, Battery Storage = 226.5544582788656, LT Storage = 188.7953818990547
  Node [2559;2817]: Solar = 28.159484129942605, Battery Storage = 168.95690477965564, LT Storage = 140.79742064971302
  Node [2567;3078]: Solar = 130.7137157500631, Battery Storage = 784.2822945003786, LT Storage = 653.5685787503155
  Node [2954;2900]: Solar = 20.469747407543203, Battery Storage = 122.81848444525922, LT Storage = 102.348737037716
  Node [2958;3045]: Solar = 30.14403071720313, Battery Storage = 180.8641843032188, LT Storage = 150.72015358601564
  Node [3150;3096]: Solar = 55.83938436887233, Battery Storage = 335.03630621323396, LT Storage = 279.19692184436167
  Node [3152;3111]: Solar = 21.250208900022177, Battery Storage = 127.50125340013307, LT Storage = 106.25104450011088
  Node [3126;3118]: Solar = 72.18237282589286, Battery Storage = 433.09423695535713, LT Storage = 360.9118641294643
  Node [2661;3184]: Solar = 21.01116278519735, Battery Storage = 126.0669767111841, LT Storage = 105.05581392598674
  Node [2918;2931]: Solar = 46.288972107471125, Battery Storage = 277.73383264482675, LT Storage = 231.44486053735562
  Node [2882;2980]: Solar = 46.50840036893396, Battery Storage = 279.0504022136038, LT Storage = 232.5420018446698
  Node [3116;2887]: Solar = 32.02314127107267, Battery Storage = 192.13884762643602, LT Storage = 160.11570635536333
  Node [2515;2855]: Solar = 34.54243683667397, Battery Storage = 207.25462102004383, LT Storage = 172.71218418336986
  Node [2745;2571]: Solar = 32.12001259298862, Battery Storage = 192.72007555793175, LT Storage = 160.6000629649431
  Node [2851;2814]: Solar = 30.817467749675348, Battery Storage = 184.9048064980521, LT Storage = 154.08733874837674
  Node [2698;2758]: Solar = 57.3516986506863, Battery Storage = 344.1101919041178, LT Storage = 286.75849325343154
  Node [2537;2782]: Solar = 28.268341796661637, Battery Storage = 169.6100507799698, LT Storage = 141.3417089833082
  Node [3141;3036]: Solar = 294.44070726070134, Battery Storage = 1766.644243564208, LT Storage = 1472.2035363035068
  Node [3157;3004]: Solar = 29.461787645067357, Battery Storage = 176.77072587040414, LT Storage = 147.3089382253368
  Node [3163;3006]: Solar = 42.44111765670834, Battery Storage = 254.64670594025006, LT Storage = 212.20558828354172
  Node [2966;2583]: Solar = 27.54421716556314, Battery Storage = 165.26530299337884, LT Storage = 137.7210858278157
  Node [2674;4010]: Solar = 93.03203178057336, Battery Storage = 558.1921906834402, LT Storage = 465.1601589028668
  Node [2684;4048]: Solar = 161.39156819498868, Battery Storage = 968.3494091699321, LT Storage = 806.9578409749433
  Node [2762;3926]: Solar = 245.6651345095226, Battery Storage = 1473.9908070571355, LT Storage = 1228.325672547613
  Node [2660;3963]: Solar = 85.78525005488298, Battery Storage = 514.7115003292979, LT Storage = 428.9262502744149
  Node [2797;3985]: Solar = 134.61333430835475, Battery Storage = 807.6800058501285, LT Storage = 673.0666715417738
  Node [2637;4070]: Solar = 155.73383106907548, Battery Storage = 934.4029864144529, LT Storage = 778.6691553453774
  Node [2721;3994]: Solar = 136.35591198013694, Battery Storage = 818.1354718808216, LT Storage = 681.7795599006847
  Node [2669;4048]: Solar = 313.42404263587684, Battery Storage = 1880.544255815261, LT Storage = 1567.1202131793843
  Node [2692;4113]: Solar = 211.71599231605228, Battery Storage = 1270.2959538963137, LT Storage = 1058.5799615802614
  Node [2730;4059]: Solar = 90.55848577226232, Battery Storage = 543.3509146335739, LT Storage = 452.7924288613116
  Node [2787;4160]: Solar = 143.9815159978709, Battery Storage = 863.8890959872253, LT Storage = 719.9075799893545
  Node [2611;4128]: Solar = 103.54731505743706, Battery Storage = 621.2838903446224, LT Storage = 517.7365752871854
  Node [2622;4137]: Solar = 169.55961139353371, Battery Storage = 1017.3576683612023, LT Storage = 847.7980569676686
  Node [2738;4229]: Solar = 127.66554140497222, Battery Storage = 765.9932484298333, LT Storage = 638.3277070248611
  Node [2772;4052]: Solar = 246.51099176471513, Battery Storage = 1479.065950588291, LT Storage = 1232.5549588235756
  Node [2689;4156]: Solar = 339.96965632509875, Battery Storage = 2039.8179379505925, LT Storage = 1699.8482816254937
  Node [2798;4165]: Solar = 73.57895805648825, Battery Storage = 441.47374833892945, LT Storage = 367.89479028244125
  Node [2824;4013]: Solar = 128.18199039730678, Battery Storage = 769.0919423838407, LT Storage = 640.9099519865339
  Node [2673;4081]: Solar = 343.66119245137037, Battery Storage = 2061.967154708222, LT Storage = 1718.305962256852
  Node [2659;4076]: Solar = 264.2688879511316, Battery Storage = 1585.6133277067897, LT Storage = 1321.344439755658
  Node [2699;4034]: Solar = 89.55966727877264, Battery Storage = 537.3580036726358, LT Storage = 447.79833639386317
  Node [2581;4187]: Solar = 132.97456475328087, Battery Storage = 797.8473885196852, LT Storage = 664.8728237664044
  Node [2600;4199]: Solar = 355.035277732827, Battery Storage = 2130.211666396962, LT Storage = 1775.1763886641352
  Node [2577;4219]: Solar = 63.89121552167216, Battery Storage = 383.34729313003294, LT Storage = 319.4560776083608
  Node [2638;4257]: Solar = 189.95996561940055, Battery Storage = 1139.7597937164032, LT Storage = 949.7998280970028
  Node [2567;4160]: Solar = 96.35577237522814, Battery Storage = 578.1346342513689, LT Storage = 481.7788618761407
  Node [2715;3872]: Solar = 159.0805641011563, Battery Storage = 954.4833846069379, LT Storage = 795.4028205057816
  Node [2847;4021]: Solar = 68.99649141429583, Battery Storage = 413.978948485775, LT Storage = 344.9824570714792
  Node [2781;3890]: Solar = 188.65859627013845, Battery Storage = 1131.9515776208307, LT Storage = 943.2929813506922
  Node [2822;3877]: Solar = 30.70472148648428, Battery Storage = 184.22832891890567, LT Storage = 153.52360743242141
  Node [2848;3338]: Solar = 36.86177010684617, Battery Storage = 221.17062064107705, LT Storage = 184.30885053423086
  Node [2862;3338]: Solar = 94.85687284855524, Battery Storage = 569.1412370913315, LT Storage = 474.2843642427762
  Node [2999;3166]: Solar = 173.49686727859574, Battery Storage = 1040.9812036715743, LT Storage = 867.4843363929788
  Node [3096;3219]: Solar = 103.71611794326496, Battery Storage = 622.2967076595897, LT Storage = 518.5805897163248
  Node [3062;3247]: Solar = 95.94344522100522, Battery Storage = 575.6606713260313, LT Storage = 479.7172261050261
  Node [3002;3194]: Solar = 282.52139282516475, Battery Storage = 1695.1283569509885, LT Storage = 1412.6069641258237
  Node [3043;3184]: Solar = 142.260444757238, Battery Storage = 853.5626685434279, LT Storage = 711.30222378619
  Node [3071;3161]: Solar = 62.83381490233163, Battery Storage = 377.0028894139898, LT Storage = 314.16907451165815
  Node [3047;3261]: Solar = 64.44975232178936, Battery Storage = 386.69851393073617, LT Storage = 322.2487616089468
  Node [3025;3233]: Solar = 136.9035586103396, Battery Storage = 821.4213516620375, LT Storage = 684.5177930516979
  Node [2966;3139]: Solar = 82.10748332212205, Battery Storage = 492.6448999327323, LT Storage = 410.53741661061025
  Node [2944;3194]: Solar = 233.6835589354557, Battery Storage = 1402.101353612734, LT Storage = 1168.4177946772784
  Node [2893;3155]: Solar = 35.69764253100243, Battery Storage = 214.18585518601458, LT Storage = 178.48821265501215
  Node [2901;3158]: Solar = 63.626890519357445, Battery Storage = 381.76134311614464, LT Storage = 318.13445259678724
  Node [2889;3192]: Solar = 26.62187270429135, Battery Storage = 159.7312362257481, LT Storage = 133.10936352145674
  Node [2899;3181]: Solar = 58.74839090198458, Battery Storage = 352.49034541190747, LT Storage = 293.7419545099229
  Node [2900;3198]: Solar = 59.060671399947424, Battery Storage = 354.36402839968457, LT Storage = 295.3033569997371
  Node [2944;3217]: Solar = 133.71223792457923, Battery Storage = 802.2734275474754, LT Storage = 668.5611896228961
  Node [2927;3226]: Solar = 114.04833094084984, Battery Storage = 684.289985645099, LT Storage = 570.2416547042492
  Node [2953;3237]: Solar = 67.41320328727878, Battery Storage = 404.47921972367266, LT Storage = 337.06601643639385
  Node [2919;3253]: Solar = 91.41753542144008, Battery Storage = 548.5052125286404, LT Storage = 457.0876771072004
  Node [2850;3250]: Solar = 37.999745628877214, Battery Storage = 227.9984737732633, LT Storage = 189.99872814438606
  Node [2868;3240]: Solar = 60.42987761978456, Battery Storage = 362.57926571870735, LT Storage = 302.1493880989228
  Node [3041;3288]: Solar = 181.2916223620607, Battery Storage = 1087.7497341723642, LT Storage = 906.4581118103035
  Node [3046;3279]: Solar = 79.87178856441513, Battery Storage = 479.2307313864908, LT Storage = 399.3589428220756
  Node [2988;3287]: Solar = 99.20761724019182, Battery Storage = 595.2457034411509, LT Storage = 496.0380862009591
  Node [3020;3288]: Solar = 92.10406678584243, Battery Storage = 552.6244007150547, LT Storage = 460.52033392921214
  Node [3056;3325]: Solar = 150.0621690786101, Battery Storage = 900.3730144716607, LT Storage = 750.3108453930506
  Node [2944;3304]: Solar = 172.0073314320129, Battery Storage = 1032.0439885920773, LT Storage = 860.0366571600646
  Node [3081;3363]: Solar = 82.23034491656017, Battery Storage = 493.382069499361, LT Storage = 411.15172458280085
  Node [3084;3374]: Solar = 132.36824643547075, Battery Storage = 794.2094786128246, LT Storage = 661.8412321773537
  Node [2937;3443]: Solar = 65.24194816434995, Battery Storage = 391.4516889860997, LT Storage = 326.20974082174973
  Node [2940;3328]: Solar = 204.67813939435956, Battery Storage = 1228.0688363661575, LT Storage = 1023.3906969717978
  Node [3023;3380]: Solar = 106.400157593302, Battery Storage = 638.400945559812, LT Storage = 532.00078796651
  Node [2984;3357]: Solar = 85.60178997673752, Battery Storage = 513.6107398604252, LT Storage = 428.0089498836876
  Node [3206;3433]: Solar = 63.02275206970107, Battery Storage = 378.1365124182064, LT Storage = 315.11376034850537
  Node [3207;3426]: Solar = 81.44307583046077, Battery Storage = 488.6584549827646, LT Storage = 407.21537915230385
  Node [3301;3537]: Solar = 66.16261734245805, Battery Storage = 396.9757040547483, LT Storage = 330.8130867122902
  Node [3305;3529]: Solar = 73.79994809116056, Battery Storage = 442.79968854696335, LT Storage = 368.9997404558028
  Node [3290;3521]: Solar = 34.74586686401702, Battery Storage = 208.4752011841021, LT Storage = 173.7293343200851
  Node [3282;3515]: Solar = 54.81350681564568, Battery Storage = 328.8810408938741, LT Storage = 274.0675340782284
  Node [3274;3501]: Solar = 57.53165116884277, Battery Storage = 345.18990701305665, LT Storage = 287.65825584421384
  Node [3110;3469]: Solar = 145.3892990207625, Battery Storage = 872.335794124575, LT Storage = 726.9464951038126
  Node [3063;3461]: Solar = 118.07835001001588, Battery Storage = 708.4701000600953, LT Storage = 590.3917500500794
  Node [3106;3441]: Solar = 159.30690463987332, Battery Storage = 955.8414278392399, LT Storage = 796.5345231993666
  Node [3139;3405]: Solar = 103.5288347077837, Battery Storage = 621.1730082467022, LT Storage = 517.6441735389185
  Node [3137;3416]: Solar = 146.7343238884962, Battery Storage = 880.4059433309772, LT Storage = 733.671619442481
  Node [3117;3461]: Solar = 138.50952296059978, Battery Storage = 831.0571377635987, LT Storage = 692.5476148029989
  Node [3118;3470]: Solar = 104.2645204254334, Battery Storage = 625.5871225526005, LT Storage = 521.322602127167
  Node [3036;3435]: Solar = 137.88560941743776, Battery Storage = 827.3136565046266, LT Storage = 689.4280470871888
  Node [3003;3408]: Solar = 178.180319021535, Battery Storage = 1069.08191412921, LT Storage = 890.9015951076751
  Node [2967;3435]: Solar = 130.01416830345244, Battery Storage = 780.0850098207146, LT Storage = 650.0708415172621
  Node [2981;3369]: Solar = 96.286907507374, Battery Storage = 577.721445044244, LT Storage = 481.43453753687
  Node [3026;3447]: Solar = 158.09022422676924, Battery Storage = 948.5413453606154, LT Storage = 790.4511211338462
  Node [3035;3466]: Solar = 119.92305020046844, Battery Storage = 719.5383012028107, LT Storage = 599.6152510023422
  Node [2943;3447]: Solar = 109.92772223011842, Battery Storage = 659.5663333807105, LT Storage = 549.638611150592
  Node [2973;3466]: Solar = 89.66984297071674, Battery Storage = 538.0190578243005, LT Storage = 448.3492148535837
  Node [3126;3477]: Solar = 100.27044593178633, Battery Storage = 601.622675590718, LT Storage = 501.3522296589316
  Node [3131;3487]: Solar = 107.16797436924, Battery Storage = 643.0078462154399, LT Storage = 535.8398718462
  Node [3040;3481]: Solar = 171.19492461883067, Battery Storage = 1027.169547712984, LT Storage = 855.9746230941533
  Node [2936;3476]: Solar = 141.0358029136748, Battery Storage = 846.2148174820487, LT Storage = 705.179014568374
  Node [3007;3498]: Solar = 126.60867024897212, Battery Storage = 759.6520214938328, LT Storage = 633.0433512448606
  Node [2944;3526]: Solar = 186.95840129630344, Battery Storage = 1121.7504077778206, LT Storage = 934.7920064815172
  Node [2899;3271]: Solar = 132.40787038306, Battery Storage = 794.44722229836, LT Storage = 662.0393519152999
  Node [2925;3270]: Solar = 116.35939886106206, Battery Storage = 698.1563931663724, LT Storage = 581.7969943053104
  Node [2861;3258]: Solar = 47.42487280092613, Battery Storage = 284.5492368055568, LT Storage = 237.12436400463065
  Node [2866;3280]: Solar = 59.356821137520875, Battery Storage = 356.14092682512523, LT Storage = 296.7841056876044
  Node [2891;3281]: Solar = 120.876623531259, Battery Storage = 725.259741187554, LT Storage = 604.383117656295
  Node [2903;3294]: Solar = 120.5345922412562, Battery Storage = 723.2075534475373, LT Storage = 602.672961206281
  Node [2924;3292]: Solar = 251.75109779958845, Battery Storage = 1510.5065867975306, LT Storage = 1258.7554889979422
  Node [2912;3290]: Solar = 145.67010067203574, Battery Storage = 874.0206040322145, LT Storage = 728.3505033601787
  Node [2912;3304]: Solar = 146.24129237296071, Battery Storage = 877.4477542377642, LT Storage = 731.2064618648036
  Node [2888;3319]: Solar = 107.42831859897848, Battery Storage = 644.5699115938709, LT Storage = 537.1415929948923
  Node [2916;3313]: Solar = 254.35540163975463, Battery Storage = 1526.1324098385278, LT Storage = 1271.7770081987733
  Node [2902;3327]: Solar = 146.03092594888372, Battery Storage = 876.1855556933024, LT Storage = 730.1546297444186
  Node [2905;3368]: Solar = 132.47293254099426, Battery Storage = 794.8375952459655, LT Storage = 662.3646627049714
  Node [2917;3367]: Solar = 133.50077402408064, Battery Storage = 801.0046441444838, LT Storage = 667.5038701204032
  Node [2914;3383]: Solar = 81.81895951315921, Battery Storage = 490.9137570789553, LT Storage = 409.09479756579606
  Node [2905;3395]: Solar = 77.20715833302039, Battery Storage = 463.2429499981223, LT Storage = 386.03579166510195
  Node [2919;3389]: Solar = 162.23167560091008, Battery Storage = 973.3900536054605, LT Storage = 811.1583780045504
  Node [2886;3385]: Solar = 104.84717358534893, Battery Storage = 629.0830415120936, LT Storage = 524.2358679267446
  Node [2921;3414]: Solar = 157.5303523409003, Battery Storage = 945.1821140454017, LT Storage = 787.6517617045015
  Node [2931;3437]: Solar = 95.67322069747152, Battery Storage = 574.0393241848292, LT Storage = 478.3661034873576
  Node [2855;3408]: Solar = 54.147499056942245, Battery Storage = 324.88499434165345, LT Storage = 270.7374952847112
  Node [2839;3404]: Solar = 51.51575733026549, Battery Storage = 309.0945439815929, LT Storage = 257.57878665132745
  Node [2899;3455]: Solar = 124.55291883607592, Battery Storage = 747.3175130164555, LT Storage = 622.7645941803796
  Node [2912;3499]: Solar = 126.59332501060184, Battery Storage = 759.559950063611, LT Storage = 632.9666250530092
  Node [2926;3495]: Solar = 131.60588404141114, Battery Storage = 789.6353042484668, LT Storage = 658.0294202070558
  Node [2918;3509]: Solar = 124.98316119779244, Battery Storage = 749.8989671867546, LT Storage = 624.9158059889622
  Node [2896;3508]: Solar = 114.45094158942806, Battery Storage = 686.7056495365683, LT Storage = 572.2547079471403
  Node [2869;3506]: Solar = 54.876846301898105, Battery Storage = 329.26107781138865, LT Storage = 274.3842315094905
  Node [2870;3487]: Solar = 86.43943345479228, Battery Storage = 518.6366007287537, LT Storage = 432.1971672739614
  Node [2882;3519]: Solar = 100.87691801021072, Battery Storage = 605.2615080612643, LT Storage = 504.3845900510536
  Node [2855;3463]: Solar = 125.40883104570588, Battery Storage = 752.4529862742353, LT Storage = 627.0441552285295
  Node [2860;3453]: Solar = 85.4187018542991, Battery Storage = 512.5122111257946, LT Storage = 427.0935092714955
  Node [2815;3438]: Solar = 62.90168384972113, Battery Storage = 377.4101030983268, LT Storage = 314.50841924860566
  Node [2818;3450]: Solar = 60.30586341451087, Battery Storage = 361.8351804870652, LT Storage = 301.52931707255436
  Node [2804;3457]: Solar = 107.92461455017327, Battery Storage = 647.5476873010397, LT Storage = 539.6230727508664
  Node [2831;3479]: Solar = 112.78702915086684, Battery Storage = 676.7221749052011, LT Storage = 563.9351457543343
  Node [2813;3481]: Solar = 160.95843113536836, Battery Storage = 965.7505868122101, LT Storage = 804.7921556768417
  Node [3253;3594]: Solar = 145.77076206920196, Battery Storage = 874.6245724152118, LT Storage = 728.8538103460098
  Node [3046;3543]: Solar = 111.98316160717825, Battery Storage = 671.8989696430694, LT Storage = 559.9158080358912
  Node [3070;3535]: Solar = 151.76678930591515, Battery Storage = 910.6007358354909, LT Storage = 758.8339465295758
  Node [3041;3553]: Solar = 419.2089119581209, Battery Storage = 2515.253471748725, LT Storage = 2096.0445597906046
  Node [3085;3569]: Solar = 176.6976322867821, Battery Storage = 1060.1857937206926, LT Storage = 883.4881614339105
  Node [3102;3605]: Solar = 162.02290763916517, Battery Storage = 972.137445834991, LT Storage = 810.1145381958258
  Node [3299;3695]: Solar = 108.17200334187024, Battery Storage = 649.0320200512215, LT Storage = 540.8600167093512
  Node [3258;3654]: Solar = 82.18152972193802, Battery Storage = 493.0891783316281, LT Storage = 410.9076486096901
  Node [3255;3664]: Solar = 36.04912510237301, Battery Storage = 216.29475061423807, LT Storage = 180.24562551186506
  Node [3257;3684]: Solar = 36.838219116735274, Battery Storage = 221.02931470041165, LT Storage = 184.19109558367637
  Node [3143;3654]: Solar = 231.44154095025644, Battery Storage = 1388.6492457015386, LT Storage = 1157.207704751282
  Node [3218;3671]: Solar = 144.51716429532033, Battery Storage = 867.102985771922, LT Storage = 722.5858214766016
  Node [3258;3694]: Solar = 28.90368465337908, Battery Storage = 173.42210792027447, LT Storage = 144.5184232668954
  Node [3264;3711]: Solar = 145.09304325455273, Battery Storage = 870.5582595273163, LT Storage = 725.4652162727637
  Node [3250;3694]: Solar = 93.08014790093054, Battery Storage = 558.4808874055832, LT Storage = 465.40073950465273
  Node [2921;3544]: Solar = 165.7499450560208, Battery Storage = 994.4996703361248, LT Storage = 828.749725280104
  Node [2924;3553]: Solar = 160.60251825177392, Battery Storage = 963.6151095106435, LT Storage = 803.0125912588696
  Node [2942;3550]: Solar = 81.11734242108199, Battery Storage = 486.7040545264919, LT Storage = 405.5867121054099
  Node [2885;3568]: Solar = 65.98853679017066, Battery Storage = 395.93122074102394, LT Storage = 329.9426839508533
  Node [2890;3574]: Solar = 147.70937838735065, Battery Storage = 886.256270324104, LT Storage = 738.5468919367532
  Node [2853;3551]: Solar = 107.2105441196976, Battery Storage = 643.2632647181856, LT Storage = 536.052720598488
  Node [2864;3557]: Solar = 41.6864235485901, Battery Storage = 250.1185412915406, LT Storage = 208.43211774295048
  Node [2870;3607]: Solar = 85.81921944282432, Battery Storage = 514.915316656946, LT Storage = 429.0960972141216
  Node [2841;3611]: Solar = 71.86501619474802, Battery Storage = 431.19009716848814, LT Storage = 359.3250809737401
  Node [2860;3629]: Solar = 155.12358188598668, Battery Storage = 930.74149131592, LT Storage = 775.6179094299334
  Node [2830;3606]: Solar = 55.55353973622439, Battery Storage = 333.3212384173463, LT Storage = 277.76769868112194
  Node [2883;3637]: Solar = 69.17203306327676, Battery Storage = 415.03219837966054, LT Storage = 345.8601653163838
  Node [2891;3648]: Solar = 104.89378889694174, Battery Storage = 629.3627333816505, LT Storage = 524.4689444847087
  Node [2916;3335]: Solar = 114.75055888604138, Battery Storage = 688.5033533162482, LT Storage = 573.7527944302069
  Node [2960;3237]: Solar = 98.77961871511368, Battery Storage = 592.6777122906822, LT Storage = 493.8980935755684
  Node [3168;3415]: Solar = 74.70153257032283, Battery Storage = 448.20919542193695, LT Storage = 373.5076628516141
  Node [2971;3287]: Solar = 53.49717733644296, Battery Storage = 320.9830640186577, LT Storage = 267.4858866822148
  Node [2970;3277]: Solar = 86.4512923577656, Battery Storage = 518.7077541465935, LT Storage = 432.256461788828
  Node [2979;3287]: Solar = 24.16801256247369, Battery Storage = 145.00807537484215, LT Storage = 120.84006281236846
  Node [2979;3298]: Solar = 86.72572036811995, Battery Storage = 520.3543222087197, LT Storage = 433.62860184059974
  Node [2964;3453]: Solar = 52.39813267337842, Battery Storage = 314.3887960402705, LT Storage = 261.9906633668921
  Node [2957;3457]: Solar = 83.13117937311978, Battery Storage = 498.78707623871867, LT Storage = 415.6558968655989
  Node [2927;3450]: Solar = 118.09778354339969, Battery Storage = 708.5867012603981, LT Storage = 590.4889177169985
  Node [3000;3489]: Solar = 85.19625606699219, Battery Storage = 511.17753640195315, LT Storage = 425.98128033496096
  Node [2890;3639]: Solar = 40.87863410025266, Battery Storage = 245.27180460151595, LT Storage = 204.3931705012633
  Node [2893;3631]: Solar = 99.08509692716854, Battery Storage = 594.5105815630112, LT Storage = 495.4254846358427
  Node [3291;3748]: Solar = 98.7109986604858, Battery Storage = 592.2659919629148, LT Storage = 493.554993302429
  Node [2862;3381]: Solar = 71.00002481492095, Battery Storage = 426.0001488895257, LT Storage = 355.00012407460474
  Node [3049;3558]: Solar = 88.17810446079064, Battery Storage = 529.0686267647438, LT Storage = 440.89052230395316
  Node [2901;3674]: Solar = 134.4404939960706, Battery Storage = 806.6429639764235, LT Storage = 672.2024699803529
  Node [2266;2979]: Solar = 98.38879316117068, Battery Storage = 590.3327589670241, LT Storage = 491.9439658058534
  Node [2291;3093]: Solar = 695.6326135221726, Battery Storage = 4173.795681133036, LT Storage = 3478.163067610863
  Node [2262;3063]: Solar = 970.7954208263218, Battery Storage = 5824.772524957931, LT Storage = 4853.977104131609
  Node [2210;3011]: Solar = 785.1240050467444, Battery Storage = 4710.744030280466, LT Storage = 3925.620025233722
  Node [2234;3037]: Solar = 711.0225922109182, Battery Storage = 4266.135553265509, LT Storage = 3555.1129610545913
  Node [2253;2949]: Solar = 809.2057419168153, Battery Storage = 4855.234451500892, LT Storage = 4046.0287095840768
  Node [2225;3023]: Solar = 678.0095303620312, Battery Storage = 4068.0571821721874, LT Storage = 3390.047651810156
  Node [2245;3085]: Solar = 955.52187368928, Battery Storage = 5733.13124213568, LT Storage = 4777.6093684464
  Node [2217;3081]: Solar = 1402.3521471092015, Battery Storage = 8414.112882655209, LT Storage = 7011.760735546008
  Node [2196;3011]: Solar = 1148.125332984646, Battery Storage = 6888.751997907877, LT Storage = 5740.62666492323
  Node [2169;3042]: Solar = 1775.2584282408898, Battery Storage = 10651.550569445339, LT Storage = 8876.292141204449
  Node [2147;3031]: Solar = 1403.2535446620311, Battery Storage = 8419.521267972186, LT Storage = 7016.267723310156
  Node [2143;3020]: Solar = 1001.2637195745156, Battery Storage = 6007.582317447093, LT Storage = 5006.318597872578
  Node [2201;3122]: Solar = 1101.8384338434128, Battery Storage = 6611.030603060477, LT Storage = 5509.192169217064
  Node [2126;3092]: Solar = 462.63297725743314, Battery Storage = 2775.797863544599, LT Storage = 2313.1648862871657
  Node [2144;3121]: Solar = 723.3957345180332, Battery Storage = 4340.374407108199, LT Storage = 3616.9786725901663
  Node [2144;3116]: Solar = 806.7180890358543, Battery Storage = 4840.308534215126, LT Storage = 4033.5904451792712
  Node [2180;3153]: Solar = 1080.895607529404, Battery Storage = 6485.373645176424, LT Storage = 5404.478037647021
  Node [2098;3143]: Solar = 814.1946009794594, Battery Storage = 4885.167605876757, LT Storage = 4070.973004897297
  Node [2074;3144]: Solar = 746.2033840764439, Battery Storage = 4477.220304458663, LT Storage = 3731.0169203822193
  Node [2090;3176]: Solar = 810.120309290145, Battery Storage = 4860.72185574087, LT Storage = 4050.601546450725
  Node [2076;3121]: Solar = 571.6767480578692, Battery Storage = 3430.060488347215, LT Storage = 2858.383740289346
  Node [2079;3106]: Solar = 693.6423976624765, Battery Storage = 4161.854385974859, LT Storage = 3468.2119883123823
  Node [2102;3102]: Solar = 555.8075654441002, Battery Storage = 3334.845392664601, LT Storage = 2779.0378272205007
  Node [2136;3079]: Solar = 1097.142403117864, Battery Storage = 6582.854418707184, LT Storage = 5485.71201558932
  Node [2215;2991]: Solar = 969.6311078871926, Battery Storage = 5817.786647323155, LT Storage = 4848.155539435963
  Node [2174;2995]: Solar = 923.9693948204108, Battery Storage = 5543.816368922465, LT Storage = 4619.846974102054
  Node [2188;2982]: Solar = 1174.836526945218, Battery Storage = 7049.019161671309, LT Storage = 5874.18263472609
  Node [2053;3166]: Solar = 394.0004115645749, Battery Storage = 2364.0024693874493, LT Storage = 1970.0020578228746
  Node [2892;3701]: Solar = 60.28472752411777, Battery Storage = 361.7083651447066, LT Storage = 301.42363762058886
  Node [2859;3729]: Solar = 142.6849007002431, Battery Storage = 856.1094042014586, LT Storage = 713.4245035012156
  Node [2838;3705]: Solar = 83.1311400802421, Battery Storage = 498.7868404814526, LT Storage = 415.65570040121054
  Node [2854;3718]: Solar = 70.18759441774493, Battery Storage = 421.12556650646957, LT Storage = 350.9379720887247
  Node [2870;3804]: Solar = 78.7449213119298, Battery Storage = 472.4695278715788, LT Storage = 393.72460655964903
  Node [2836;3765]: Solar = 87.15855000723417, Battery Storage = 522.951300043405, LT Storage = 435.79275003617084
  Node [2822;3764]: Solar = 74.10846677390492, Battery Storage = 444.65080064342953, LT Storage = 370.5423338695246
  Node [2807;3816]: Solar = 120.99924780615252, Battery Storage = 725.9954868369151, LT Storage = 604.9962390307626
  Node [2828;3807]: Solar = 62.93723794359711, Battery Storage = 377.6234276615827, LT Storage = 314.68618971798554
  Node [2916;3705]: Solar = 34.12468690335495, Battery Storage = 204.74812142012968, LT Storage = 170.62343451677475
  Node [2919;3670]: Solar = 69.931932444487, Battery Storage = 419.591594666922, LT Storage = 349.65966222243503
  Node [3206;2521]: Solar = 29.27255428616044, Battery Storage = 175.63532571696263, LT Storage = 146.36277143080218
  Node [3224;2612]: Solar = 60.74692498025601, Battery Storage = 364.48154988153607, LT Storage = 303.7346249012801
  Node [2847;3328]: Solar = 51.08828639914908, Battery Storage = 306.5297183948945, LT Storage = 255.44143199574538
  Node [2834;3340]: Solar = 25.886672076916085, Battery Storage = 155.3200324614965, LT Storage = 129.43336038458042
  Node [2885;4852]: Solar = 25.84881975818732, Battery Storage = 155.09291854912394, LT Storage = 129.24409879093662
  Node [1453;4396]: Solar = 39.55468878028156, Battery Storage = 237.32813268168934, LT Storage = 197.7734439014078
  Node [1443;4319]: Solar = 35.18799074211686, Battery Storage = 211.12794445270117, LT Storage = 175.9399537105843
  Node [1653;4317]: Solar = 33.75147193405259, Battery Storage = 202.50883160431553, LT Storage = 168.75735967026293
  Node [3203;4414]: Solar = 33.863768669795896, Battery Storage = 203.1826120187754, LT Storage = 169.31884334897947
  Node [3023;4382]: Solar = 22.27797251531371, Battery Storage = 133.66783509188227, LT Storage = 111.38986257656855
  Node [1789;3541]: Solar = 28.5014196818874, Battery Storage = 171.0085180913244, LT Storage = 142.507098409437
  Node [1331;3513]: Solar = 32.14119373508369, Battery Storage = 192.84716241050214, LT Storage = 160.70596867541843
  Node [1815;3644]: Solar = 33.313821209783875, Battery Storage = 199.88292725870326, LT Storage = 166.56910604891937
  Node [1842;3686]: Solar = 22.32599831687696, Battery Storage = 133.95598990126174, LT Storage = 111.6299915843848
  Node [2033;3335]: Solar = 73.30492430063225, Battery Storage = 439.8295458037935, LT Storage = 366.52462150316126
  Node [2027;3342]: Solar = 78.24096949112437, Battery Storage = 469.4458169467463, LT Storage = 391.20484745562186
  Node [2366;3968]: Solar = 42.52434558969402, Battery Storage = 255.14607353816413, LT Storage = 212.6217279484701
  Node [2169;3595]: Solar = 164.59535563940454, Battery Storage = 987.5721338364273, LT Storage = 822.9767781970227
  Node [1943;3400]: Solar = 101.8793783823199, Battery Storage = 611.2762702939194, LT Storage = 509.3968919115995
  Node [1957;3389]: Solar = 147.64699693277404, Battery Storage = 885.8819815966442, LT Storage = 738.2349846638703
  Node [1816;3516]: Solar = 22.161264620402523, Battery Storage = 132.96758772241515, LT Storage = 110.80632310201261
  Node [2747;3593]: Solar = 33.70869774646978, Battery Storage = 202.2521864788187, LT Storage = 168.54348873234892
  Node [2646;3605]: Solar = 70.33891328592085, Battery Storage = 422.0334797155251, LT Storage = 351.69456642960427
  Node [2654;3602]: Solar = 176.52949531704562, Battery Storage = 1059.1769719022736, LT Storage = 882.6474765852281
  Node [2643;3777]: Solar = 47.62266899157925, Battery Storage = 285.73601394947553, LT Storage = 238.11334495789626
  Node [2858;3394]: Solar = 29.489283262478168, Battery Storage = 176.935699574869, LT Storage = 147.44641631239085
  Node [1323;3825]: Solar = 21.653982285982913, Battery Storage = 129.92389371589746, LT Storage = 108.26991142991457
  Node [1325;3817]: Solar = 40.54109283068291, Battery Storage = 243.24655698409748, LT Storage = 202.70546415341457
  Node [2022;4184]: Solar = 237.65342438218613, Battery Storage = 1425.9205462931168, LT Storage = 1188.2671219109307
  Node [2012;4248]: Solar = 176.4344310917205, Battery Storage = 1058.606586550323, LT Storage = 882.1721554586026
  Node [2724;3064]: Solar = 20.51686538666649, Battery Storage = 123.10119231999893, LT Storage = 102.58432693333245
  Node [2503;3139]: Solar = 135.66118118198844, Battery Storage = 813.9670870919306, LT Storage = 678.3059059099422
  Node [2126;4216]: Solar = 160.5178495530389, Battery Storage = 963.1070973182334, LT Storage = 802.5892477651945
  Node [2126;4095]: Solar = 68.91668345286975, Battery Storage = 413.5001007172185, LT Storage = 344.5834172643487
  Node [2118;4114]: Solar = 128.0131691700154, Battery Storage = 768.0790150200924, LT Storage = 640.065845850077
  Node [2166;3850]: Solar = 96.11496055601464, Battery Storage = 576.6897633360878, LT Storage = 480.5748027800732
  Node [2019;3214]: Solar = 133.48822778833645, Battery Storage = 800.9293667300187, LT Storage = 667.4411389416822
  Node [2530;3329]: Solar = 91.16693727113076, Battery Storage = 547.0016236267845, LT Storage = 455.83468635565384
  Node [2014;3146]: Solar = 40.7255608281299, Battery Storage = 244.3533649687794, LT Storage = 203.62780414064952
  Node [1755;3274]: Solar = 33.86168092067011, Battery Storage = 203.17008552402066, LT Storage = 169.30840460335054
  Node [2434;3225]: Solar = 199.35132914666715, Battery Storage = 1196.107974880003, LT Storage = 996.7566457333357
  Node [2185;3509]: Solar = 48.91253724762039, Battery Storage = 293.4752234857224, LT Storage = 244.56268623810195
  Node [3047;3063]: Solar = 35.64376367342717, Battery Storage = 213.86258204056304, LT Storage = 178.21881836713587
  Node [2614;2616]: Solar = 22.075229135657224, Battery Storage = 132.45137481394335, LT Storage = 110.37614567828612
  Node [2952;3358]: Solar = 99.47687758612858, Battery Storage = 596.8612655167715, LT Storage = 497.3843879306429
  Node [1921;4193]: Solar = 107.7232751901112, Battery Storage = 646.3396511406672, LT Storage = 538.616375950556
  Node [1855;4274]: Solar = 46.62496813835082, Battery Storage = 279.74980883010494, LT Storage = 233.12484069175412
  Node [2002;3261]: Solar = 88.4871758352835, Battery Storage = 530.923055011701, LT Storage = 442.4358791764175
  Node [2023;3250]: Solar = 48.38978531754918, Battery Storage = 290.3387119052951, LT Storage = 241.94892658774592
  Node [2340;3074]: Solar = 251.93202236722303, Battery Storage = 1511.5921342033382, LT Storage = 1259.6601118361152
  Node [2349;3077]: Solar = 175.1476027965164, Battery Storage = 1050.8856167790984, LT Storage = 875.738013982582
  Node [2265;2898]: Solar = 209.33238208070335, Battery Storage = 1255.99429248422, LT Storage = 1046.6619104035167
  Node [2281;2922]: Solar = 180.94029843730544, Battery Storage = 1085.6417906238325, LT Storage = 904.7014921865273
  Node [2109;3187]: Solar = 76.56426085142664, Battery Storage = 459.38556510855983, LT Storage = 382.8213042571332
  Node [3020;4472]: Solar = 30.19859582923067, Battery Storage = 181.19157497538401, LT Storage = 150.99297914615335
  Node [2856;3389]: Solar = 43.052330735519554, Battery Storage = 258.31398441311734, LT Storage = 215.26165367759776
  Node [1767;3536]: Solar = 20.968238149664355, Battery Storage = 125.80942889798612, LT Storage = 104.84119074832178
  Node [2123;4155]: Solar = 117.76698850028204, Battery Storage = 706.6019310016923, LT Storage = 588.8349425014102
  Node [3074;2729]: Solar = 34.364401927643925, Battery Storage = 206.18641156586355, LT Storage = 171.82200963821964
  Node [2558;2592]: Solar = 20.8588090077246, Battery Storage = 125.15285404634758, LT Storage = 104.294045038623
  Node [3190;3063]: Solar = 35.894394100843954, Battery Storage = 215.36636460506372, LT Storage = 179.47197050421977
  Node [3108;2680]: Solar = 34.08464461621534, Battery Storage = 204.50786769729206, LT Storage = 170.4232230810767
  Node [2462;2563]: Solar = 49.2615250191911, Battery Storage = 295.5691501151466, LT Storage = 246.30762509595547
  Node [2595;2562]: Solar = 20.697692125828, Battery Storage = 124.18615275496799, LT Storage = 103.48846062914
  Node [627;3912]: Solar = 45.57156975906241, Battery Storage = 273.4294185543745, LT Storage = 227.85784879531207
  Node [691;3901]: Solar = 45.11696667800173, Battery Storage = 270.70180006801036, LT Storage = 225.58483339000867
  Node [1896;3330]: Solar = 137.73016285448875, Battery Storage = 826.3809771269325, LT Storage = 688.6508142724438
  Node [2297;2928]: Solar = 206.15223528447927, Battery Storage = 1236.9134117068756, LT Storage = 1030.7611764223964
  Node [2629;3898]: Solar = 74.35384419129466, Battery Storage = 446.12306514776793, LT Storage = 371.7692209564733
  Node [2794;3600]: Solar = 40.3004599252022, Battery Storage = 241.80275955121317, LT Storage = 201.502299626011
  Node [1571;4232]: Solar = 53.50645045201908, Battery Storage = 321.0387027121145, LT Storage = 267.5322522600954
  Node [1412;3673]: Solar = 27.061037193157393, Battery Storage = 162.36622315894436, LT Storage = 135.30518596578696
  Node [1424;4264]: Solar = 43.413775096658235, Battery Storage = 260.4826505799494, LT Storage = 217.06887548329118
  Node [2524;3310]: Solar = 124.4370134331232, Battery Storage = 746.6220805987392, LT Storage = 622.185067165616
  Node [2510;3303]: Solar = 137.3253367661854, Battery Storage = 823.9520205971123, LT Storage = 686.6266838309269
  Node [2523;3327]: Solar = 185.68823089995573, Battery Storage = 1114.1293853997345, LT Storage = 928.4411544997786
  Node [1927;3919]: Solar = 94.60538251063666, Battery Storage = 567.6322950638199, LT Storage = 473.0269125531833
  Node [1971;3939]: Solar = 115.29431925919884, Battery Storage = 691.765915555193, LT Storage = 576.4715962959942
  Node [1955;3816]: Solar = 83.47722671342808, Battery Storage = 500.8633602805685, LT Storage = 417.3861335671404
  Node [2892;2967]: Solar = 24.654370180258702, Battery Storage = 147.92622108155223, LT Storage = 123.2718509012935
  Node [2480;3093]: Solar = 29.294279082624023, Battery Storage = 175.76567449574412, LT Storage = 146.47139541312012
  Node [1765;4106]: Solar = 36.93693622098984, Battery Storage = 221.62161732593904, LT Storage = 184.68468110494922
  Node [2241;2905]: Solar = 40.509867114788975, Battery Storage = 243.05920268873385, LT Storage = 202.54933557394486
  Node [2262;2904]: Solar = 134.6829757375289, Battery Storage = 808.0978544251734, LT Storage = 673.4148786876444
  Node [2959;3326]: Solar = 93.356379760675, Battery Storage = 560.13827856405, LT Storage = 466.781898803375
  Node [2968;3330]: Solar = 69.30048090496294, Battery Storage = 415.80288542977763, LT Storage = 346.50240452481466
  Node [2866;3618]: Solar = 50.0330449690652, Battery Storage = 300.1982698143912, LT Storage = 250.165224845326
  Node [2875;3625]: Solar = 57.54868988203604, Battery Storage = 345.29213929221623, LT Storage = 287.7434494101802
  Node [1832;3516]: Solar = 21.715130200515965, Battery Storage = 130.29078120309578, LT Storage = 108.57565100257983
  Node [2729;3527]: Solar = 34.22841088717134, Battery Storage = 205.37046532302804, LT Storage = 171.14205443585672
  Node [2622;4244]: Solar = 118.83005204427566, Battery Storage = 712.980312265654, LT Storage = 594.1502602213783
  Node [2741;3352]: Solar = 39.58160680244036, Battery Storage = 237.48964081464217, LT Storage = 197.90803401220182
  Node [2746;3344]: Solar = 1165.0, Battery Storage = 6990.0, LT Storage = 5825.0
  Node [1450;3473]: Solar = 36.395510990734, Battery Storage = 218.373065944404, LT Storage = 181.97755495367002
  Node [2438;3372]: Solar = 98.74471566407384, Battery Storage = 592.468293984443, LT Storage = 493.7235783203692
  Node [2440;3333]: Solar = 146.6882413678699, Battery Storage = 880.1294482072194, LT Storage = 733.4412068393494
  Node [2141;3298]: Solar = 86.04629262064174, Battery Storage = 516.2777557238504, LT Storage = 430.2314631032087
  Node [1972;3332]: Solar = 189.22701103632588, Battery Storage = 1135.3620662179553, LT Storage = 946.1350551816294
  Node [1993;3334]: Solar = 38.673985627872405, Battery Storage = 232.04391376723441, LT Storage = 193.36992813936203
  Node [2726;4042]: Solar = 63.51606081094885, Battery Storage = 381.0963648656931, LT Storage = 317.58030405474426
  Node [2852;2605]: Solar = 51.42036026486084, Battery Storage = 308.522161589165, LT Storage = 257.1018013243042
  Node [2725;2656]: Solar = 21.105267665874894, Battery Storage = 126.63160599524937, LT Storage = 105.52633832937447
  Node [2738;2671]: Solar = 29.760019414319412, Battery Storage = 178.56011648591647, LT Storage = 148.80009707159707
  Node [2518;2792]: Solar = 46.618488454285874, Battery Storage = 279.71093072571523, LT Storage = 233.09244227142938
  Node [2518;2801]: Solar = 48.499034999677065, Battery Storage = 290.9942099980624, LT Storage = 242.49517499838532
  Node [2962;2530]: Solar = 26.443520743146227, Battery Storage = 158.66112445887737, LT Storage = 132.21760371573114
  Node [3214;2795]: Solar = 73.29488502006532, Battery Storage = 439.76931012039194, LT Storage = 366.4744251003266
  Node [3221;2793]: Solar = 55.96490469755195, Battery Storage = 335.7894281853117, LT Storage = 279.82452348775973
  Node [3220;2777]: Solar = 45.2347447336768, Battery Storage = 271.4084684020608, LT Storage = 226.17372366838399
  Node [2119;3718]: Solar = 140.2016590213463, Battery Storage = 841.2099541280778, LT Storage = 701.0082951067316
  Node [3172;3019]: Solar = 28.203660910110912, Battery Storage = 169.22196546066547, LT Storage = 141.01830455055455
  Node [2369;2897]: Solar = 33.61616922255564, Battery Storage = 201.69701533533384, LT Storage = 168.0808461127782
  Node [2785;2632]: Solar = 22.513201242721028, Battery Storage = 135.07920745632617, LT Storage = 112.56600621360514
  Node [2160;3018]: Solar = 1289.89931660691, Battery Storage = 7739.395899641459, LT Storage = 6449.49658303455
  Node [2243;2999]: Solar = 681.716046625521, Battery Storage = 4090.2962797531263, LT Storage = 3408.580233127605
  Node [2244;3046]: Solar = 854.8969957464783, Battery Storage = 5129.38197447887, LT Storage = 4274.484978732391
  Node [2237;3001]: Solar = 545.0099122553585, Battery Storage = 3270.059473532151, LT Storage = 2725.0495612767922
  Node [2551;2339]: Solar = 32.9119704650513, Battery Storage = 197.47182279030778, LT Storage = 164.5598523252565
  Node [2499;2317]: Solar = 33.0291636696643, Battery Storage = 198.1749820179858, LT Storage = 165.14581834832148
  Node [2584;2390]: Solar = 32.82113199034222, Battery Storage = 196.92679194205328, LT Storage = 164.1056599517111
  Node [2495;2365]: Solar = 20.825717965654697, Battery Storage = 124.95430779392818, LT Storage = 104.12858982827348
  Node [2611;2434]: Solar = 28.34164040369312, Battery Storage = 170.04984242215872, LT Storage = 141.7082020184656
  Node [2652;2454]: Solar = 29.62180781104794, Battery Storage = 177.73084686628764, LT Storage = 148.1090390552397
  Node [2515;2442]: Solar = 26.077823916390148, Battery Storage = 156.4669434983409, LT Storage = 130.38911958195075
  Node [2517;2471]: Solar = 20.19893300239257, Battery Storage = 121.19359801435543, LT Storage = 100.99466501196287
  Node [2680;2501]: Solar = 46.13394574092995, Battery Storage = 276.8036744455797, LT Storage = 230.66972870464977
  Node [2666;2510]: Solar = 23.27080297334127, Battery Storage = 139.62481784004763, LT Storage = 116.35401486670634
  Node [2513;2494]: Solar = 32.084275048244855, Battery Storage = 192.50565028946914, LT Storage = 160.42137524122427
  Node [2570;2506]: Solar = 38.2059162965562, Battery Storage = 229.23549777933718, LT Storage = 191.029581482781
  Node [2621;2525]: Solar = 22.554038758694094, Battery Storage = 135.32423255216457, LT Storage = 112.77019379347047
  Node [2416;2533]: Solar = 25.440700752005796, Battery Storage = 152.64420451203478, LT Storage = 127.20350376002898
  Node [2579;2507]: Solar = 29.209879067277896, Battery Storage = 175.25927440366738, LT Storage = 146.04939533638947
  Node [2577;2514]: Solar = 24.692585090376816, Battery Storage = 148.1555105422609, LT Storage = 123.46292545188408
  Node [2042;2233]: Solar = 95.0, Battery Storage = 570.0, LT Storage = 475.0
  Node [1929;2296]: Solar = 172.0, Battery Storage = 1032.0, LT Storage = 860.0
  Node [1921;2286]: Solar = 74.5, Battery Storage = 447.0, LT Storage = 372.5
  Node [1892;2288]: Solar = 183.0, Battery Storage = 1098.0, LT Storage = 915.0
  Node [1931;2307]: Solar = 30.0, Battery Storage = 180.0, LT Storage = 150.0
  Node [2064;2148]: Solar = 138.0, Battery Storage = 828.0, LT Storage = 690.0
  Node [3047;1899]: Solar = 36.76829892531871, Battery Storage = 220.60979355191228, LT Storage = 183.84149462659354
  Node [3007;1900]: Solar = 23.48982659534417, Battery Storage = 140.93895957206502, LT Storage = 117.44913297672085
  Node [3031;1872]: Solar = 39.93658170913088, Battery Storage = 239.61949025478526, LT Storage = 199.68290854565439
  Node [2988;1895]: Solar = 25.60504713749259, Battery Storage = 153.63028282495554, LT Storage = 128.02523568746295
  Node [3105;1926]: Solar = 33.9768789435962, Battery Storage = 203.86127366157717, LT Storage = 169.884394717981
  Node [3099;1911]: Solar = 28.8785524756261, Battery Storage = 173.27131485375662, LT Storage = 144.3927623781305
  Node [2968;1973]: Solar = 22.758372080313876, Battery Storage = 136.55023248188326, LT Storage = 113.79186040156938
  Node [2987;1939]: Solar = 34.86751703838975, Battery Storage = 209.2051022303385, LT Storage = 174.33758519194873
  Node [3008;2093]: Solar = 34.88083060106724, Battery Storage = 209.28498360640344, LT Storage = 174.40415300533618
  Node [3042;2143]: Solar = 27.426307291657302, Battery Storage = 164.5578437499438, LT Storage = 137.13153645828652
  Node [3014;2111]: Solar = 56.712302333291746, Battery Storage = 340.2738139997505, LT Storage = 283.5615116664587
  Node [3177;2254]: Solar = 50.50777461008221, Battery Storage = 303.04664766049325, LT Storage = 252.53887305041104
  Node [3181;2238]: Solar = 21.970163395260876, Battery Storage = 131.82098037156527, LT Storage = 109.85081697630437
  Node [3135;2290]: Solar = 60.78431440006203, Battery Storage = 364.70588640037215, LT Storage = 303.92157200031016
  Node [3066;2266]: Solar = 176.8712664239763, Battery Storage = 1061.2275985438578, LT Storage = 884.3563321198815
  Node [3062;2226]: Solar = 24.905913801830117, Battery Storage = 149.43548281098072, LT Storage = 124.52956900915058
  Node [3052;2255]: Solar = 144.33285474762448, Battery Storage = 865.9971284857469, LT Storage = 721.6642737381223
  Node [3164;2431]: Solar = 64.86327240266664, Battery Storage = 389.17963441599983, LT Storage = 324.3163620133332
  Node [3081;2336]: Solar = 71.65592326371271, Battery Storage = 429.93553958227625, LT Storage = 358.2796163185635
  Node [3094;2410]: Solar = 61.82111774703406, Battery Storage = 370.92670648220434, LT Storage = 309.1055887351703
  Node [3025;2141]: Solar = 203.1071342192784, Battery Storage = 1218.6428053156706, LT Storage = 1015.535671096392
  Node [2988;1873]: Solar = 25.80586769513892, Battery Storage = 154.83520617083354, LT Storage = 129.0293384756946
  Node [3168;2417]: Solar = 30.3007846127502, Battery Storage = 181.8047076765012, LT Storage = 151.503923063751
  Node [3225;2418]: Solar = 62.73282899133466, Battery Storage = 376.39697394800794, LT Storage = 313.6641449566733
  Node [3219;2410]: Solar = 24.640829021918588, Battery Storage = 147.84497413151152, LT Storage = 123.20414510959294
  Node [3068;2299]: Solar = 24.27235782274901, Battery Storage = 145.63414693649406, LT Storage = 121.36178911374506
  Node [3007;2076]: Solar = 20.999465626632222, Battery Storage = 125.99679375979333, LT Storage = 104.99732813316112
  Node [3038;1883]: Solar = 27.810125832901857, Battery Storage = 166.86075499741114, LT Storage = 139.05062916450927
  Node [3115;1843]: Solar = 51.55834693444558, Battery Storage = 309.3500816066735, LT Storage = 257.7917346722279
  Node [3111;2225]: Solar = 20.0006454974869, Battery Storage = 120.0038729849214, LT Storage = 100.0032274874345
  Node [3091;2363]: Solar = 47.64262633159751, Battery Storage = 285.8557579895851, LT Storage = 238.21313165798756
  Node [3055;2228]: Solar = 26.353417347177423, Battery Storage = 158.12050408306453, LT Storage = 131.76708673588712
  Node [3051;2107]: Solar = 38.02670105332858, Battery Storage = 228.16020631997148, LT Storage = 190.13350526664289
  Node [2998;1881]: Solar = 21.83314853486999, Battery Storage = 130.99889120921995, LT Storage = 109.16574267434996
  Node [3197;2387]: Solar = 27.73674329452388, Battery Storage = 166.42045976714329, LT Storage = 138.6837164726194
  Node [3010;2005]: Solar = 23.164761292906423, Battery Storage = 138.98856775743855, LT Storage = 115.82380646453211
  Node [3016;2022]: Solar = 23.18999526825092, Battery Storage = 139.13997160950552, LT Storage = 115.94997634125461
  Node [2987;1902]: Solar = 57.27997323768954, Battery Storage = 343.6798394261372, LT Storage = 286.3998661884477
  Node [3195;2277]: Solar = 23.29104597732394, Battery Storage = 139.74627586394365, LT Storage = 116.45522988661969
  Node [3110;1941]: Solar = 20.846111770924963, Battery Storage = 125.07667062554978, LT Storage = 104.23055885462482
  Node [3028;2128]: Solar = 34.92185274453297, Battery Storage = 209.53111646719782, LT Storage = 174.60926372266485
  Node [3016;2103]: Solar = 88.73230751511298, Battery Storage = 532.3938450906778, LT Storage = 443.6615375755649
  Node [3051;2267]: Solar = 43.96006417448152, Battery Storage = 263.76038504688916, LT Storage = 219.8003208724076
  Node [3061;2283]: Solar = 23.19438129306739, Battery Storage = 139.16628775840434, LT Storage = 115.97190646533696
  Node [3102;2397]: Solar = 32.32510007504821, Battery Storage = 193.95060045028927, LT Storage = 161.62550037524107
  Node [3092;2422]: Solar = 42.69529141802372, Battery Storage = 256.17174850814234, LT Storage = 213.4764570901186
  Node [3034;1846]: Solar = 26.13669541688361, Battery Storage = 156.82017250130167, LT Storage = 130.68347708441806
  Node [3096;2394]: Solar = 29.26344991636139, Battery Storage = 175.58069949816834, LT Storage = 146.31724958180695
  Node [3121;1871]: Solar = 20.322493302345315, Battery Storage = 121.93495981407189, LT Storage = 101.61246651172658
  Node [1513;2530]: Solar = 49.0, Battery Storage = 294.0, LT Storage = 245.0
  Node [2571;2392]: Solar = 21.87055980655358, Battery Storage = 131.22335883932146, LT Storage = 109.3527990327679
  Node [3081;2315]: Solar = 24.4088975779066, Battery Storage = 146.4533854674396, LT Storage = 122.044487889533
  Node [3086;2322]: Solar = 57.021276541616665, Battery Storage = 342.1276592497, LT Storage = 285.10638270808334
  Node [3100;2321]: Solar = 23.358171920312248, Battery Storage = 140.1490315218735, LT Storage = 116.79085960156124
  Node [3113;2354]: Solar = 29.263238349242553, Battery Storage = 175.5794300954553, LT Storage = 146.31619174621275
  Node [3093;2331]: Solar = 62.93037964221798, Battery Storage = 377.58227785330786, LT Storage = 314.6518982110899
  Node [3121;2383]: Solar = 30.395638715082196, Battery Storage = 182.37383229049317, LT Storage = 151.97819357541098
  Node [3124;2395]: Solar = 29.949090955810274, Battery Storage = 179.69454573486163, LT Storage = 149.74545477905136
  Node [2993;1907]: Solar = 34.03970189820066, Battery Storage = 204.23821138920397, LT Storage = 170.1985094910033
  Node [2592;2507]: Solar = 22.99470698086772, Battery Storage = 137.9682418852063, LT Storage = 114.97353490433859
  Node [3151;2311]: Solar = 44.30708385225241, Battery Storage = 265.84250311351445, LT Storage = 221.53541926126206
  Node [3192;2365]: Solar = 54.763338092549, Battery Storage = 328.580028555294, LT Storage = 273.816690462745
  Node [3000;1912]: Solar = 23.79493591402852, Battery Storage = 142.76961548417114, LT Storage = 118.9746795701426
  Node [3143;4720]: Solar = 39.69395525936444, Battery Storage = 238.16373155618663, LT Storage = 198.46977629682218
  Node [2198;2971]: Solar = 565.9340399223861, Battery Storage = 3395.6042395343165, LT Storage = 2829.6701996119305
  Node [1264;4396]: Solar = 38.993387554522194, Battery Storage = 233.96032532713315, LT Storage = 194.96693777261098
  Node [2591;3649]: Solar = 101.42327864442396, Battery Storage = 608.5396718665438, LT Storage = 507.11639322211977
  Node [2613;3629]: Solar = 72.4782528554508, Battery Storage = 434.8695171327048, LT Storage = 362.39126427725404
  Node [2056;3174]: Solar = 278.9420142468728, Battery Storage = 1673.652085481237, LT Storage = 1394.710071234364
  Node [3652;2452]: Solar = 23.05553928964883, Battery Storage = 138.33323573789298, LT Storage = 115.27769644824416
  Node [3655;2462]: Solar = 48.925930156865086, Battery Storage = 293.5555809411905, LT Storage = 244.62965078432543
  Node [3295;2427]: Solar = 76.26830160366642, Battery Storage = 457.60980962199847, LT Storage = 381.3415080183321
  Node [3595;2366]: Solar = 71.94188444264677, Battery Storage = 431.6513066558806, LT Storage = 359.70942221323384
  Node [3321;2729]: Solar = 77.59126926283398, Battery Storage = 465.54761557700385, LT Storage = 387.9563463141699
  Node [3322;2739]: Solar = 71.80200877377779, Battery Storage = 430.8120526426667, LT Storage = 359.01004386888894
  Node [3334;2507]: Solar = 63.54244402781397, Battery Storage = 381.2546641668838, LT Storage = 317.71222013906987
  Node [3336;2674]: Solar = 37.015490083365655, Battery Storage = 222.09294050019395, LT Storage = 185.07745041682827
  Node [3292;2806]: Solar = 37.84653542283888, Battery Storage = 227.0792125370333, LT Storage = 189.23267711419442
  Node [3300;2646]: Solar = 26.34768247737301, Battery Storage = 158.08609486423805, LT Storage = 131.73841238686504
  Node [3657;2401]: Solar = 29.38205539574314, Battery Storage = 176.29233237445885, LT Storage = 146.9102769787157
  Node [3692;2420]: Solar = 20.923768368782913, Battery Storage = 125.54261021269747, LT Storage = 104.61884184391457
  Node [3694;2411]: Solar = 36.533148701948015, Battery Storage = 219.19889221168808, LT Storage = 182.66574350974008
  Node [3535;2449]: Solar = 23.87344808690206, Battery Storage = 143.24068852141235, LT Storage = 119.3672404345103
  Node [3312;3548]: Solar = 69.19625390053173, Battery Storage = 415.1775234031904, LT Storage = 345.9812695026586
  Node [3310;3609]: Solar = 195.11298450097857, Battery Storage = 1170.6779070058715, LT Storage = 975.5649225048928
  Node [3311;3564]: Solar = 91.77117294233392, Battery Storage = 550.6270376540035, LT Storage = 458.8558647116696
  Node [3312;3556]: Solar = 80.83986752144672, Battery Storage = 485.03920512868035, LT Storage = 404.1993376072336
  Node [3627;4535]: Solar = 60.22758094511305, Battery Storage = 361.36548567067825, LT Storage = 301.13790472556525
  Node [3635;4543]: Solar = 86.37666728761695, Battery Storage = 518.2600037257017, LT Storage = 431.88333643808477
  Node [3201;4563]: Solar = 22.059112507723626, Battery Storage = 132.35467504634175, LT Storage = 110.29556253861813
  Node [3244;4568]: Solar = 41.177850787422784, Battery Storage = 247.0671047245367, LT Storage = 205.88925393711392
  Node [3231;4577]: Solar = 44.13281121573498, Battery Storage = 264.7968672944099, LT Storage = 220.66405607867492
  Node [3279;2723]: Solar = 26.16808835332053, Battery Storage = 157.0085301199232, LT Storage = 130.84044176660265
  Node [3265;2706]: Solar = 35.17913671078788, Battery Storage = 211.0748202647273, LT Storage = 175.8956835539394
  Node [3326;2677]: Solar = 40.90468480760152, Battery Storage = 245.42810884560913, LT Storage = 204.5234240380076
  Node [3300;2774]: Solar = 33.656133809221274, Battery Storage = 201.93680285532764, LT Storage = 168.28066904610637
  Node [3315;2783]: Solar = 67.2347076082152, Battery Storage = 403.4082456492912, LT Storage = 336.17353804107603
  Node [3301;2785]: Solar = 35.4010184006058, Battery Storage = 212.40611040363478, LT Storage = 177.005092003029
  Node [3293;2474]: Solar = 79.60051957906971, Battery Storage = 477.60311747441824, LT Storage = 398.0025978953486
  Node [3524;2471]: Solar = 44.22508101170478, Battery Storage = 265.35048607022867, LT Storage = 221.1254050585239
  Node [3687;2430]: Solar = 27.60296775119368, Battery Storage = 165.61780650716207, LT Storage = 138.0148387559684
  Node [3509;2171]: Solar = 139.8342518848034, Battery Storage = 839.0055113088204, LT Storage = 699.171259424017
  Node [3152;1948]: Solar = 26.18789386411149, Battery Storage = 157.12736318466895, LT Storage = 130.93946932055746
  Node [3223;2149]: Solar = 82.14470475974478, Battery Storage = 492.8682285584687, LT Storage = 410.72352379872393
  Node [3199;2184]: Solar = 29.579021838659287, Battery Storage = 177.47413103195572, LT Storage = 147.89510919329643
  Node [3220;2394]: Solar = 22.73743525539085, Battery Storage = 136.4246115323451, LT Storage = 113.68717627695425
  Node [3313;2374]: Solar = 22.77917337189444, Battery Storage = 136.67504023136664, LT Storage = 113.8958668594722
  Node [3177;2079]: Solar = 24.188070840773115, Battery Storage = 145.12842504463867, LT Storage = 120.94035420386558
  Node [3778;2071]: Solar = 21.692031523521344, Battery Storage = 130.15218914112808, LT Storage = 108.46015761760671
  Node [3772;2057]: Solar = 27.86887800250428, Battery Storage = 167.21326801502568, LT Storage = 139.34439001252142
  Node [3163;1982]: Solar = 20.516345570259457, Battery Storage = 123.09807342155673, LT Storage = 102.58172785129729
  Node [3782;2022]: Solar = 49.221341827165354, Battery Storage = 295.3280509629921, LT Storage = 246.10670913582678
  Node [3730;2338]: Solar = 140.58349170226637, Battery Storage = 843.5009502135982, LT Storage = 702.9174585113319
  Node [3743;2352]: Solar = 21.77642757755006, Battery Storage = 130.65856546530034, LT Storage = 108.8821378877503
  Node [3787;2315]: Solar = 56.05792694802956, Battery Storage = 336.3475616881774, LT Storage = 280.2896347401478
  Node [3512;2339]: Solar = 122.89381820994012, Battery Storage = 737.3629092596407, LT Storage = 614.4690910497006
  Node [3488;2335]: Solar = 58.26371576007803, Battery Storage = 349.5822945604682, LT Storage = 291.3185788003901
  Node [3724;2344]: Solar = 34.64751365990814, Battery Storage = 207.88508195944885, LT Storage = 173.23756829954073
  Node [3739;2342]: Solar = 23.248840660075203, Battery Storage = 139.49304396045122, LT Storage = 116.24420330037601
  Node [3568;2139]: Solar = 55.78994459004062, Battery Storage = 334.7396675402437, LT Storage = 278.94972295020307
  Node [3670;1878]: Solar = 26.17040528284058, Battery Storage = 157.0224316970435, LT Storage = 130.8520264142029
  Node [3487;1751]: Solar = 23.4, Battery Storage = 140.39999999999998, LT Storage = 117.0
  Node [3431;1758]: Solar = 288.76, Battery Storage = 1732.56, LT Storage = 1443.8
  Node [3329;2072]: Solar = 77.78890401067481, Battery Storage = 466.7334240640489, LT Storage = 388.94452005337405
  Node [3732;2103]: Solar = 20.564596254246403, Battery Storage = 123.38757752547842, LT Storage = 102.82298127123201
  Node [3723;2106]: Solar = 20.979996659707727, Battery Storage = 125.87997995824637, LT Storage = 104.89998329853863
  Node [3691;1977]: Solar = 22.13833193789978, Battery Storage = 132.82999162739867, LT Storage = 110.69165968949889
  Node [3704;1972]: Solar = 188.61002070069836, Battery Storage = 1131.6601242041902, LT Storage = 943.0501035034918
  Node [3217;1835]: Solar = 21.85, Battery Storage = 131.10000000000002, LT Storage = 109.25
  Node [1795;3540]: Solar = 77.41063149490586, Battery Storage = 464.46378896943514, LT Storage = 387.05315747452926
  Node [2525;3283]: Solar = 132.8750262703584, Battery Storage = 797.2501576221505, LT Storage = 664.375131351792
  Node [2527;3272]: Solar = 125.39413792850856, Battery Storage = 752.3648275710514, LT Storage = 626.9706896425428
  Node [2492;3256]: Solar = 202.9604318608964, Battery Storage = 1217.7625911653784, LT Storage = 1014.802159304482
  Node [2177;3355]: Solar = 277.32209761978794, Battery Storage = 1663.9325857187278, LT Storage = 1386.6104880989396
  Node [2694;3358]: Solar = 77.51333788538366, Battery Storage = 465.080027312302, LT Storage = 387.5666894269183
  Node [2449;3131]: Solar = 131.85228876448798, Battery Storage = 791.1137325869279, LT Storage = 659.2614438224399
  Node [2459;3137]: Solar = 151.69752713413948, Battery Storage = 910.1851628048369, LT Storage = 758.4876356706974
  Node [1662;4204]: Solar = 32.16777452005359, Battery Storage = 193.00664712032153, LT Storage = 160.83887260026796
  Node [2371;3962]: Solar = 72.1714311780898, Battery Storage = 433.02858706853885, LT Storage = 360.857155890449
  Node [2380;3987]: Solar = 93.78230288276448, Battery Storage = 562.6938172965869, LT Storage = 468.91151441382243
  Node [1259;3719]: Solar = 20.840880510628327, Battery Storage = 125.04528306376997, LT Storage = 104.20440255314163
  Node [3233;2503]: Solar = 26.32960539047586, Battery Storage = 157.97763234285514, LT Storage = 131.6480269523793
  Node [2837;3811]: Solar = 49.74565200580959, Battery Storage = 298.47391203485756, LT Storage = 248.72826002904793
  Node [2852;3724]: Solar = 99.96094208118195, Battery Storage = 599.7656524870918, LT Storage = 499.80471040590976
  Node [2916;4697]: Solar = 58.850387126125696, Battery Storage = 353.1023227567542, LT Storage = 294.2519356306285
  Node [2079;3175]: Solar = 655.0047402539624, Battery Storage = 3930.0284415237743, LT Storage = 3275.0237012698117
  Node [2066;3182]: Solar = 166.3262921670553, Battery Storage = 997.9577530023319, LT Storage = 831.6314608352765
  Node [2864;3586]: Solar = 88.90938188126901, Battery Storage = 533.456291287614, LT Storage = 444.5469094063451
  Node [2865;3594]: Solar = 59.00165152604101, Battery Storage = 354.00990915624607, LT Storage = 295.00825763020504
  Node [2976;3553]: Solar = 62.128207313125735, Battery Storage = 372.7692438787544, LT Storage = 310.64103656562867
  Node [3530;3884]: Solar = 64.8352571518153, Battery Storage = 389.01154291089176, LT Storage = 324.1762857590765
  Node [2652;3987]: Solar = 89.0263360485177, Battery Storage = 534.1580162911063, LT Storage = 445.1316802425885
  Node [2661;3981]: Solar = 51.48182911640264, Battery Storage = 308.89097469841585, LT Storage = 257.4091455820132
  Node [2663;4024]: Solar = 90.02370796638212, Battery Storage = 540.1422477982927, LT Storage = 450.1185398319106
  Node [2673;4023]: Solar = 40.87602913178245, Battery Storage = 245.25617479069473, LT Storage = 204.38014565891226
  Node [2936;2573]: Solar = 29.65571561153729, Battery Storage = 177.93429366922373, LT Storage = 148.27857805768645
  Node [2741;2507]: Solar = 23.475560370191477, Battery Storage = 140.85336222114887, LT Storage = 117.37780185095738
  Node [2350;2861]: Solar = 24.533678171531665, Battery Storage = 147.20206902919, LT Storage = 122.66839085765832
  Node [3116;3040]: Solar = 98.97804137393292, Battery Storage = 593.8682482435976, LT Storage = 494.8902068696646
  Node [2649;2521]: Solar = 20.866523826544334, Battery Storage = 125.199142959266, LT Storage = 104.33261913272167
  Node [2915;2574]: Solar = 21.28735575543236, Battery Storage = 127.72413453259415, LT Storage = 106.43677877716179
  Node [2842;2680]: Solar = 69.34304654787519, Battery Storage = 416.05827928725114, LT Storage = 346.71523273937595
  Node [3077;2986]: Solar = 30.87584939998941, Battery Storage = 185.25509639993646, LT Storage = 154.37924699994704
  Node [3018;2800]: Solar = 34.1535097220483, Battery Storage = 204.9210583322898, LT Storage = 170.76754861024148
  Node [3022;2790]: Solar = 32.902508652541655, Battery Storage = 197.41505191524993, LT Storage = 164.51254326270828
  Node [2831;2767]: Solar = 476.0801039522211, Battery Storage = 2856.4806237133266, LT Storage = 2380.4005197611054
  Node [3136;2853]: Solar = 27.73042425187569, Battery Storage = 166.38254551125414, LT Storage = 138.65212125937845
  Node [2567;2911]: Solar = 52.301625541926256, Battery Storage = 313.80975325155754, LT Storage = 261.50812770963125
  Node [2520;2837]: Solar = 24.926692148248776, Battery Storage = 149.56015288949266, LT Storage = 124.63346074124388
  Node [3122;3063]: Solar = 40.59510834033848, Battery Storage = 243.57065004203088, LT Storage = 202.97554170169238
  Node [2569;2844]: Solar = 23.94950056747874, Battery Storage = 143.69700340487245, LT Storage = 119.7475028373937
  Node [3077;4746]: Solar = 35.216360503085475, Battery Storage = 211.29816301851287, LT Storage = 176.08180251542737
  Node [3086;4752]: Solar = 33.991184007095086, Battery Storage = 203.94710404257052, LT Storage = 169.95592003547543
  Node [3096;4685]: Solar = 42.507433025559614, Battery Storage = 255.0445981533577, LT Storage = 212.53716512779806
  Node [3122;4618]: Solar = 193.2384378239265, Battery Storage = 1159.430626943559, LT Storage = 966.1921891196324
  Node [3132;4630]: Solar = 107.86933744452892, Battery Storage = 647.2160246671735, LT Storage = 539.3466872226446
  Node [2358;2989]: Solar = 157.96428110140283, Battery Storage = 947.785686608417, LT Storage = 789.8214055070141
  Node [2364;2986]: Solar = 214.59914100930897, Battery Storage = 1287.5948460558538, LT Storage = 1072.9957050465448
  Node [2628;3719]: Solar = 52.12020742315546, Battery Storage = 312.72124453893275, LT Storage = 260.60103711577733
  Node [2617;3719]: Solar = 95.92829162926306, Battery Storage = 575.5697497755783, LT Storage = 479.6414581463153
  Node [2626;3882]: Solar = 39.610703800108936, Battery Storage = 237.66422280065362, LT Storage = 198.05351900054467
  Node [2634;3883]: Solar = 83.05031476369699, Battery Storage = 498.30188858218196, LT Storage = 415.2515738184849
  Node [3495;2502]: Solar = 20.440813171607292, Battery Storage = 122.64487902964376, LT Storage = 102.20406585803646
  Node [2691;4114]: Solar = 80.52927463452566, Battery Storage = 483.17564780715395, LT Storage = 402.64637317262833
  Node [2283;3134]: Solar = 96.46474313558576, Battery Storage = 578.7884588135146, LT Storage = 482.3237156779288
  Node [2288;3125]: Solar = 267.2381393527101, Battery Storage = 1603.4288361162608, LT Storage = 1336.1906967635505
  Node [2966;3339]: Solar = 76.05590707273157, Battery Storage = 456.3354424363894, LT Storage = 380.2795353636578
  Node [2569;2533]: Solar = 26.10536081479968, Battery Storage = 156.6321648887981, LT Storage = 130.5268040739984
  Node [3148;3073]: Solar = 50.01704476780721, Battery Storage = 300.10226860684327, LT Storage = 250.08522383903602
  Node [3152;3069]: Solar = 53.3413115736768, Battery Storage = 320.0478694420608, LT Storage = 266.706557868384
  Node [2423;3312]: Solar = 255.6584186123237, Battery Storage = 1533.9505116739422, LT Storage = 1278.2920930616185
  Node [3113;2087]: Solar = 21.90336768800638, Battery Storage = 131.42020612803827, LT Storage = 109.5168384400319
  Node [3121;2092]: Solar = 59.9158811716754, Battery Storage = 359.4952870300524, LT Storage = 299.579405858377
  Node [3402;2028]: Solar = 48.599575502730296, Battery Storage = 291.5974530163818, LT Storage = 242.99787751365147
  Node [3026;2089]: Solar = 48.08743311945556, Battery Storage = 288.52459871673335, LT Storage = 240.4371655972778
  Node [3410;2040]: Solar = 110.12130047891443, Battery Storage = 660.7278028734866, LT Storage = 550.6065023945722
  Node [3459;2300]: Solar = 57.93007151410338, Battery Storage = 347.5804290846203, LT Storage = 289.6503575705169
  Node [3069;1914]: Solar = 23.146366575318087, Battery Storage = 138.87819945190853, LT Storage = 115.73183287659043
  Node [3149;2679]: Solar = 23.78992529173025, Battery Storage = 142.7395517503815, LT Storage = 118.94962645865124
  Node [2788;2719]: Solar = 58.74701794726827, Battery Storage = 352.4821076836096, LT Storage = 293.73508973634137
  Node [2813;2716]: Solar = 32.82194915607715, Battery Storage = 196.93169493646292, LT Storage = 164.10974578038577
  Node [3088;2686]: Solar = 72.75937056132814, Battery Storage = 436.55622336796887, LT Storage = 363.7968528066407
  Node [2585;2463]: Solar = 25.44652930644344, Battery Storage = 152.67917583866065, LT Storage = 127.2326465322172
  Node [3436;2202]: Solar = 59.85826110118104, Battery Storage = 359.1495666070863, LT Storage = 299.2913055059052
  Node [2672;2506]: Solar = 329.2679390798065, Battery Storage = 1975.6076344788391, LT Storage = 1646.3396953990327
  Node [3431;2144]: Solar = 57.949280131307695, Battery Storage = 347.6956807878462, LT Storage = 289.74640065653847
  Node [3352;2574]: Solar = 22.067395456450512, Battery Storage = 132.40437273870307, LT Storage = 110.33697728225256
  Node [3287;2792]: Solar = 32.44285932950032, Battery Storage = 194.65715597700193, LT Storage = 162.2142966475016
  Node [3265;2800]: Solar = 47.92980594013389, Battery Storage = 287.57883564080333, LT Storage = 239.64902970066944
  Node [3292;2737]: Solar = 34.29746240892248, Battery Storage = 205.78477445353485, LT Storage = 171.4873120446124
  Node [3296;2731]: Solar = 31.438034387501663, Battery Storage = 188.62820632500998, LT Storage = 157.19017193750832
  Node [3359;2645]: Solar = 24.189846613326683, Battery Storage = 145.1390796799601, LT Storage = 120.94923306663341
  Node [3367;2652]: Solar = 35.90066011628845, Battery Storage = 215.4039606977307, LT Storage = 179.50330058144226
  Node [3517;2410]: Solar = 21.73027740789675, Battery Storage = 130.3816644473805, LT Storage = 108.65138703948375
  Node [3631;2379]: Solar = 56.94478935861304, Battery Storage = 341.6687361516783, LT Storage = 284.72394679306524
  Node [3661;2427]: Solar = 23.55234249118613, Battery Storage = 141.3140549471168, LT Storage = 117.76171245593065
  Node [3361;2634]: Solar = 31.943702621883567, Battery Storage = 191.6622157313014, LT Storage = 159.71851310941784
  Node [3620;2429]: Solar = 65.96523685916975, Battery Storage = 395.7914211550185, LT Storage = 329.82618429584875
  Node [3623;2417]: Solar = 20.843445866217948, Battery Storage = 125.06067519730769, LT Storage = 104.21722933108974
  Node [3685;2386]: Solar = 46.90534932930361, Battery Storage = 281.43209597582165, LT Storage = 234.52674664651806
  Node [3530;2462]: Solar = 26.936888416910985, Battery Storage = 161.6213305014659, LT Storage = 134.68444208455492
  Node [3303;3765]: Solar = 101.6990982701058, Battery Storage = 610.1945896206348, LT Storage = 508.49549135052894
  Node [3508;3284]: Solar = 81.26721364865261, Battery Storage = 487.6032818919157, LT Storage = 406.33606824326307
  Node [3856;3786]: Solar = 89.55719582777124, Battery Storage = 537.3431749666274, LT Storage = 447.7859791388562
  Node [3240;2419]: Solar = 33.5146926074387, Battery Storage = 201.0881556446322, LT Storage = 167.57346303719348
  Node [3311;3574]: Solar = 176.2375224052477, Battery Storage = 1057.4251344314862, LT Storage = 881.1876120262384
  Node [3345;4480]: Solar = 138.97716352481788, Battery Storage = 833.8629811489072, LT Storage = 694.8858176240894
  Node [3633;4534]: Solar = 32.34499969693678, Battery Storage = 194.0699981816207, LT Storage = 161.7249984846839
  Node [3172;4706]: Solar = 34.567328526884324, Battery Storage = 207.40397116130595, LT Storage = 172.83664263442162
  Node [3184;4683]: Solar = 122.31566952903631, Battery Storage = 733.8940171742179, LT Storage = 611.5783476451816
  Node [3248;2472]: Solar = 21.303602218328916, Battery Storage = 127.82161330997349, LT Storage = 106.51801109164458
  Node [3663;2447]: Solar = 23.102971861566505, Battery Storage = 138.61783116939904, LT Storage = 115.51485930783252
  Node [3328;2619]: Solar = 21.73343840949991, Battery Storage = 130.40063045699947, LT Storage = 108.66719204749955
  Node [3621;2477]: Solar = 26.46278139750139, Battery Storage = 158.77668838500836, LT Storage = 132.31390698750695
  Node [3325;2614]: Solar = 56.39746888596332, Battery Storage = 338.3848133157799, LT Storage = 281.98734442981663
  Node [3529;2481]: Solar = 46.59047258561925, Battery Storage = 279.54283551371554, LT Storage = 232.95236292809625
  Node [2162;3579]: Solar = 98.71695906508604, Battery Storage = 592.3017543905163, LT Storage = 493.5847953254302
  Node [2158;3585]: Solar = 238.78386217660633, Battery Storage = 1432.703173059638, LT Storage = 1193.9193108830316
  Node [3614;4567]: Solar = 121.34571862190644, Battery Storage = 728.0743117314387, LT Storage = 606.7285931095322
  Node [3599;4603]: Solar = 82.90256624067713, Battery Storage = 497.4153974440628, LT Storage = 414.51283120338564
  Node [3233;2063]: Solar = 81.6368948994492, Battery Storage = 489.8213693966952, LT Storage = 408.184474497246
  Node [3201;2191]: Solar = 73.57067016481153, Battery Storage = 441.4240209888692, LT Storage = 367.85335082405766
  Node [3239;2408]: Solar = 29.377051876271796, Battery Storage = 176.26231125763078, LT Storage = 146.885259381359
  Node [3666;2044]: Solar = 287.8017507196296, Battery Storage = 1726.8105043177775, LT Storage = 1439.008753598148
  Node [3680;2055]: Solar = 37.93771356469528, Battery Storage = 227.62628138817166, LT Storage = 189.6885678234764
  Node [3644;2078]: Solar = 62.218021742702895, Battery Storage = 373.3081304562174, LT Storage = 311.0901087135145
  Node [3733;2200]: Solar = 193.670478331522, Battery Storage = 1162.022869989132, LT Storage = 968.3523916576099
  Node [3703;2366]: Solar = 108.21609937893186, Battery Storage = 649.2965962735911, LT Storage = 541.0804968946593
  Node [3692;2358]: Solar = 530.5237529459464, Battery Storage = 3183.1425176756784, LT Storage = 2652.618764729732
  Node [3342;2194]: Solar = 23.937187420470146, Battery Storage = 143.6231245228209, LT Storage = 119.68593710235072
  Node [3763;2245]: Solar = 40.618150098467474, Battery Storage = 243.70890059080483, LT Storage = 203.09075049233738
  Node [3546;2220]: Solar = 104.36479253093871, Battery Storage = 626.1887551856323, LT Storage = 521.8239626546936
  Node [3644;2012]: Solar = 28.277685458260752, Battery Storage = 169.66611274956452, LT Storage = 141.38842729130377
  Node [3674;2000]: Solar = 65.08762723205876, Battery Storage = 390.5257633923526, LT Storage = 325.4381361602938
  Node [3668;2019]: Solar = 90.73608922943762, Battery Storage = 544.4165353766257, LT Storage = 453.68044614718815
  Node [3683;2004]: Solar = 20.09961321604306, Battery Storage = 120.59767929625836, LT Storage = 100.4980660802153
  Node [3705;1968]: Solar = 28.20906989634166, Battery Storage = 169.25441937804996, LT Storage = 141.04534948170829
  Node [3674;1950]: Solar = 219.8310501151155, Battery Storage = 1318.986300690693, LT Storage = 1099.1552505755774
  Node [3197;2175]: Solar = 23.085157586689643, Battery Storage = 138.51094552013785, LT Storage = 115.42578793344822
  Node [3565;2339]: Solar = 31.545823123256085, Battery Storage = 189.2749387395365, LT Storage = 157.7291156162804
  Node [3565;2340]: Solar = 296.3185190921424, Battery Storage = 1777.9111145528545, LT Storage = 1481.5925954607121
  Node [3302;2252]: Solar = 23.469729870520133, Battery Storage = 140.81837922312081, LT Storage = 117.34864935260066
  Node [3338;2229]: Solar = 51.205409906343206, Battery Storage = 307.2324594380592, LT Storage = 256.02704953171605
  Node [3343;2190]: Solar = 32.12378042581861, Battery Storage = 192.74268255491165, LT Storage = 160.61890212909304
  Node [3667;2143]: Solar = 26.79125050276332, Battery Storage = 160.7475030165799, LT Storage = 133.9562525138166
  Node [3674;2157]: Solar = 60.17385230487379, Battery Storage = 361.04311382924277, LT Storage = 300.86926152436894
  Node [3775;2078]: Solar = 24.357077327169097, Battery Storage = 146.1424639630146, LT Storage = 121.78538663584548
  Node [3781;2078]: Solar = 41.752773937080754, Battery Storage = 250.51664362248454, LT Storage = 208.76386968540376
  Node [3357;2657]: Solar = 29.79800956105833, Battery Storage = 178.78805736634996, LT Storage = 148.99004780529165
  Node [3518;2223]: Solar = 149.6167503624933, Battery Storage = 897.7005021749598, LT Storage = 748.0837518124665
  Node [3496;2306]: Solar = 59.802530482952406, Battery Storage = 358.8151828977144, LT Storage = 299.01265241476204
  Node [3669;1963]: Solar = 21.822753955816378, Battery Storage = 130.93652373489826, LT Storage = 109.11376977908189
  Node [3609;2623]: Solar = 73.24785029898429, Battery Storage = 439.4871017939057, LT Storage = 366.23925149492146
  Node [2585;3326]: Solar = 132.60082685369272, Battery Storage = 795.6049611221563, LT Storage = 663.0041342684636
  Node [2598;3322]: Solar = 152.5736888884613, Battery Storage = 915.4421333307678, LT Storage = 762.8684444423066
  Node [2490;3277]: Solar = 224.90513937632463, Battery Storage = 1349.4308362579477, LT Storage = 1124.5256968816232
  Node [2530;3314]: Solar = 186.4548358449545, Battery Storage = 1118.729015069727, LT Storage = 932.2741792247724
  Node [2205;3497]: Solar = 191.8892261920669, Battery Storage = 1151.3353571524015, LT Storage = 959.4461309603345
  Node [2691;3199]: Solar = 161.6659257224838, Battery Storage = 969.9955543349027, LT Storage = 808.3296286124189
  Node [2432;3296]: Solar = 147.0617907229679, Battery Storage = 882.3707443378075, LT Storage = 735.3089536148395
  Node [2432;3305]: Solar = 138.87086392297644, Battery Storage = 833.2251835378586, LT Storage = 694.3543196148822
  Node [2124;3616]: Solar = 454.3100912230153, Battery Storage = 2725.860547338092, LT Storage = 2271.5504561150765
  Node [2136;3610]: Solar = 570.550846308715, Battery Storage = 3423.30507785229, LT Storage = 2852.754231543575
  Node [2693;3364]: Solar = 146.4809299862578, Battery Storage = 878.8855799175467, LT Storage = 732.404649931289
  Node [2643;3269]: Solar = 258.9886008897349, Battery Storage = 1553.9316053384096, LT Storage = 1294.9430044486746
  Node [2656;3267]: Solar = 139.01416201980877, Battery Storage = 834.0849721188526, LT Storage = 695.0708100990438
  Node [2322;3154]: Solar = 286.4655536260529, Battery Storage = 1718.7933217563173, LT Storage = 1432.3277681302645
  Node [2330;3149]: Solar = 112.22091427086364, Battery Storage = 673.3254856251818, LT Storage = 561.1045713543182
  Node [2286;3880]: Solar = 142.3384476827182, Battery Storage = 854.0306860963092, LT Storage = 711.692238413591
  Node [2317;3936]: Solar = 98.71680830837272, Battery Storage = 592.3008498502363, LT Storage = 493.5840415418636
  Node [2341;4044]: Solar = 43.75305704070831, Battery Storage = 262.5183422442499, LT Storage = 218.76528520354157
  Node [2492;4241]: Solar = 21.0941924604641, Battery Storage = 126.5651547627846, LT Storage = 105.4709623023205
  Node [2842;4629]: Solar = 31.883441271881537, Battery Storage = 191.30064763128922, LT Storage = 159.4172063594077
  Node [3528;3900]: Solar = 47.27592773534808, Battery Storage = 283.65556641208843, LT Storage = 236.3796386767404
  Node [3218;3655]: Solar = 75.14923647664342, Battery Storage = 450.89541885986057, LT Storage = 375.7461823832171
  Node [3123;3482]: Solar = 149.94237073382826, Battery Storage = 899.6542244029695, LT Storage = 749.7118536691413
  Node [3466;4412]: Solar = 119.3023316550809, Battery Storage = 715.8139899304854, LT Storage = 596.5116582754046
  Node [3470;4389]: Solar = 82.55053619425824, Battery Storage = 495.3032171655494, LT Storage = 412.7526809712912
  Node [3115;2653]: Solar = 20.205488476387337, Battery Storage = 121.23293085832402, LT Storage = 101.02744238193668
  Node [3100;2625]: Solar = 33.126448761180114, Battery Storage = 198.7586925670807, LT Storage = 165.63224380590057
  Node [2861;2979]: Solar = 26.8263621447252, Battery Storage = 160.9581728683512, LT Storage = 134.131810723626
  Node [3089;2457]: Solar = 20.52760013616651, Battery Storage = 123.16560081699905, LT Storage = 102.63800068083255
  Node [2715;2511]: Solar = 27.92652545134924, Battery Storage = 167.55915270809544, LT Storage = 139.6326272567462
  Node [2706;2465]: Solar = 58.25104906124699, Battery Storage = 349.5062943674819, LT Storage = 291.25524530623494
  Node [2596;3040]: Solar = 44.9363355153432, Battery Storage = 269.6180130920592, LT Storage = 224.68167757671603
  Node [3106;2966]: Solar = 20.82037114201507, Battery Storage = 124.92222685209042, LT Storage = 104.10185571007534
  Node [2481;2916]: Solar = 98.76886245562795, Battery Storage = 592.6131747337677, LT Storage = 493.8443122781398
  Node [3137;4465]: Solar = 158.68646831758497, Battery Storage = 952.1188099055098, LT Storage = 793.4323415879248
  Node [2363;3012]: Solar = 158.67411557508902, Battery Storage = 952.0446934505342, LT Storage = 793.3705778754451
  Node [2369;3011]: Solar = 134.19504676436122, Battery Storage = 805.1702805861673, LT Storage = 670.9752338218061
  Node [2366;3062]: Solar = 61.8139432500159, Battery Storage = 370.8836595000954, LT Storage = 309.0697162500795
  Node [2739;3422]: Solar = 44.1240372413944, Battery Storage = 264.74422344836637, LT Storage = 220.620186206972
  Node [2021;3330]: Solar = 82.22952477520138, Battery Storage = 493.3771486512083, LT Storage = 411.14762387600695
  Node [2016;3334]: Solar = 46.28371761037601, Battery Storage = 277.70230566225604, LT Storage = 231.41858805188005
  Node [2137;3529]: Solar = 74.18783363587768, Battery Storage = 445.1270018152661, LT Storage = 370.9391681793884
  Node [2653;3948]: Solar = 117.12633745336032, Battery Storage = 702.758024720162, LT Storage = 585.6316872668016
  Node [2049;3680]: Solar = 80.2847409219517, Battery Storage = 481.70844553171014, LT Storage = 401.4237046097585
  Node [2054;3676]: Solar = 34.41199881278641, Battery Storage = 206.47199287671845, LT Storage = 172.05999406393204
  Node [1950;3532]: Solar = 86.10608624845787, Battery Storage = 516.6365174907472, LT Storage = 430.53043124228935
  Node [2125;3580]: Solar = 90.900165159793, Battery Storage = 545.400990958758, LT Storage = 454.500825798965
  Node [2574;2756]: Solar = 24.75727818474547, Battery Storage = 148.5436691084728, LT Storage = 123.78639092372735
  Node [3400;1995]: Solar = 67.49357413125615, Battery Storage = 404.96144478753695, LT Storage = 337.46787065628075
  Node [3053;1958]: Solar = 24.870185180737824, Battery Storage = 149.22111108442695, LT Storage = 124.35092590368912
  Node [2673;2496]: Solar = 22.696283781948, Battery Storage = 136.177702691688, LT Storage = 113.48141890974
  Node [3045;1965]: Solar = 39.06913624762387, Battery Storage = 234.41481748574319, LT Storage = 195.34568123811934
  Node [3090;2313]: Solar = 20.946834744768985, Battery Storage = 125.68100846861391, LT Storage = 104.73417372384492
  Node [3412;2049]: Solar = 343.7863144304759, Battery Storage = 2062.7178865828555, LT Storage = 1718.9315721523794
  Node [3424;2110]: Solar = 346.08710587807445, Battery Storage = 2076.5226352684467, LT Storage = 1730.4355293903723
  Node [3492;1767]: Solar = 63.31, Battery Storage = 379.86, LT Storage = 316.55
  Node [2161;3848]: Solar = 35.02726119688888, Battery Storage = 210.1635671813333, LT Storage = 175.1363059844444
  Node [3046;2513]: Solar = 36.39110759318133, Battery Storage = 218.346645559088, LT Storage = 181.95553796590667
  Node [3720;2062]: Solar = 56.38920844142071, Battery Storage = 338.33525064852427, LT Storage = 281.9460422071036
  Node [3732;2067]: Solar = 24.491714748649738, Battery Storage = 146.95028849189842, LT Storage = 122.45857374324869
  Node [3759;5522]: Solar = 25.966221515519475, Battery Storage = 155.79732909311684, LT Storage = 129.83110757759738
  Node [3765;5522]: Solar = 47.22257530901573, Battery Storage = 283.3354518540944, LT Storage = 236.11287654507865
  Node [2316;4027]: Solar = 40.84401047540658, Battery Storage = 245.06406285243946, LT Storage = 204.22005237703289
  Node [2379;4011]: Solar = 46.4460858079451, Battery Storage = 278.6765148476706, LT Storage = 232.23042903972552
  Node [2384;4001]: Solar = 70.58559076313371, Battery Storage = 423.5135445788022, LT Storage = 352.92795381566856
  Node [3088;1850]: Solar = 22.736683613030376, Battery Storage = 136.42010167818225, LT Storage = 113.68341806515188
  Node [3096;1845]: Solar = 52.0118707792904, Battery Storage = 312.07122467574237, LT Storage = 260.05935389645197
  Node [3089;1842]: Solar = 60.739575853722144, Battery Storage = 364.43745512233284, LT Storage = 303.69787926861073
  Node [2475;3134]: Solar = 77.14623864600438, Battery Storage = 462.87743187602626, LT Storage = 385.73119323002186
  Node [2485;3143]: Solar = 103.55448869065364, Battery Storage = 621.3269321439218, LT Storage = 517.7724434532682
  Node [1710;3380]: Solar = 29.23451322415819, Battery Storage = 175.40707934494912, LT Storage = 146.17256612079095
  Node [3355;2452]: Solar = 111.67861975050266, Battery Storage = 670.071718503016, LT Storage = 558.3930987525133
  Node [2126;3192]: Solar = 135.61707453104873, Battery Storage = 813.7024471862924, LT Storage = 678.0853726552436
  Node [2145;3202]: Solar = 101.11003158900388, Battery Storage = 606.6601895340233, LT Storage = 505.5501579450194
  Node [2524;3126]: Solar = 26.37806450830658, Battery Storage = 158.26838704983948, LT Storage = 131.8903225415329
  Node [3425;2231]: Solar = 32.89867422820785, Battery Storage = 197.3920453692471, LT Storage = 164.49337114103926
  Node [2223;3596]: Solar = 53.15343973793326, Battery Storage = 318.92063842759956, LT Storage = 265.7671986896663
  Node [2232;3598]: Solar = 91.30273235325951, Battery Storage = 547.8163941195571, LT Storage = 456.51366176629756
  Node [3152;3534]: Solar = 119.09276405939669, Battery Storage = 714.5565843563801, LT Storage = 595.4638202969834
  Node [3163;3520]: Solar = 107.57624072510995, Battery Storage = 645.4574443506597, LT Storage = 537.8812036255498
  Node [2318;3403]: Solar = 404.4481520073688, Battery Storage = 2426.688912044213, LT Storage = 2022.2407600368438
  Node [2325;3406]: Solar = 271.27547462050705, Battery Storage = 1627.6528477230422, LT Storage = 1356.3773731025353
  Node [2602;3318]: Solar = 191.0513286763429, Battery Storage = 1146.3079720580574, LT Storage = 955.2566433817145
  Node [2374;4024]: Solar = 69.64081343353115, Battery Storage = 417.8448806011869, LT Storage = 348.20406716765575
  Node [3659;1978]: Solar = 20.54608142030261, Battery Storage = 123.27648852181565, LT Storage = 102.73040710151305
  Node [2025;3492]: Solar = 105.25890319688992, Battery Storage = 631.5534191813395, LT Storage = 526.2945159844496
  Node [2033;3498]: Solar = 68.71010168995878, Battery Storage = 412.26061013975266, LT Storage = 343.5505084497939
  Node [2068;3630]: Solar = 431.8923262507903, Battery Storage = 2591.3539575047416, LT Storage = 2159.4616312539515
  Node [2068;3642]: Solar = 46.465898437781966, Battery Storage = 278.7953906266918, LT Storage = 232.32949218890982
  Node [2038;3643]: Solar = 111.27698603571795, Battery Storage = 667.6619162143077, LT Storage = 556.3849301785898
  Node [2075;3273]: Solar = 40.029104499832904, Battery Storage = 240.17462699899744, LT Storage = 200.1455224991645
  Node [2221;3583]: Solar = 120.44512450918307, Battery Storage = 722.6707470550984, LT Storage = 602.2256225459154
  Node [2229;3585]: Solar = 84.16611749706242, Battery Storage = 504.99670498237447, LT Storage = 420.8305874853121
  Node [3564;1856]: Solar = 84.0, Battery Storage = 504.0, LT Storage = 420.0
  Node [2448;3269]: Solar = 186.97252088902312, Battery Storage = 1121.8351253341386, LT Storage = 934.8626044451156
  Node [3643;1748]: Solar = 72.39, Battery Storage = 434.34000000000003, LT Storage = 361.95
  Node [2433;3666]: Solar = 26.321384853358072, Battery Storage = 157.92830912014844, LT Storage = 131.60692426679037
  Node [3429;3781]: Solar = 97.56754081453722, Battery Storage = 585.4052448872234, LT Storage = 487.8377040726861
  Node [2358;3492]: Solar = 55.531605420548715, Battery Storage = 333.1896325232923, LT Storage = 277.6580271027436
  Node [2355;3487]: Solar = 76.42735182884294, Battery Storage = 458.56411097305767, LT Storage = 382.1367591442147
  Node [2355;3474]: Solar = 144.59389341781517, Battery Storage = 867.5633605068911, LT Storage = 722.9694670890758
  Node [2478;3267]: Solar = 190.6640098724119, Battery Storage = 1143.9840592344713, LT Storage = 953.3200493620595
  Node [3077;3378]: Solar = 77.89888427710278, Battery Storage = 467.3933056626167, LT Storage = 389.4944213855139
  Node [2312;4032]: Solar = 41.67288153962554, Battery Storage = 250.03728923775327, LT Storage = 208.3644076981277
  Node [2443;3380]: Solar = 199.67319064531983, Battery Storage = 1198.039143871919, LT Storage = 998.3659532265992
  Node [2475;3720]: Solar = 30.80849516321909, Battery Storage = 184.85097097931452, LT Storage = 154.04247581609545
  Node [2485;3718]: Solar = 24.50536092381907, Battery Storage = 147.0321655429144, LT Storage = 122.52680461909534
  Node [2407;4020]: Solar = 73.08430029808481, Battery Storage = 438.50580178850885, LT Storage = 365.4215014904241
  Node [2413;4023]: Solar = 111.86902819326176, Battery Storage = 671.2141691595705, LT Storage = 559.3451409663088
  Node [2488;3206]: Solar = 126.67120905052836, Battery Storage = 760.0272543031701, LT Storage = 633.3560452526418
  Node [2490;3180]: Solar = 131.34077821778234, Battery Storage = 788.044669306694, LT Storage = 656.7038910889117
  Node [2253;3529]: Solar = 144.990670227899, Battery Storage = 869.9440213673939, LT Storage = 724.953351139495
  Node [2232;3529]: Solar = 226.10452472960577, Battery Storage = 1356.6271483776345, LT Storage = 1130.522623648029
  Node [3362;2142]: Solar = 26.785989320535453, Battery Storage = 160.71593592321273, LT Storage = 133.92994660267726
  Node [2610;3507]: Solar = 125.3927076359142, Battery Storage = 752.3562458154852, LT Storage = 626.9635381795711
  Node [2389;4152]: Solar = 138.24649756216465, Battery Storage = 829.4789853729878, LT Storage = 691.2324878108233
  Node [1745;3391]: Solar = 41.336273543162, Battery Storage = 248.017641258972, LT Storage = 206.68136771581
  Node [2395;3245]: Solar = 162.67964590132894, Battery Storage = 976.0778754079736, LT Storage = 813.3982295066447
  Node [2269;3135]: Solar = 153.46544615533895, Battery Storage = 920.7926769320337, LT Storage = 767.3272307766947
  Node [2261;3165]: Solar = 183.5200781799525, Battery Storage = 1101.120469079715, LT Storage = 917.6003908997625
  Node [2268;3165]: Solar = 207.14928672275025, Battery Storage = 1242.8957203365014, LT Storage = 1035.7464336137512
  Node [2674;3294]: Solar = 141.3309052463253, Battery Storage = 847.9854314779518, LT Storage = 706.6545262316265
  Node [2675;3288]: Solar = 112.01265657743592, Battery Storage = 672.0759394646155, LT Storage = 560.0632828871796
  Node [2673;3301]: Solar = 166.54134892538866, Battery Storage = 999.248093552332, LT Storage = 832.7067446269433
  Node [3096;2679]: Solar = 21.93733652909846, Battery Storage = 131.62401917459076, LT Storage = 109.6866826454923
  Node [3100;2688]: Solar = 42.93703861885618, Battery Storage = 257.62223171313707, LT Storage = 214.6851930942809
  Node [3587;2101]: Solar = 27.629167870338783, Battery Storage = 165.77500722203268, LT Storage = 138.14583935169392
  Node [3597;2123]: Solar = 58.48410749121779, Battery Storage = 350.90464494730674, LT Storage = 292.42053745608894
  Node [3631;2076]: Solar = 28.96674631207654, Battery Storage = 173.80047787245925, LT Storage = 144.83373156038272
  Node [2076;3642]: Solar = 68.06327242950607, Battery Storage = 408.3796345770364, LT Storage = 340.31636214753036
  Node [2596;2757]: Solar = 28.34797284847804, Battery Storage = 170.08783709086825, LT Storage = 141.7398642423902
  Node [2397;3201]: Solar = 130.88488625095172, Battery Storage = 785.3093175057104, LT Storage = 654.4244312547586
  Node [2298;4032]: Solar = 68.09094120064478, Battery Storage = 408.54564720386867, LT Storage = 340.4547060032239
  Node [2986;3466]: Solar = 105.07827573663296, Battery Storage = 630.4696544197977, LT Storage = 525.3913786831648
  Node [2987;3480]: Solar = 83.86730873831971, Battery Storage = 503.20385242991824, LT Storage = 419.33654369159854
  Node [2027;3353]: Solar = 145.08449765675238, Battery Storage = 870.5069859405143, LT Storage = 725.4224882837618
  Node [2875;3564]: Solar = 63.10447953944942, Battery Storage = 378.62687723669654, LT Storage = 315.52239769724713
  Node [2880;3557]: Solar = 107.5635324958357, Battery Storage = 645.3811949750142, LT Storage = 537.8176624791785
  Node [3236;2005]: Solar = 46.0, Battery Storage = 276.0, LT Storage = 230.0
  Node [3241;1981]: Solar = 48.99, Battery Storage = 293.94, LT Storage = 244.95000000000002
  Node [2430;3855]: Solar = 36.5509650318805, Battery Storage = 219.305790191283, LT Storage = 182.75482515940251
  Node [2093;3518]: Solar = 79.54544278409655, Battery Storage = 477.2726567045793, LT Storage = 397.72721392048277
  Node [2087;3509]: Solar = 135.10064062901404, Battery Storage = 810.6038437740842, LT Storage = 675.5032031450702
  Node [1945;3388]: Solar = 217.109919565472, Battery Storage = 1302.6595173928322, LT Storage = 1085.54959782736
  Node [1956;3382]: Solar = 181.18076854647828, Battery Storage = 1087.0846112788697, LT Storage = 905.9038427323914
  Node [3305;2717]: Solar = 22.21608416128584, Battery Storage = 133.29650496771504, LT Storage = 111.08042080642919
  Node [2031;3548]: Solar = 113.44893959718168, Battery Storage = 680.6936375830901, LT Storage = 567.2446979859084
  Node [2063;3538]: Solar = 150.60102037176102, Battery Storage = 903.6061222305661, LT Storage = 753.0051018588051
  Node [2473;3379]: Solar = 268.8404620146401, Battery Storage = 1613.0427720878406, LT Storage = 1344.2023100732004
  Node [2474;3332]: Solar = 150.17187929822103, Battery Storage = 901.0312757893262, LT Storage = 750.8593964911051
  Node [3641;2464]: Solar = 23.763752094546525, Battery Storage = 142.58251256727914, LT Storage = 118.81876047273263
  Node [2410;3983]: Solar = 38.533054744907346, Battery Storage = 231.19832846944408, LT Storage = 192.66527372453675
  Node [2210;3285]: Solar = 106.82244843446612, Battery Storage = 640.9346906067967, LT Storage = 534.1122421723306
  Node [2115;3185]: Solar = 363.8210116866858, Battery Storage = 2182.9260701201147, LT Storage = 1819.105058433429
  Node [2115;3192]: Solar = 82.02189555091552, Battery Storage = 492.13137330549307, LT Storage = 410.1094777545776
  Node [2517;4192]: Solar = 20.07377852868838, Battery Storage = 120.44267117213028, LT Storage = 100.3688926434419
  Node [2923;3329]: Solar = 209.8556785364877, Battery Storage = 1259.1340712189262, LT Storage = 1049.2783926824384
  Node [2934;3305]: Solar = 325.11577722837245, Battery Storage = 1950.6946633702346, LT Storage = 1625.5788861418623
  Node [2882;3071]: Solar = 39.5850064339741, Battery Storage = 237.5100386038446, LT Storage = 197.92503216987052
  Node [2218;3279]: Solar = 114.15341501973128, Battery Storage = 684.9204901183878, LT Storage = 570.7670750986564
  Node [2244;3296]: Solar = 113.86225857532077, Battery Storage = 683.1735514519246, LT Storage = 569.3112928766038
  Node [2466;3790]: Solar = 37.53440186271496, Battery Storage = 225.20641117628975, LT Storage = 187.6720093135748
  Node [2481;3788]: Solar = 36.503829129047375, Battery Storage = 219.02297477428425, LT Storage = 182.51914564523688
  Node [2837;3011]: Solar = 26.12782958255037, Battery Storage = 156.76697749530223, LT Storage = 130.63914791275184
  Node [3400;2255]: Solar = 35.736069921766564, Battery Storage = 214.4164195305994, LT Storage = 178.6803496088328
  Node [2976;3349]: Solar = 70.16377564596402, Battery Storage = 420.98265387578414, LT Storage = 350.81887822982014
  Node [2982;3344]: Solar = 76.83398343329114, Battery Storage = 461.0039005997468, LT Storage = 384.16991716645566
  Node [3060;3055]: Solar = 34.0454427132186, Battery Storage = 204.2726562793116, LT Storage = 170.22721356609298
  Node [2069;3267]: Solar = 111.95436071533672, Battery Storage = 671.7261642920203, LT Storage = 559.7718035766836
  Node [2083;3267]: Solar = 182.88814009796576, Battery Storage = 1097.3288405877945, LT Storage = 914.4407004898288
  Node [2259;3997]: Solar = 78.71222980176991, Battery Storage = 472.2733788106194, LT Storage = 393.56114900884955
  Node [3665;1954]: Solar = 131.8216984810964, Battery Storage = 790.9301908865784, LT Storage = 659.108492405482
  Node [2112;4124]: Solar = 256.2806209414265, Battery Storage = 1537.683725648559, LT Storage = 1281.4031047071326
  Node [2350;4000]: Solar = 129.50815545953782, Battery Storage = 777.0489327572269, LT Storage = 647.5407772976891
  Node [2348;4005]: Solar = 83.54612735201792, Battery Storage = 501.2767641121075, LT Storage = 417.7306367600896
  Node [2922;3333]: Solar = 134.32782761257977, Battery Storage = 805.9669656754786, LT Storage = 671.6391380628988
  Node [2917;3347]: Solar = 194.01585666591615, Battery Storage = 1164.095139995497, LT Storage = 970.0792833295807
  Node [2249;4044]: Solar = 60.769762602761446, Battery Storage = 364.6185756165687, LT Storage = 303.8488130138072
  Node [3549;2185]: Solar = 25.51601344953843, Battery Storage = 153.09608069723058, LT Storage = 127.58006724769216
  Node [2008;3595]: Solar = 32.54071737304449, Battery Storage = 195.24430423826692, LT Storage = 162.70358686522243
  Node [2003;3596]: Solar = 72.97033164118967, Battery Storage = 437.82198984713807, LT Storage = 364.85165820594835
  Node [2155;3240]: Solar = 136.18737356706856, Battery Storage = 817.1242414024114, LT Storage = 680.9368678353428
  Node [3244;2435]: Solar = 24.745958344140945, Battery Storage = 148.47575006484567, LT Storage = 123.72979172070472
  Node [3016;4419]: Solar = 20.260468340171226, Battery Storage = 121.56281004102735, LT Storage = 101.30234170085613
  Node [2030;3520]: Solar = 46.76350683680091, Battery Storage = 280.58104102080546, LT Storage = 233.81753418400453
  Node [2031;3529]: Solar = 41.56935701409264, Battery Storage = 249.41614208455582, LT Storage = 207.8467850704632
  Node [3424;2549]: Solar = 36.1709109185077, Battery Storage = 217.0254655110462, LT Storage = 180.8545545925385
  Node [2238;3219]: Solar = 210.53193800889187, Battery Storage = 1263.1916280533512, LT Storage = 1052.6596900444592
  Node [2073;3284]: Solar = 190.3557452507028, Battery Storage = 1142.134471504217, LT Storage = 951.7787262535139
  Node [2084;3282]: Solar = 97.1310560011099, Battery Storage = 582.7863360066594, LT Storage = 485.65528000554946
  Node [2522;4057]: Solar = 21.450099084356108, Battery Storage = 128.70059450613664, LT Storage = 107.25049542178054
  Node [2345;4010]: Solar = 76.82767256085349, Battery Storage = 460.9660353651209, LT Storage = 384.13836280426744
  Node [2148;4126]: Solar = 113.3290780195654, Battery Storage = 679.9744681173925, LT Storage = 566.645390097827
  Node [2153;4117]: Solar = 104.362854736082, Battery Storage = 626.177128416492, LT Storage = 521.81427368041
  Node [2088;3274]: Solar = 50.72339254201331, Battery Storage = 304.34035525207986, LT Storage = 253.61696271006653
  Node [2101;3276]: Solar = 103.30520858465702, Battery Storage = 619.8312515079422, LT Storage = 516.5260429232851
  Node [2092;3284]: Solar = 146.21793031512635, Battery Storage = 877.3075818907581, LT Storage = 731.0896515756317
  Node [2312;3207]: Solar = 158.43700436643445, Battery Storage = 950.6220261986067, LT Storage = 792.1850218321722
  Node [2318;3204]: Solar = 160.8970343448163, Battery Storage = 965.3822060688977, LT Storage = 804.4851717240815
  Node [3222;3492]: Solar = 65.2400355350784, Battery Storage = 391.44021321047046, LT Storage = 326.200177675392
  Node [2109;3594]: Solar = 135.90246456323564, Battery Storage = 815.4147873794138, LT Storage = 679.5123228161782
  Node [2109;3602]: Solar = 79.49315781422165, Battery Storage = 476.95894688532985, LT Storage = 397.46578907110825
  Node [2028;3592]: Solar = 127.73861571315892, Battery Storage = 766.4316942789535, LT Storage = 638.6930785657946
  Node [2086;3314]: Solar = 195.7025605269764, Battery Storage = 1174.2153631618585, LT Storage = 978.5128026348821
  Node [2097;3303]: Solar = 249.4727084274249, Battery Storage = 1496.8362505645493, LT Storage = 1247.3635421371246
  Node [2231;3240]: Solar = 72.51672685446832, Battery Storage = 435.1003611268099, LT Storage = 362.58363427234156
  Node [1351;3739]: Solar = 27.24977800838694, Battery Storage = 163.49866805032164, LT Storage = 136.24889004193471
  Node [1357;3742]: Solar = 35.98047749079754, Battery Storage = 215.88286494478524, LT Storage = 179.9023874539877
  Node [3428;2164]: Solar = 97.27482214213128, Battery Storage = 583.6489328527878, LT Storage = 486.3741107106564
  Node [2286;2943]: Solar = 196.08660818527864, Battery Storage = 1176.5196491116717, LT Storage = 980.4330409263932
  Node [2292;2942]: Solar = 245.56996343038443, Battery Storage = 1473.4197805823067, LT Storage = 1227.8498171519223
  Node [2650;3435]: Solar = 232.24094875093965, Battery Storage = 1393.445692505638, LT Storage = 1161.2047437546983
  Node [3095;2344]: Solar = 37.1089550890201, Battery Storage = 222.6537305341206, LT Storage = 185.5447754451005
  Node [3209;3557]: Solar = 90.63347566061894, Battery Storage = 543.8008539637136, LT Storage = 453.1673783030947
  Node [3205;3563]: Solar = 167.8081154299667, Battery Storage = 1006.8486925798002, LT Storage = 839.0405771498336
  Node [2341;4019]: Solar = 48.00790294620985, Battery Storage = 288.0474176772591, LT Storage = 240.03951473104928
  Node [3037;3446]: Solar = 91.0917858323417, Battery Storage = 546.5507149940502, LT Storage = 455.4589291617085
  Node [2145;4069]: Solar = 88.49620340996901, Battery Storage = 530.9772204598141, LT Storage = 442.48101704984504
  Node [2318;3240]: Solar = 109.06081078435518, Battery Storage = 654.3648647061311, LT Storage = 545.3040539217759
  Node [2325;3256]: Solar = 89.10417033510178, Battery Storage = 534.6250220106107, LT Storage = 445.52085167550894
  Node [3412;2232]: Solar = 39.55078831000409, Battery Storage = 237.3047298600245, LT Storage = 197.75394155002044
  Node [2514;3720]: Solar = 35.7271250568579, Battery Storage = 214.3627503411474, LT Storage = 178.63562528428952
  Node [2535;3696]: Solar = 42.692466645588354, Battery Storage = 256.1547998735301, LT Storage = 213.46233322794177
  Node [948;3617]: Solar = 36.604385894027374, Battery Storage = 219.62631536416424, LT Storage = 183.02192947013685
  Node [2361;4027]: Solar = 90.59503169729292, Battery Storage = 543.5701901837575, LT Storage = 452.97515848646464
  Node [2361;4020]: Solar = 137.92871169516124, Battery Storage = 827.5722701709674, LT Storage = 689.6435584758062
  Node [2408;4002]: Solar = 80.20489215231551, Battery Storage = 481.2293529138931, LT Storage = 401.02446076157753
  Node [2401;3996]: Solar = 72.10416207429378, Battery Storage = 432.6249724457627, LT Storage = 360.5208103714689
  Node [2207;3825]: Solar = 91.40875491629876, Battery Storage = 548.4525294977925, LT Storage = 457.04377458149384
  Node [2210;3835]: Solar = 97.85564462196405, Battery Storage = 587.1338677317842, LT Storage = 489.27822310982026
  Node [2374;4110]: Solar = 133.40662853305622, Battery Storage = 800.4397711983373, LT Storage = 667.033142665281
  Node [2376;4012]: Solar = 54.74431720692396, Battery Storage = 328.46590324154374, LT Storage = 273.7215860346198
  Node [2369;4014]: Solar = 133.63031040925878, Battery Storage = 801.7818624555528, LT Storage = 668.1515520462939
  Node [2318;2972]: Solar = 337.7658706632288, Battery Storage = 2026.5952239793728, LT Storage = 1688.8293533161439
  Node [2332;2968]: Solar = 207.91994766088456, Battery Storage = 1247.5196859653074, LT Storage = 1039.5997383044228
  Node [2329;2980]: Solar = 455.8890502144869, Battery Storage = 2735.3343012869213, LT Storage = 2279.4452510724345
  Node [2396;4035]: Solar = 43.6822964285573, Battery Storage = 262.0937785713438, LT Storage = 218.4114821427865
  Node [2399;4039]: Solar = 52.613627421895515, Battery Storage = 315.6817645313731, LT Storage = 263.06813710947756
  Node [2314;3114]: Solar = 159.56064775685886, Battery Storage = 957.3638865411531, LT Storage = 797.8032387842943
  Node [2321;3114]: Solar = 146.75810638519175, Battery Storage = 880.5486383111505, LT Storage = 733.7905319259587
  Node [1830;3405]: Solar = 33.369501234870626, Battery Storage = 200.21700740922375, LT Storage = 166.84750617435313
  Node [3360;2230]: Solar = 108.27567576856195, Battery Storage = 649.6540546113717, LT Storage = 541.3783788428098
  Node [2262;2981]: Solar = 347.19180064526785, Battery Storage = 2083.150803871607, LT Storage = 1735.9590032263393
  Node [2183;3694]: Solar = 109.80751320420566, Battery Storage = 658.845079225234, LT Storage = 549.0375660210283
  Node [2186;3682]: Solar = 48.10703235725309, Battery Storage = 288.6421941435185, LT Storage = 240.53516178626546
  Node [2464;3625]: Solar = 27.96324653092388, Battery Storage = 167.77947918554327, LT Storage = 139.8162326546194
  Node [3445;2221]: Solar = 20.182525233344823, Battery Storage = 121.09515140006894, LT Storage = 100.91262616672411
  Node [2633;3653]: Solar = 86.2622164138117, Battery Storage = 517.5732984828702, LT Storage = 431.3110820690585
  Node [2590;3670]: Solar = 92.4185348671173, Battery Storage = 554.5112092027039, LT Storage = 462.0926743355865
  Node [2228;3237]: Solar = 109.80566220528526, Battery Storage = 658.8339732317115, LT Storage = 549.0283110264263
  Node [1366;3816]: Solar = 60.58630021607085, Battery Storage = 363.5178012964251, LT Storage = 302.9315010803543
  Node [2338;3242]: Solar = 126.81691161912462, Battery Storage = 760.9014697147477, LT Storage = 634.0845580956232
  Node [1999;3339]: Solar = 34.09283054187298, Battery Storage = 204.55698325123785, LT Storage = 170.4641527093649
  Node [2589;3410]: Solar = 106.69052987256322, Battery Storage = 640.1431792353793, LT Storage = 533.4526493628161
  Node [2601;3412]: Solar = 129.1884818758869, Battery Storage = 775.1308912553214, LT Storage = 645.9424093794346
  Node [2621;3383]: Solar = 221.33159992340532, Battery Storage = 1327.989599540432, LT Storage = 1106.6579996170267
  Node [3437;3767]: Solar = 109.03627484979629, Battery Storage = 654.2176490987777, LT Storage = 545.1813742489815
  Node [2442;3137]: Solar = 46.111991264792, Battery Storage = 276.671947588752, LT Storage = 230.55995632396002
  Node [2506;2767]: Solar = 27.32449563572543, Battery Storage = 163.9469738143526, LT Storage = 136.62247817862715
  Node [2275;3299]: Solar = 77.72892377456425, Battery Storage = 466.37354264738553, LT Storage = 388.64461887282124
  Node [2280;3302]: Solar = 116.71720736004666, Battery Storage = 700.30324416028, LT Storage = 583.5860368002333
  Node [2946;3365]: Solar = 105.8944048793528, Battery Storage = 635.3664292761168, LT Storage = 529.472024396764
  Node [2956;3377]: Solar = 138.88662990000134, Battery Storage = 833.319779400008, LT Storage = 694.4331495000067
  Node [2123;4029]: Solar = 85.50150350682176, Battery Storage = 513.0090210409305, LT Storage = 427.50751753410884
  Node [2104;4032]: Solar = 74.91014432900894, Battery Storage = 449.46086597405366, LT Storage = 374.55072164504475
  Node [2379;4107]: Solar = 72.26055488053557, Battery Storage = 433.5633292832134, LT Storage = 361.3027744026778
  Node [2375;4102]: Solar = 86.12613506973494, Battery Storage = 516.7568104184097, LT Storage = 430.6306753486747
  Node [2821;2557]: Solar = 80.90611826206116, Battery Storage = 485.4367095723669, LT Storage = 404.5305913103058
  Node [2479;3918]: Solar = 41.974042793261866, Battery Storage = 251.84425675957118, LT Storage = 209.87021396630934
  Node [2487;3920]: Solar = 53.51866279163163, Battery Storage = 321.11197674978973, LT Storage = 267.59331395815815
  Node [3168;3467]: Solar = 74.07604214950656, Battery Storage = 444.45625289703935, LT Storage = 370.38021074753283
  Node [3164;3477]: Solar = 92.65955371157064, Battery Storage = 555.9573222694238, LT Storage = 463.2977685578532
  Node [2493;3173]: Solar = 123.23291086314954, Battery Storage = 739.3974651788973, LT Storage = 616.1645543157478
  Node [2804;3699]: Solar = 79.13942665009395, Battery Storage = 474.8365599005637, LT Storage = 395.69713325046973
  Node [2811;3701]: Solar = 42.30153262087624, Battery Storage = 253.80919572525744, LT Storage = 211.50766310438118
  Node [2292;3999]: Solar = 75.88813016632255, Battery Storage = 455.3287809979353, LT Storage = 379.44065083161274
  Node [2511;3670]: Solar = 34.89625925688944, Battery Storage = 209.37755554133662, LT Storage = 174.48129628444718
  Node [2704;3470]: Solar = 138.4798573890543, Battery Storage = 830.8791443343258, LT Storage = 692.3992869452716
  Node [2705;3463]: Solar = 132.33734648274665, Battery Storage = 794.02407889648, LT Storage = 661.6867324137332
  Node [2353;3584]: Solar = 91.30972323676082, Battery Storage = 547.8583394205649, LT Storage = 456.5486161838041
  Node [2358;3576]: Solar = 139.82585690377033, Battery Storage = 838.955141422622, LT Storage = 699.1292845188516
  Node [2359;3589]: Solar = 114.29667614361982, Battery Storage = 685.7800568617189, LT Storage = 571.483380718099
  Node [3031;3491]: Solar = 154.47574604941514, Battery Storage = 926.8544762964908, LT Storage = 772.3787302470757
  Node [2331;3524]: Solar = 244.22889975180937, Battery Storage = 1465.373398510856, LT Storage = 1221.1444987590469
  Node [3424;2254]: Solar = 21.900575531429165, Battery Storage = 131.40345318857499, LT Storage = 109.50287765714583
  Node [2296;4225]: Solar = 71.96042860265553, Battery Storage = 431.76257161593315, LT Storage = 359.8021430132776
  Node [2300;4231]: Solar = 85.16294535584298, Battery Storage = 510.9776721350579, LT Storage = 425.8147267792149
  Node [2384;3977]: Solar = 95.23612022399725, Battery Storage = 571.4167213439835, LT Storage = 476.18060111998625
  Node [2365;4026]: Solar = 129.27491218566743, Battery Storage = 775.6494731140046, LT Storage = 646.3745609283371
  Node [2419;3873]: Solar = 37.9929280638261, Battery Storage = 227.9575683829566, LT Storage = 189.9646403191305
  Node [2388;3882]: Solar = 113.14261041949284, Battery Storage = 678.8556625169571, LT Storage = 565.7130520974642
  Node [2109;4066]: Solar = 86.43670763594154, Battery Storage = 518.6202458156492, LT Storage = 432.18353817970774
  Node [2602;3454]: Solar = 137.03728425544836, Battery Storage = 822.2237055326901, LT Storage = 685.1864212772418
  Node [2605;3443]: Solar = 232.6152877639617, Battery Storage = 1395.69172658377, LT Storage = 1163.0764388198086
  Node [2301;2973]: Solar = 214.70395535594835, Battery Storage = 1288.2237321356902, LT Storage = 1073.5197767797417
  Node [2314;2988]: Solar = 447.0501140015657, Battery Storage = 2682.300684009394, LT Storage = 2235.2505700078286
  Node [2515;3298]: Solar = 119.32238443193482, Battery Storage = 715.9343065916089, LT Storage = 596.6119221596741
  Node [2302;3318]: Solar = 99.48138001857971, Battery Storage = 596.8882801114783, LT Storage = 497.4069000928986
  Node [2309;3310]: Solar = 111.89401511134218, Battery Storage = 671.3640906680531, LT Storage = 559.470075556711
  Node [3101;2020]: Solar = 29.04461624063784, Battery Storage = 174.26769744382705, LT Storage = 145.2230812031892
  Node [3774;2176]: Solar = 22.492865348534345, Battery Storage = 134.95719209120608, LT Storage = 112.46432674267172
  Node [2725;3575]: Solar = 52.521227793965885, Battery Storage = 315.1273667637953, LT Storage = 262.60613896982943
  Node [2392;4038]: Solar = 20.905034174503555, Battery Storage = 125.43020504702133, LT Storage = 104.52517087251778
  Node [2388;4032]: Solar = 64.2185394084463, Battery Storage = 385.3112364506778, LT Storage = 321.0926970422315
  Node [2391;4042]: Solar = 49.669500685716585, Battery Storage = 298.01700411429954, LT Storage = 248.3475034285829
  Node [2544;2751]: Solar = 84.04286758877517, Battery Storage = 504.257205532651, LT Storage = 420.2143379438758
  Node [2498;3149]: Solar = 147.49581567755772, Battery Storage = 884.9748940653462, LT Storage = 737.4790783877886
  Node [3443;2183]: Solar = 25.685916013789004, Battery Storage = 154.115496082734, LT Storage = 128.42958006894503
  Node [2309;3562]: Solar = 168.09674730344403, Battery Storage = 1008.5804838206642, LT Storage = 840.4837365172202
  Node [2155;3268]: Solar = 101.0593744152355, Battery Storage = 606.356246491413, LT Storage = 505.29687207617746
  Node [2141;3268]: Solar = 155.17996248578913, Battery Storage = 931.0797749147348, LT Storage = 775.8998124289457
  Node [2340;4034]: Solar = 51.1881779494983, Battery Storage = 307.12906769698975, LT Storage = 255.9408897474915
  Node [2524;3877]: Solar = 50.31515942236796, Battery Storage = 301.89095653420776, LT Storage = 251.57579711183982
  Node [2940;3022]: Solar = 23.914292001181828, Battery Storage = 143.48575200709098, LT Storage = 119.57146000590913
  Node [3223;3485]: Solar = 73.60943758284833, Battery Storage = 441.65662549709, LT Storage = 368.04718791424165
  Node [2517;2427]: Solar = 23.05705391985713, Battery Storage = 138.34232351914278, LT Storage = 115.28526959928564
  Node [2482;2402]: Solar = 24.96912322475157, Battery Storage = 149.81473934850942, LT Storage = 124.84561612375785
  Node [2169;3680]: Solar = 177.9999192009785, Battery Storage = 1067.999515205871, LT Storage = 889.9995960048925
  Node [2170;3673]: Solar = 72.7147492683668, Battery Storage = 436.2884956102008, LT Storage = 363.573746341834
  Node [2148;3198]: Solar = 77.40077543281345, Battery Storage = 464.4046525968807, LT Storage = 387.00387716406726
  Node [2281;3914]: Solar = 97.001686258962, Battery Storage = 582.010117553772, LT Storage = 485.00843129480995
  Node [2056;3528]: Solar = 197.09277629129963, Battery Storage = 1182.5566577477978, LT Storage = 985.4638814564981
  Node [2064;3533]: Solar = 63.24494489285733, Battery Storage = 379.46966935714397, LT Storage = 316.2247244642867
  Node [2798;3684]: Solar = 84.19972444404985, Battery Storage = 505.1983466642991, LT Storage = 420.9986222202492
  Node [2806;3684]: Solar = 48.03044159783606, Battery Storage = 288.1826495870164, LT Storage = 240.15220798918028
  Node [3435;2181]: Solar = 63.306859282821975, Battery Storage = 379.8411556969319, LT Storage = 316.53429641410986
  Node [2400;4001]: Solar = 43.417882531954305, Battery Storage = 260.5072951917258, LT Storage = 217.08941265977154
  Node [2636;4140]: Solar = 89.0983318515492, Battery Storage = 534.5899911092952, LT Storage = 445.49165925774605
  Node [3001;1930]: Solar = 20.621051859508825, Battery Storage = 123.72631115705295, LT Storage = 103.10525929754412
  Node [2454;3343]: Solar = 101.0917895971031, Battery Storage = 606.5507375826186, LT Storage = 505.4589479855155
  Node [2461;3343]: Solar = 106.26630725995652, Battery Storage = 637.5978435597391, LT Storage = 531.3315362997826
  Node [3416;1870]: Solar = 873.0, Battery Storage = 5238.0, LT Storage = 4365.0
  Node [2366;4099]: Solar = 89.22319884929925, Battery Storage = 535.3391930957955, LT Storage = 446.11599424649626
  Node [2370;4093]: Solar = 194.59242668013957, Battery Storage = 1167.5545600808373, LT Storage = 972.9621334006979
  Node [2209;4194]: Solar = 66.51576918130026, Battery Storage = 399.09461508780157, LT Storage = 332.5788459065013
  Node [2215;4252]: Solar = 153.506715374824, Battery Storage = 921.0402922489441, LT Storage = 767.5335768741201
  Node [2319;3598]: Solar = 119.55893989584726, Battery Storage = 717.3536393750835, LT Storage = 597.7946994792363
  Node [2311;3598]: Solar = 118.74512005490708, Battery Storage = 712.4707203294424, LT Storage = 593.7256002745354
  Node [3258;2480]: Solar = 34.59738970037914, Battery Storage = 207.58433820227484, LT Storage = 172.9869485018957
  Node [3262;2495]: Solar = 46.13472627395504, Battery Storage = 276.80835764373023, LT Storage = 230.6736313697752
  Node [2211;3271]: Solar = 145.313881094276, Battery Storage = 871.8832865656561, LT Storage = 726.56940547138
  Node [1757;3369]: Solar = 20.456587615475417, Battery Storage = 122.73952569285251, LT Storage = 102.28293807737708
  Node [1757;3378]: Solar = 20.11681321919737, Battery Storage = 120.70087931518421, LT Storage = 100.58406609598684
  Node [2317;3646]: Solar = 147.71294363140754, Battery Storage = 886.2776617884452, LT Storage = 738.5647181570378
  Node [2310;3646]: Solar = 298.39346762549593, Battery Storage = 1790.3608057529755, LT Storage = 1491.9673381274797
  Node [2546;3270]: Solar = 184.8233886269789, Battery Storage = 1108.9403317618735, LT Storage = 924.1169431348944
  Node [2555;3267]: Solar = 106.09260726416196, Battery Storage = 636.5556435849717, LT Storage = 530.4630363208098
  Node [2565;3273]: Solar = 128.47753514289712, Battery Storage = 770.8652108573827, LT Storage = 642.3876757144856
  Node [2687;3135]: Solar = 24.263064436948948, Battery Storage = 145.57838662169368, LT Storage = 121.31532218474474
  Node [2407;3290]: Solar = 149.85494105629374, Battery Storage = 899.1296463377624, LT Storage = 749.2747052814686
  Node [2188;3315]: Solar = 98.2171404303454, Battery Storage = 589.3028425820723, LT Storage = 491.085702151727
  Node [2180;3318]: Solar = 102.18328676304928, Battery Storage = 613.0997205782957, LT Storage = 510.9164338152464
  Node [3115;2387]: Solar = 26.33546099180692, Battery Storage = 158.01276595084153, LT Storage = 131.6773049590346
  Node [2447;3591]: Solar = 26.853958465739627, Battery Storage = 161.12375079443777, LT Storage = 134.26979232869814
  Node [2360;3754]: Solar = 36.40258449349238, Battery Storage = 218.41550696095425, LT Storage = 182.0129224674619
  Node [2339;3154]: Solar = 173.02057330838994, Battery Storage = 1038.1234398503398, LT Storage = 865.1028665419497
  Node [2477;3256]: Solar = 214.97253246108951, Battery Storage = 1289.8351947665371, LT Storage = 1074.8626623054477
  Node [2605;3585]: Solar = 113.56095995049591, Battery Storage = 681.3657597029755, LT Storage = 567.8047997524795
  Node [2626;3574]: Solar = 220.16919147745784, Battery Storage = 1321.015148864747, LT Storage = 1100.8459573872892
  Node [2233;3362]: Solar = 64.12278598204738, Battery Storage = 384.7367158922842, LT Storage = 320.6139299102369
  Node [2228;3374]: Solar = 178.41356015904097, Battery Storage = 1070.4813609542457, LT Storage = 892.0678007952049
  Node [2285;3132]: Solar = 118.85268308645324, Battery Storage = 713.1160985187195, LT Storage = 594.2634154322662
  Node [2155;3929]: Solar = 87.18729778059964, Battery Storage = 523.1237866835978, LT Storage = 435.9364889029982
  Node [2583;4238]: Solar = 118.82071291605804, Battery Storage = 712.9242774963483, LT Storage = 594.1035645802903
  Node [2572;4231]: Solar = 61.95796953777499, Battery Storage = 371.74781722664994, LT Storage = 309.78984768887494
  Node [2019;3595]: Solar = 37.12496187910879, Battery Storage = 222.74977127465274, LT Storage = 185.62480939554393
  Node [2022;3600]: Solar = 65.49995100656677, Battery Storage = 392.9997060394006, LT Storage = 327.4997550328339
  Node [3405;3311]: Solar = 92.16853125702906, Battery Storage = 553.0111875421744, LT Storage = 460.84265628514527
  Node [3381;3305]: Solar = 24.34182725723674, Battery Storage = 146.05096354342044, LT Storage = 121.7091362861837
  Node [1560;3870]: Solar = 27.621879871426103, Battery Storage = 165.73127922855662, LT Storage = 138.1093993571305
  Node [3258;3333]: Solar = 25.332524980160613, Battery Storage = 151.99514988096368, LT Storage = 126.66262490080307
  Node [1949;3257]: Solar = 48.48044918996768, Battery Storage = 290.88269513980606, LT Storage = 242.4022459498384
  Node [2001;3171]: Solar = 23.913888947073, Battery Storage = 143.483333682438, LT Storage = 119.56944473536501
  Node [4443;854]: Solar = 326, Battery Storage = 1956, LT Storage = 1630
Found 2301 nodes with Solar &gt; 20 for storage

Step 2: Loading graphs from Base directory and adding storage attributes...
Processing spring season...
  Loaded and processed SolarStorage_Base_spring_hour00.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour01.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour02.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour03.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour04.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour05.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour06.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour07.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour08.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour09.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour10.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour11.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour12.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour13.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour14.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour15.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour16.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour17.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour18.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour19.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour20.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour21.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour22.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_spring_hour23.pkl: 2301 nodes got battery storage
  Redistributing short-term storage for spring...
    Processed 50 nodes with battery storage...
    Processed 100 nodes with battery storage...
    Processed 150 nodes with battery storage...
    Processed 200 nodes with battery storage...
    Processed 250 nodes with battery storage...
    Processed 300 nodes with battery storage...
    Processed 350 nodes with battery storage...
    Processed 400 nodes with battery storage...
    Processed 450 nodes with battery storage...
    Processed 500 nodes with battery storage...
    Processed 550 nodes with battery storage...
    Processed 600 nodes with battery storage...
    Processed 650 nodes with battery storage...
    Processed 700 nodes with battery storage...
    Processed 750 nodes with battery storage...
    Processed 800 nodes with battery storage...
    Processed 850 nodes with battery storage...
    Processed 900 nodes with battery storage...
    Processed 950 nodes with battery storage...
    Processed 1000 nodes with battery storage...
    Processed 1050 nodes with battery storage...
    Processed 1100 nodes with battery storage...
    Processed 1150 nodes with battery storage...
    Processed 1200 nodes with battery storage...
    Processed 1250 nodes with battery storage...
    Processed 1300 nodes with battery storage...
    Processed 1350 nodes with battery storage...
    Processed 1400 nodes with battery storage...
    Processed 1450 nodes with battery storage...
    Processed 1500 nodes with battery storage...
    Processed 1550 nodes with battery storage...
    Processed 1600 nodes with battery storage...
    Processed 1650 nodes with battery storage...
    Processed 1700 nodes with battery storage...
    Processed 1750 nodes with battery storage...
    Processed 1800 nodes with battery storage...
    Processed 1850 nodes with battery storage...
    Processed 1900 nodes with battery storage...
    Processed 1950 nodes with battery storage...
    Processed 2000 nodes with battery storage...
    Processed 2050 nodes with battery storage...
    Processed 2100 nodes with battery storage...
    Processed 2150 nodes with battery storage...
    Processed 2200 nodes with battery storage...
    Processed 2250 nodes with battery storage...
    Processed 2300 nodes with battery storage...
    Completed spring: processed 2309 nodes with battery storage
  Completed spring season short-term storage processing

Processing summer season...
  Loaded and processed SolarStorage_Base_summer_hour00.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour01.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour02.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour03.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour04.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour05.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour06.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour07.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour08.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour09.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour10.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour11.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour12.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour13.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour14.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour15.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour16.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour17.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour18.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour19.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour20.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour21.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour22.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_summer_hour23.pkl: 2301 nodes got battery storage
  Redistributing short-term storage for summer...
    Processed 50 nodes with battery storage...
    Processed 100 nodes with battery storage...
    Processed 150 nodes with battery storage...
    Processed 200 nodes with battery storage...
    Processed 250 nodes with battery storage...
    Processed 300 nodes with battery storage...
    Processed 350 nodes with battery storage...
    Processed 400 nodes with battery storage...
    Processed 450 nodes with battery storage...
    Processed 500 nodes with battery storage...
    Processed 550 nodes with battery storage...
    Processed 600 nodes with battery storage...
    Processed 650 nodes with battery storage...
    Processed 700 nodes with battery storage...
    Processed 750 nodes with battery storage...
    Processed 800 nodes with battery storage...
    Processed 850 nodes with battery storage...
    Processed 900 nodes with battery storage...
    Processed 950 nodes with battery storage...
    Processed 1000 nodes with battery storage...
    Processed 1050 nodes with battery storage...
    Processed 1100 nodes with battery storage...
    Processed 1150 nodes with battery storage...
    Processed 1200 nodes with battery storage...
    Processed 1250 nodes with battery storage...
    Processed 1300 nodes with battery storage...
    Processed 1350 nodes with battery storage...
    Processed 1400 nodes with battery storage...
    Processed 1450 nodes with battery storage...
    Processed 1500 nodes with battery storage...
    Processed 1550 nodes with battery storage...
    Processed 1600 nodes with battery storage...
    Processed 1650 nodes with battery storage...
    Processed 1700 nodes with battery storage...
    Processed 1750 nodes with battery storage...
    Processed 1800 nodes with battery storage...
    Processed 1850 nodes with battery storage...
    Processed 1900 nodes with battery storage...
    Processed 1950 nodes with battery storage...
    Processed 2000 nodes with battery storage...
    Processed 2050 nodes with battery storage...
    Processed 2100 nodes with battery storage...
    Processed 2150 nodes with battery storage...
    Processed 2200 nodes with battery storage...
    Processed 2250 nodes with battery storage...
    Processed 2300 nodes with battery storage...
    Completed summer: processed 2309 nodes with battery storage
  Completed summer season short-term storage processing

Processing fall season...
  Loaded and processed SolarStorage_Base_fall_hour00.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour01.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour02.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour03.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour04.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour05.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour06.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour07.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour08.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour09.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour10.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour11.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour12.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour13.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour14.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour15.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour16.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour17.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour18.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour19.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour20.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour21.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour22.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_fall_hour23.pkl: 2301 nodes got battery storage
  Redistributing short-term storage for fall...
    Processed 50 nodes with battery storage...
    Processed 100 nodes with battery storage...
    Processed 150 nodes with battery storage...
    Processed 200 nodes with battery storage...
    Processed 250 nodes with battery storage...
    Processed 300 nodes with battery storage...
    Processed 350 nodes with battery storage...
    Processed 400 nodes with battery storage...
    Processed 450 nodes with battery storage...
    Processed 500 nodes with battery storage...
    Processed 550 nodes with battery storage...
    Processed 600 nodes with battery storage...
    Processed 650 nodes with battery storage...
    Processed 700 nodes with battery storage...
    Processed 750 nodes with battery storage...
    Processed 800 nodes with battery storage...
    Processed 850 nodes with battery storage...
    Processed 900 nodes with battery storage...
    Processed 950 nodes with battery storage...
    Processed 1000 nodes with battery storage...
    Processed 1050 nodes with battery storage...
    Processed 1100 nodes with battery storage...
    Processed 1150 nodes with battery storage...
    Processed 1200 nodes with battery storage...
    Processed 1250 nodes with battery storage...
    Processed 1300 nodes with battery storage...
    Processed 1350 nodes with battery storage...
    Processed 1400 nodes with battery storage...
    Processed 1450 nodes with battery storage...
    Processed 1500 nodes with battery storage...
    Processed 1550 nodes with battery storage...
    Processed 1600 nodes with battery storage...
    Processed 1650 nodes with battery storage...
    Processed 1700 nodes with battery storage...
    Processed 1750 nodes with battery storage...
    Processed 1800 nodes with battery storage...
    Processed 1850 nodes with battery storage...
    Processed 1900 nodes with battery storage...
    Processed 1950 nodes with battery storage...
    Processed 2000 nodes with battery storage...
    Processed 2050 nodes with battery storage...
    Processed 2100 nodes with battery storage...
    Processed 2150 nodes with battery storage...
    Processed 2200 nodes with battery storage...
    Processed 2250 nodes with battery storage...
    Processed 2300 nodes with battery storage...
    Completed fall: processed 2309 nodes with battery storage
  Completed fall season short-term storage processing

Processing winter season...
  Loaded and processed SolarStorage_Base_winter_hour00.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour01.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour02.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour03.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour04.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour05.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour06.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour07.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour08.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour09.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour10.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour11.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour12.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour13.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour14.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour15.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour16.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour17.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour18.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour19.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour20.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour21.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour22.pkl: 2301 nodes got battery storage
  Loaded and processed SolarStorage_Base_winter_hour23.pkl: 2301 nodes got battery storage
  Redistributing short-term storage for winter...
    Processed 50 nodes with battery storage...
    Processed 100 nodes with battery storage...
    Processed 150 nodes with battery storage...
    Processed 200 nodes with battery storage...
    Processed 250 nodes with battery storage...
    Processed 300 nodes with battery storage...
    Processed 350 nodes with battery storage...
    Processed 400 nodes with battery storage...
    Processed 450 nodes with battery storage...
    Processed 500 nodes with battery storage...
    Processed 550 nodes with battery storage...
    Processed 600 nodes with battery storage...
    Processed 650 nodes with battery storage...
    Processed 700 nodes with battery storage...
    Processed 750 nodes with battery storage...
    Processed 800 nodes with battery storage...
    Processed 850 nodes with battery storage...
    Processed 900 nodes with battery storage...
    Processed 950 nodes with battery storage...
    Processed 1000 nodes with battery storage...
    Processed 1050 nodes with battery storage...
    Processed 1100 nodes with battery storage...
    Processed 1150 nodes with battery storage...
    Processed 1200 nodes with battery storage...
    Processed 1250 nodes with battery storage...
    Processed 1300 nodes with battery storage...
    Processed 1350 nodes with battery storage...
    Processed 1400 nodes with battery storage...
    Processed 1450 nodes with battery storage...
    Processed 1500 nodes with battery storage...
    Processed 1550 nodes with battery storage...
    Processed 1600 nodes with battery storage...
    Processed 1650 nodes with battery storage...
    Processed 1700 nodes with battery storage...
    Processed 1750 nodes with battery storage...
    Processed 1800 nodes with battery storage...
    Processed 1850 nodes with battery storage...
    Processed 1900 nodes with battery storage...
    Processed 1950 nodes with battery storage...
    Processed 2000 nodes with battery storage...
    Processed 2050 nodes with battery storage...
    Processed 2100 nodes with battery storage...
    Processed 2150 nodes with battery storage...
    Processed 2200 nodes with battery storage...
    Processed 2250 nodes with battery storage...
    Processed 2300 nodes with battery storage...
    Completed winter: processed 2309 nodes with battery storage
  Completed winter season short-term storage processing

Successfully processed short-term storage for 96 graphs

Step 3: Adding long-term storage attributes...
Added LT storage attributes to all graphs

Step 4: Redistributing long-term storage across all 96 hours...
Processing LT storage redistribution across all 96 hours...
Drawing from top 12 highest balance hours...
  Processed 50 nodes with LT storage...
  Processed 100 nodes with LT storage...
  Processed 150 nodes with LT storage...
  Processed 200 nodes with LT storage...
  Processed 250 nodes with LT storage...
  Processed 300 nodes with LT storage...
  Processed 350 nodes with LT storage...
  Processed 400 nodes with LT storage...
  Processed 450 nodes with LT storage...
  Processed 500 nodes with LT storage...
  Processed 550 nodes with LT storage...
  Processed 600 nodes with LT storage...
  Processed 650 nodes with LT storage...
  Processed 700 nodes with LT storage...
  Processed 750 nodes with LT storage...
  Processed 800 nodes with LT storage...
  Processed 850 nodes with LT storage...
  Processed 900 nodes with LT storage...
  Processed 950 nodes with LT storage...
  Processed 1000 nodes with LT storage...
  Processed 1050 nodes with LT storage...
  Processed 1100 nodes with LT storage...
  Processed 1150 nodes with LT storage...
  Processed 1200 nodes with LT storage...
  Processed 1250 nodes with LT storage...
  Processed 1300 nodes with LT storage...
  Processed 1350 nodes with LT storage...
  Processed 1400 nodes with LT storage...
  Processed 1450 nodes with LT storage...
  Processed 1500 nodes with LT storage...
  Processed 1550 nodes with LT storage...
  Processed 1600 nodes with LT storage...
  Processed 1650 nodes with LT storage...
  Processed 1700 nodes with LT storage...
  Processed 1750 nodes with LT storage...
  Processed 1800 nodes with LT storage...
  Processed 1850 nodes with LT storage...
  Processed 1900 nodes with LT storage...
  Processed 1950 nodes with LT storage...
  Processed 2000 nodes with LT storage...
  Processed 2050 nodes with LT storage...
  Processed 2100 nodes with LT storage...
  Processed 2150 nodes with LT storage...
  Processed 2200 nodes with LT storage...
  Processed 2250 nodes with LT storage...
  Processed 2300 nodes with LT storage...
  Completed global redistribution: processed 2301 nodes with LT storage

Step 5: Updating existing Base files with storage attributes...
  Updated 1/96 files...
  Updated 25/96 files...
  Updated 49/96 files...
  Updated 73/96 files...

 Combined storage processing completed!
Updated existing Base files with storage attributes

Verification - checking sample results...
  SolarStorage_Base_spring_hour00.pkl: Node [3750;5505]
    Short-term Battery Storage: 490.2843865292978
    Short-term Storage Impact: -1.986
    Long-term LT Storage: 408.5703221077482
    Long-term Storage Impact: 0.000
    Final Balance: -61.219

 Processing summary:
   - Updated existing graphs in: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/Base
   - Processed 96 graphs with combined storage
   - Added short-term storage to 2301 nodes (Solar * 6)
   - Added long-term storage to 2301 nodes (Solar * 5)
   - Short-term storage: 24-hour redistribution with 90.0% retention
   - Long-term storage: 96-hour redistribution from top 12 hours with 75.0% retention
   - All graphs now include both short-term and long-term storage effects
   - Production keys: Nuclear, Wind, Solar, Geothermal
   - Consumption keys: Industry, Others, Transport, Transform

   - Added attributes to existing graphs:
     * Battery Storage (capacity)
     * storage_impact (short-term redistribution effect)
     * LT Storage (long-term capacity)
     * LT_storage_impact (long-term redistribution effect)
     * production_fix (MWh) (calculated production sum)
     * consumption_sum (MWh) (calculated consumption sum)
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=1c9e915e-7f93-4647-bb0b-429297d21aca">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In[26]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="k">def</span> <span class="nf">verify_combined_storage_allocation</span><span class="p">():</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Randomly selects a node with storage allocation,</span>
<span class="sd">    then prints the full 96-hour profile (4 seasons  24 hours) showing both short-term and long-term storage effects.</span>
<span class="sd">    """</span>
    <span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"spring"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">,</span> <span class="s2">"fall"</span><span class="p">,</span> <span class="s2">"winter"</span><span class="p">]</span>
    <span class="n">hours</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">h</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">"</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">)]</span>
    
    <span class="c1"># Updated path to read combined storage results</span>
    <span class="n">output_dir</span> <span class="o">=</span> <span class="s2">"/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/Base"</span>
    
    <span class="c1"># Load all 96 graphs</span>
    <span class="n">all_graphs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">graph_info</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># To keep track of season and hour for each graph</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Loading all 96 graphs..."</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">hour</span> <span class="ow">in</span> <span class="n">hours</span><span class="p">:</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"SolarStorage_Base_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hour</span><span class="si">}</span><span class="s2">.pkl"</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                        <span class="n">G</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                        <span class="n">all_graphs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
                        <span class="n">graph_info</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">'season'</span><span class="p">:</span> <span class="n">season</span><span class="p">,</span> <span class="s1">'hour'</span><span class="p">:</span> <span class="n">hour</span><span class="p">,</span> <span class="s1">'filename'</span><span class="p">:</span> <span class="n">filename</span><span class="p">})</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Error loading </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
                    <span class="k">return</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"File not found: </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
                <span class="k">return</span>
    
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">96</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Error: Expected 96 graphs, found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">return</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Successfully loaded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span><span class="si">}</span><span class="s2"> graphs"</span><span class="p">)</span>
    
    <span class="c1"># Find all nodes that have either battery storage or LT storage &gt; 0</span>
    <span class="n">nodes_with_storage</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">G</span> <span class="ow">in</span> <span class="n">all_graphs</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Battery Storage'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT Storage'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">nodes_with_storage</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="ow">not</span> <span class="n">nodes_with_storage</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"No nodes with storage found!"</span><span class="p">)</span>
        <span class="k">return</span>
    
    <span class="c1"># Randomly select a node with storage</span>
    <span class="n">random_node</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">nodes_with_storage</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Randomly selected node: </span><span class="si">{</span><span class="n">random_node</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="c1"># Get storage values (should be the same across all hours)</span>
    <span class="n">first_graph_data</span> <span class="o">=</span> <span class="n">all_graphs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">random_node</span><span class="p">]</span>
    <span class="n">battery_storage</span> <span class="o">=</span> <span class="n">first_graph_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Battery Storage'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">lt_storage</span> <span class="o">=</span> <span class="n">first_graph_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT Storage'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Short-term Battery Storage capacity: </span><span class="si">{</span><span class="n">battery_storage</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Long-term LT Storage capacity: </span><span class="si">{</span><span class="n">lt_storage</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total Storage capacity: </span><span class="si">{</span><span class="n">battery_storage</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">lt_storage</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">96-Hour Profile for Node </span><span class="si">{</span><span class="n">random_node</span><span class="si">}</span><span class="s2"> (All Seasons):"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"="</span> <span class="o">*</span> <span class="mi">140</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="s1">'Season'</span><span class="si">:</span><span class="s2">&lt;8</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">'Hour'</span><span class="si">:</span><span class="s2">&lt;6</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">'Prod_Fix'</span><span class="si">:</span><span class="s2">&lt;10</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">'Cons_Sum'</span><span class="si">:</span><span class="s2">&lt;10</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">'ST_Impact'</span><span class="si">:</span><span class="s2">&lt;12</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">'LT_Impact'</span><span class="si">:</span><span class="s2">&lt;12</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">'Total_Impact'</span><span class="si">:</span><span class="s2">&lt;13</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">'Balance'</span><span class="si">:</span><span class="s2">&lt;10</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"-"</span> <span class="o">*</span> <span class="mi">140</span><span class="p">)</span>
    
    <span class="n">total_abs_st_impact</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">total_abs_lt_impact</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">balances</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">G</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">graph_info</span><span class="p">):</span>
            <span class="n">season</span> <span class="o">=</span> <span class="n">graph_info</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="s1">'season'</span><span class="p">]</span>
            <span class="n">hour</span> <span class="o">=</span> <span class="n">graph_info</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="s1">'hour'</span><span class="p">]</span>
            
            <span class="k">if</span> <span class="n">random_node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">random_node</span><span class="p">]</span>
                <span class="n">production_fix</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_fix (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
                <span class="n">consumption_sum</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'consumption_sum (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
                <span class="n">st_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>  <span class="c1"># Short-term storage impact</span>
                <span class="n">lt_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT_storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>  <span class="c1"># Long-term storage impact</span>
                <span class="n">total_impact</span> <span class="o">=</span> <span class="n">st_impact</span> <span class="o">+</span> <span class="n">lt_impact</span>
                
                <span class="c1"># Calculate balance including both storage types</span>
                <span class="n">balance</span> <span class="o">=</span> <span class="n">production_fix</span> <span class="o">-</span> <span class="n">consumption_sum</span> <span class="o">+</span> <span class="n">total_impact</span>
                
                <span class="n">total_abs_st_impact</span> <span class="o">+=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">st_impact</span><span class="p">)</span>
                <span class="n">total_abs_lt_impact</span> <span class="o">+=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">lt_impact</span><span class="p">)</span>
                <span class="n">balances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">balance</span><span class="p">)</span>
                
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">season</span><span class="si">:</span><span class="s2">&lt;8</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">hour</span><span class="si">}</span><span class="s2">:00  </span><span class="si">{</span><span class="n">production_fix</span><span class="si">:</span><span class="s2">&lt;10.2f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">consumption_sum</span><span class="si">:</span><span class="s2">&lt;10.2f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">st_impact</span><span class="si">:</span><span class="s2">&lt;12.2f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">lt_impact</span><span class="si">:</span><span class="s2">&lt;12.2f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">total_impact</span><span class="si">:</span><span class="s2">&lt;13.2f</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">balance</span><span class="si">:</span><span class="s2">&lt;10.2f</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">season</span><span class="si">:</span><span class="s2">&lt;8</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">hour</span><span class="si">}</span><span class="s2">:00  Node not found in this hour's graph"</span><span class="p">)</span>
                <span class="n">balances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">"-"</span> <span class="o">*</span> <span class="mi">140</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Short-term storage utilization (across all 96 hours):"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Total absolute ST impact: </span><span class="si">{</span><span class="n">total_abs_st_impact</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">battery_storage</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  ST capacity: </span><span class="si">{</span><span class="n">battery_storage</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  ST utilization: </span><span class="si">{</span><span class="p">(</span><span class="n">total_abs_st_impact</span><span class="o">/</span><span class="n">battery_storage</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% of battery capacity"</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Long-term storage utilization (across all 96 hours):"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Total absolute LT impact: </span><span class="si">{</span><span class="n">total_abs_lt_impact</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">lt_storage</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  LT capacity: </span><span class="si">{</span><span class="n">lt_storage</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  LT utilization: </span><span class="si">{</span><span class="p">(</span><span class="n">total_abs_lt_impact</span><span class="o">/</span><span class="n">lt_storage</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% of LT capacity"</span><span class="p">)</span>
    
    <span class="c1"># Summary statistics</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Balance Statistics (including both storage types, all 96 hours):"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Minimum balance: </span><span class="si">{</span><span class="nb">min</span><span class="p">(</span><span class="n">balances</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Maximum balance: </span><span class="si">{</span><span class="nb">max</span><span class="p">(</span><span class="n">balances</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Balance range: </span><span class="si">{</span><span class="nb">max</span><span class="p">(</span><span class="n">balances</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">min</span><span class="p">(</span><span class="n">balances</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Average balance: </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="n">balances</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">balances</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    
    <span class="c1"># Collect storage impacts for all 96 hours</span>
    <span class="n">st_impacts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">lt_impacts</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">G</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">random_node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="n">st_impacts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">random_node</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'storage_impact'</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
            <span class="n">lt_impacts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">random_node</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT_storage_impact'</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">st_impacts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
            <span class="n">lt_impacts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
    
    <span class="c1"># Check storage impact patterns across all 96 hours</span>
    <span class="n">st_positive</span> <span class="o">=</span> <span class="p">[</span><span class="n">impact</span> <span class="k">for</span> <span class="n">impact</span> <span class="ow">in</span> <span class="n">st_impacts</span> <span class="k">if</span> <span class="n">impact</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">st_negative</span> <span class="o">=</span> <span class="p">[</span><span class="n">impact</span> <span class="k">for</span> <span class="n">impact</span> <span class="ow">in</span> <span class="n">st_impacts</span> <span class="k">if</span> <span class="n">impact</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span>
    
    <span class="n">lt_positive</span> <span class="o">=</span> <span class="p">[</span><span class="n">impact</span> <span class="k">for</span> <span class="n">impact</span> <span class="ow">in</span> <span class="n">lt_impacts</span> <span class="k">if</span> <span class="n">impact</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">lt_negative</span> <span class="o">=</span> <span class="p">[</span><span class="n">impact</span> <span class="k">for</span> <span class="n">impact</span> <span class="ow">in</span> <span class="n">lt_impacts</span> <span class="k">if</span> <span class="n">impact</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Short-term Storage Impact Analysis (all 96 hours):"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Hours with positive ST impact (discharging): </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">st_positive</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Hours with negative ST impact (charging): </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">st_negative</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Hours with zero ST impact: </span><span class="si">{</span><span class="mi">96</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">st_positive</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">st_negative</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">st_positive</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Total ST energy discharged: </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="n">st_positive</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">st_negative</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Total ST energy charged: </span><span class="si">{</span><span class="nb">abs</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">st_negative</span><span class="p">))</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Long-term Storage Impact Analysis (all 96 hours):"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Hours with positive LT impact (discharging): </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">lt_positive</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Hours with negative LT impact (charging): </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">lt_negative</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Hours with zero LT impact: </span><span class="si">{</span><span class="mi">96</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">lt_positive</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">lt_negative</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">lt_positive</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Total LT energy discharged: </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="n">lt_positive</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">lt_negative</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Total LT energy charged: </span><span class="si">{</span><span class="nb">abs</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">lt_negative</span><span class="p">))</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    
    <span class="c1"># Season-by-season breakdown</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Season-by-Season Storage Summary:"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">season_idx</span><span class="p">,</span> <span class="n">season</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">seasons</span><span class="p">):</span>
        <span class="n">season_start</span> <span class="o">=</span> <span class="n">season_idx</span> <span class="o">*</span> <span class="mi">24</span>
        <span class="n">season_end</span> <span class="o">=</span> <span class="n">season_start</span> <span class="o">+</span> <span class="mi">24</span>
        
        <span class="n">season_st_impacts</span> <span class="o">=</span> <span class="n">st_impacts</span><span class="p">[</span><span class="n">season_start</span><span class="p">:</span><span class="n">season_end</span><span class="p">]</span>
        <span class="n">season_lt_impacts</span> <span class="o">=</span> <span class="n">lt_impacts</span><span class="p">[</span><span class="n">season_start</span><span class="p">:</span><span class="n">season_end</span><span class="p">]</span>
        <span class="n">season_balances</span> <span class="o">=</span> <span class="n">balances</span><span class="p">[</span><span class="n">season_start</span><span class="p">:</span><span class="n">season_end</span><span class="p">]</span>
        
        <span class="n">st_abs_sum</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">impact</span><span class="p">)</span> <span class="k">for</span> <span class="n">impact</span> <span class="ow">in</span> <span class="n">season_st_impacts</span><span class="p">)</span>
        <span class="n">lt_abs_sum</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">impact</span><span class="p">)</span> <span class="k">for</span> <span class="n">impact</span> <span class="ow">in</span> <span class="n">season_lt_impacts</span><span class="p">)</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  </span><span class="si">{</span><span class="n">season</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2">:"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"    ST impact (absolute): </span><span class="si">{</span><span class="n">st_abs_sum</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"    LT impact (absolute): </span><span class="si">{</span><span class="n">lt_abs_sum</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"    Balance range: </span><span class="si">{</span><span class="nb">min</span><span class="p">(</span><span class="n">season_balances</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="nb">max</span><span class="p">(</span><span class="n">season_balances</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">verify_storage_effectiveness</span><span class="p">():</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Shows how storage systems level out the balances across time periods.</span>
<span class="sd">    Compares initial balances (without storage) vs final balances (with both storage types).</span>
<span class="sd">    """</span>
    <span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"spring"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">,</span> <span class="s2">"fall"</span><span class="p">,</span> <span class="s2">"winter"</span><span class="p">]</span>
    <span class="n">hours</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">h</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">"</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">)]</span>
    
    <span class="n">output_dir</span> <span class="o">=</span> <span class="s2">"/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/Base"</span>
    
    <span class="c1"># Load all 96 graphs</span>
    <span class="n">all_graphs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">seasons</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">hour</span> <span class="ow">in</span> <span class="n">hours</span><span class="p">:</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"SolarStorage_Base_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hour</span><span class="si">}</span><span class="s2">.pkl"</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filepath</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                        <span class="n">G</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                        <span class="n">all_graphs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="k">continue</span>
    
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">96</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Could not load all 96 graphs for effectiveness analysis"</span><span class="p">)</span>
        <span class="k">return</span>
    
    <span class="c1"># Find a node with both storage types</span>
    <span class="n">sample_node</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">G</span> <span class="ow">in</span> <span class="n">all_graphs</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Battery Storage'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT Storage'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">sample_node</span> <span class="o">=</span> <span class="n">node</span>
                <span class="k">break</span>
        <span class="k">if</span> <span class="n">sample_node</span><span class="p">:</span>
            <span class="k">break</span>
    
    <span class="k">if</span> <span class="ow">not</span> <span class="n">sample_node</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"No node with both storage types found for effectiveness analysis!"</span><span class="p">)</span>
        <span class="k">return</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Storage Effectiveness Analysis for Node </span><span class="si">{</span><span class="n">sample_node</span><span class="si">}</span><span class="s2">:"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"="</span> <span class="o">*</span> <span class="mi">80</span><span class="p">)</span>
    
    <span class="c1"># Calculate balances at different stages</span>
    <span class="n">initial_balances</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Without any storage</span>
    <span class="n">with_st_balances</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># With short-term storage only</span>
    <span class="n">final_balances</span> <span class="o">=</span> <span class="p">[]</span>    <span class="c1"># With both storage types</span>
    
    <span class="k">for</span> <span class="n">G</span> <span class="ow">in</span> <span class="n">all_graphs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">sample_node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">sample_node</span><span class="p">]</span>
            <span class="n">production_fix</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_fix (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="n">consumption_sum</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'consumption_sum (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="n">st_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="n">lt_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT_storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            
            <span class="n">initial_balance</span> <span class="o">=</span> <span class="n">production_fix</span> <span class="o">-</span> <span class="n">consumption_sum</span>
            <span class="n">with_st_balance</span> <span class="o">=</span> <span class="n">initial_balance</span> <span class="o">+</span> <span class="n">st_impact</span>
            <span class="n">final_balance</span> <span class="o">=</span> <span class="n">initial_balance</span> <span class="o">+</span> <span class="n">st_impact</span> <span class="o">+</span> <span class="n">lt_impact</span>
            
            <span class="n">initial_balances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">initial_balance</span><span class="p">)</span>
            <span class="n">with_st_balances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">with_st_balance</span><span class="p">)</span>
            <span class="n">final_balances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">final_balance</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Initial balances (no storage):"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Range: </span><span class="si">{</span><span class="nb">min</span><span class="p">(</span><span class="n">initial_balances</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="nb">max</span><span class="p">(</span><span class="n">initial_balances</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Standard deviation: </span><span class="si">{</span><span class="p">(</span><span class="nb">sum</span><span class="p">([(</span><span class="n">b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="n">initial_balances</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">initial_balances</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">initial_balances</span><span class="p">])</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">initial_balances</span><span class="p">))</span><span class="o">**</span><span class="mf">0.5</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"With short-term storage only:"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Range: </span><span class="si">{</span><span class="nb">min</span><span class="p">(</span><span class="n">with_st_balances</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="nb">max</span><span class="p">(</span><span class="n">with_st_balances</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Standard deviation: </span><span class="si">{</span><span class="p">(</span><span class="nb">sum</span><span class="p">([(</span><span class="n">b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="n">with_st_balances</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">with_st_balances</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">with_st_balances</span><span class="p">])</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">with_st_balances</span><span class="p">))</span><span class="o">**</span><span class="mf">0.5</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"With both storage types:"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Range: </span><span class="si">{</span><span class="nb">min</span><span class="p">(</span><span class="n">final_balances</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="nb">max</span><span class="p">(</span><span class="n">final_balances</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Standard deviation: </span><span class="si">{</span><span class="p">(</span><span class="nb">sum</span><span class="p">([(</span><span class="n">b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">sum</span><span class="p">(</span><span class="n">final_balances</span><span class="p">)</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">final_balances</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">final_balances</span><span class="p">])</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">final_balances</span><span class="p">))</span><span class="o">**</span><span class="mf">0.5</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="c1"># Calculate improvement metrics</span>
    <span class="n">initial_range</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">initial_balances</span><span class="p">)</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">initial_balances</span><span class="p">)</span>
    <span class="n">final_range</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">final_balances</span><span class="p">)</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">final_balances</span><span class="p">)</span>
    <span class="n">range_improvement</span> <span class="o">=</span> <span class="p">((</span><span class="n">initial_range</span> <span class="o">-</span> <span class="n">final_range</span><span class="p">)</span> <span class="o">/</span> <span class="n">initial_range</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span> <span class="k">if</span> <span class="n">initial_range</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Improvement metrics:"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Balance range reduction: </span><span class="si">{</span><span class="n">range_improvement</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Initial range: </span><span class="si">{</span><span class="n">initial_range</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Final range: </span><span class="si">{</span><span class="n">final_range</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>

<span class="c1"># Run the verification</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">()</span>  <span class="c1"># Use current time as seed for true randomness</span>
    <span class="n">verify_combined_storage_allocation</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span> <span class="o">+</span> <span class="s2">"="</span><span class="o">*</span><span class="mi">140</span><span class="p">)</span>
    <span class="n">verify_storage_effectiveness</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Loading all 96 graphs...
Successfully loaded 96 graphs
Randomly selected node: [2481;3283]
Short-term Battery Storage capacity: 992.6365595038113 MWh
Long-term LT Storage capacity: 827.1971329198427 MWh
Total Storage capacity: 1819.8336924236542 MWh

96-Hour Profile for Node [2481;3283] (All Seasons):
============================================================================================================================================
Season   Hour   Prod_Fix   Cons_Sum   ST_Impact    LT_Impact    Total_Impact  Balance   
--------------------------------------------------------------------------------------------------------------------------------------------
spring   00:00  0.00       50.75      13.71        0.00         13.71         -37.04    
spring   01:00  0.00       45.63      8.59         0.00         8.59          -37.04    
spring   02:00  0.00       40.85      3.81         0.00         3.81          -37.04    
spring   03:00  0.00       40.85      3.81         0.00         3.81          -37.04    
spring   04:00  0.00       46.33      9.29         0.00         9.29          -37.04    
spring   05:00  9.93       52.15      5.18         0.00         5.18          -37.04    
spring   06:00  19.85      71.81      14.92        0.00         14.92         -37.04    
spring   07:00  39.71      77.63      0.89         0.00         0.89          -37.04    
spring   08:00  59.56      83.10      -13.49       0.00         -13.49        -37.04    
spring   09:00  79.41      96.25      -20.20       0.00         -20.20        -37.04    
spring   10:00  119.12     95.90      -60.26       0.00         -60.26        -37.04    
spring   11:00  158.82     100.67     -95.19       0.00         -95.19        -37.04    
spring   12:00  198.53     100.67     -134.89      0.00         -134.89       -37.04    
spring   13:00  158.82     95.55      -100.31      0.00         -100.31       -37.04    
spring   14:00  119.12     95.55      -60.61       0.00         -60.61        -37.04    
spring   15:00  79.41      101.37     -15.08       0.00         -15.08        -37.04    
spring   16:00  59.56      112.32     15.72        0.00         15.72         -37.04    
spring   17:00  39.71      104.30     27.55        0.00         27.55         -37.04    
spring   18:00  19.85      108.72     51.83        0.00         51.83         -37.04    
spring   19:00  9.93       113.50     66.53        0.00         66.53         -37.04    
spring   20:00  0.00       107.68     70.64        0.00         70.64         -37.04    
spring   21:00  0.00       96.38      59.34        0.00         59.34         -37.04    
spring   22:00  0.00       66.82      29.78        0.00         29.78         -37.04    
spring   23:00  0.00       56.23      19.19        0.00         19.19         -37.04    
summer   00:00  0.00       50.58      57.00        0.00         57.00         6.42      
summer   01:00  0.00       45.47      51.88        0.00         51.88         6.42      
summer   02:00  0.00       40.68      47.09        0.00         47.09         6.42      
summer   03:00  0.00       40.68      47.09        0.00         47.09         6.42      
summer   04:00  0.00       46.12      52.54        0.00         52.54         6.42      
summer   05:00  19.85      51.89      38.46        0.00         38.46         6.42      
summer   06:00  39.71      71.45      38.16        0.00         38.16         6.42      
summer   07:00  79.41      77.22      4.22         0.00         4.22          6.42      
summer   08:00  119.12     82.66      -13.04       -17.00       -30.04        6.42      
summer   09:00  158.82     95.79      -39.61       -17.00       -56.61        6.42      
summer   10:00  238.23     95.46      -119.35      -17.00       -136.35       6.42      
summer   11:00  317.64     100.25     -193.97      -17.00       -210.97       6.42      
summer   12:00  397.05     100.25     -273.39      -17.00       -290.39       6.42      
summer   13:00  317.64     95.14      -199.09      -17.00       -216.09       6.42      
summer   14:00  238.23     95.14      -119.68      -17.00       -136.68       6.42      
summer   15:00  158.82     100.91     -34.50       -17.00       -51.50        6.42      
summer   16:00  119.12     111.80     0.00         -0.90        -0.90         6.42      
summer   17:00  79.41      103.78     30.79        0.00         30.79         6.42      
summer   18:00  39.71      108.25     74.96        0.00         74.96         6.42      
summer   19:00  19.85      113.04     99.60        0.00         99.60         6.42      
summer   20:00  0.00       107.26     113.68       0.00         113.68        6.42      
summer   21:00  0.00       96.05      102.46       0.00         102.46        6.42      
summer   22:00  0.00       66.59      73.00        0.00         73.00         6.42      
summer   23:00  0.00       56.03      62.44        0.00         62.44         6.42      
fall     00:00  0.00       54.69      11.97        0.00         11.97         -42.72    
fall     01:00  0.00       49.01      6.30         0.00         6.30          -42.72    
fall     02:00  0.00       43.69      0.98         0.00         0.98          -42.72    
fall     03:00  0.00       43.69      0.98         0.00         0.98          -42.72    
fall     04:00  0.00       49.73      7.01         0.00         7.01          -42.72    
fall     05:00  9.93       56.12      3.47         0.00         3.47          -42.72    
fall     06:00  19.85      76.39      13.82        0.00         13.82         -42.72    
fall     07:00  39.71      82.78      0.35         0.00         0.35          -42.72    
fall     08:00  59.56      88.81      -13.47       0.00         -13.47        -42.72    
fall     09:00  79.41      101.98     -20.15       0.00         -20.15        -42.72    
fall     10:00  119.12     101.62     -60.21       0.00         -60.21        -42.72    
fall     11:00  158.82     106.95     -94.59       0.00         -94.59        -42.72    
fall     12:00  198.53     106.95     -134.30      0.00         -134.30       -42.72    
fall     13:00  158.82     101.27     -100.27      0.00         -100.27       -42.72    
fall     14:00  119.12     101.27     -60.57       0.00         -60.57        -42.72    
fall     15:00  79.41      107.66     -14.47       0.00         -14.47        -42.72    
fall     16:00  59.56      119.73     17.45        0.00         17.45         -42.72    
fall     17:00  39.71      112.23     29.81        0.00         29.81         -42.72    
fall     18:00  19.85      117.20     54.63        0.00         54.63         -42.72    
fall     19:00  9.93       122.52     69.87        0.00         69.87         -42.72    
fall     20:00  0.00       116.13     73.41        0.00         73.41         -42.72    
fall     21:00  0.00       103.71     60.99        0.00         60.99         -42.72    
fall     22:00  0.00       72.44      29.72        0.00         29.72         -42.72    
fall     23:00  0.00       60.73      18.01        0.00         18.01         -42.72    
winter   00:00  0.00       62.74      -16.09       4.28         -11.81        -74.55    
winter   01:00  0.00       55.95      -22.88       4.28         -18.60        -74.55    
winter   02:00  0.00       49.55      -29.28       4.28         -25.00        -74.55    
winter   03:00  0.00       49.55      -29.28       4.28         -25.00        -74.55    
winter   04:00  0.00       56.73      -22.10       4.28         -17.82        -74.55    
winter   05:00  4.96       64.31      -19.49       4.28         -15.21        -74.55    
winter   06:00  9.93       85.91      -2.85        4.28         1.43          -74.55    
winter   07:00  19.85      93.48      -5.20        4.28         -0.93         -74.55    
winter   08:00  29.78      100.66     -7.95        4.28         -3.67         -74.55    
winter   09:00  39.71      113.90     -4.63        4.28         -0.35         -74.55    
winter   10:00  59.56      113.51     -24.88       4.28         -20.60        -74.55    
winter   11:00  79.41      119.91     -38.33       4.28         -34.05        -74.55    
winter   12:00  99.26      119.91     -58.18       4.28         -53.90        -74.55    
winter   13:00  79.41      113.12     -45.12       4.28         -40.84        -74.55    
winter   14:00  59.56      113.12     -25.27       4.28         -20.99        -74.55    
winter   15:00  39.71      120.70     2.16         4.28         6.44          -74.55    
winter   16:00  29.78      135.06     26.45        4.28         30.73         -74.55    
winter   17:00  19.85      128.61     29.93        4.28         34.21         -74.55    
winter   18:00  9.93       134.62     45.87        4.28         50.14         -74.55    
winter   19:00  4.96       141.02     57.23        4.28         61.51         -74.55    
winter   20:00  0.00       133.45     54.62        4.28         58.90         -74.55    
winter   21:00  0.00       118.69     39.86        4.28         44.14         -74.55    
winter   22:00  0.00       83.90      5.07         4.28         9.35          -74.55    
winter   23:00  0.00       69.92      -8.91        4.28         -4.63         -74.55    
--------------------------------------------------------------------------------------------------------------------------------------------
Short-term storage utilization (across all 96 hours):
  Total absolute ST impact: 4305.24 MWh
  ST capacity: 992.64 MWh
  ST utilization: 433.7% of battery capacity
Long-term storage utilization (across all 96 hours):
  Total absolute LT impact: 239.58 MWh
  LT capacity: 827.20 MWh
  LT utilization: 29.0% of LT capacity

Balance Statistics (including both storage types, all 96 hours):
  Minimum balance: -74.55 MWh
  Maximum balance: 6.42 MWh
  Balance range: 80.97 MWh
  Average balance: -36.97 MWh

Short-term Storage Impact Analysis (all 96 hours):
  Hours with positive ST impact (discharging): 55
  Hours with negative ST impact (charging): 40
  Hours with zero ST impact: 1
  Total ST energy discharged: 1954.09 MWh
  Total ST energy charged: 2351.15 MWh

Long-term Storage Impact Analysis (all 96 hours):
  Hours with positive LT impact (discharging): 24
  Hours with negative LT impact (charging): 9
  Hours with zero LT impact: 63
  Total LT energy discharged: 102.68 MWh
  Total LT energy charged: 136.90 MWh

Season-by-Season Storage Summary:
  Spring:
    ST impact (absolute): 900.82 MWh
    LT impact (absolute): 0.00 MWh
    Balance range: -37.04 to -37.04 MWh
  Summer:
    ST impact (absolute): 1886.01 MWh
    LT impact (absolute): 136.90 MWh
    Balance range: 6.42 to 6.42 MWh
  Fall:
    ST impact (absolute): 896.78 MWh
    LT impact (absolute): 0.00 MWh
    Balance range: -42.72 to -42.72 MWh
  Winter:
    ST impact (absolute): 621.62 MWh
    LT impact (absolute): 102.68 MWh
    Balance range: -74.55 to -74.55 MWh

============================================================================================================================================

Storage Effectiveness Analysis for Node [3750;5505]:
================================================================================
Initial balances (no storage):
  Range: -170.10 to 117.38 MWh
  Standard deviation: 49.80
With short-term storage only:
  Range: -98.10 to -24.17 MWh
  Standard deviation: 22.32
With both storage types:
  Range: -93.07 to -43.59 MWh
  Standard deviation: 17.80

Improvement metrics:
  Balance range reduction: 82.8%
  Initial range: 287.48 MWh
  Final range: 49.48 MWh
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=933409f6-689e-4c4d-8b80-1d828570c288">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In[27]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1">#Step 1</span>
<span class="c1">#Loads hourly graphs with combined storage (short-term + long-term), converts each undirected MultiGraph into a directed graph (DiGraph) with bidirectional edges</span>
<span class="c1">#Graphs are stored in a list, all_graphs, where each element is a graph for the hour (96 elements total)</span>

<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pickle</span>

<span class="c1"># UPDATED PATH: Use combined storage results from your previous scripts</span>
<span class="n">BASE_PATH</span> <span class="o">=</span> <span class="s2">"/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/Base/"</span>
<span class="n">SEASONS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"spring"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">,</span> <span class="s2">"fall"</span><span class="p">,</span> <span class="s2">"winter"</span><span class="p">]</span>
<span class="n">HOURS</span> <span class="o">=</span> <span class="mi">24</span>

<span class="k">def</span> <span class="nf">convert_multigraph_to_digraph</span><span class="p">(</span><span class="n">G_multi</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Converts an undirected MultiGraph into a DiGraph by adding</span>
<span class="sd">    a forward and reverse directed edge for each undirected edge.</span>
<span class="sd">    Keeps all original attributes.</span>
<span class="sd">    """</span>
    <span class="n">G_directed</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">()</span>

    <span class="c1"># Copy node attributes</span>
    <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">G_multi</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">G_directed</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="o">**</span><span class="n">attr</span><span class="p">)</span>

    <span class="c1"># Copy each undirected edge as two directed edges</span>
    <span class="k">for</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">G_multi</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">G_directed</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="o">**</span><span class="n">attr</span><span class="p">)</span>
        <span class="n">G_directed</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="o">**</span><span class="n">attr</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">G_directed</span>

<span class="c1"># Store all 96 graphs (4 seasons  24 hours)</span>
<span class="n">all_graphs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">graph_metadata</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Store season and hour info for each graph</span>

<span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">SEASONS</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Loading </span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2"> graphs..."</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">hour</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">HOURS</span><span class="p">):</span>
        <span class="c1"># UPDATED FILENAME FORMAT: Use combined storage naming convention</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"SolarStorage_Base_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">.pkl"</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_PATH</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Load the original MultiGraph using pickle</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">G_multi</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

            <span class="c1"># Convert to DiGraph with bidirectional edges</span>
            <span class="n">G_directed</span> <span class="o">=</span> <span class="n">convert_multigraph_to_digraph</span><span class="p">(</span><span class="n">G_multi</span><span class="p">)</span>

            <span class="c1"># Store in list for further processing</span>
            <span class="n">all_graphs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">G_directed</span><span class="p">)</span>
            <span class="n">graph_metadata</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">'season'</span><span class="p">:</span> <span class="n">season</span><span class="p">,</span> <span class="s1">'hour'</span><span class="p">:</span> <span class="n">hour</span><span class="p">})</span>

        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  File not found: </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Error loading </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            <span class="k">continue</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">" Loaded and converted </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span><span class="si">}</span><span class="s2"> graphs to DiGraphs."</span><span class="p">)</span>

<span class="c1">#Step 2</span>
<span class="c1">#cleans up code</span>
<span class="c1">#checks for missing values  </span>

<span class="n">RELEVANT_GENERATION_KEYS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Nuclear'</span><span class="p">,</span> <span class="s1">'Wind'</span><span class="p">,</span> <span class="s1">'Solar'</span><span class="p">,</span> <span class="s1">'Coal'</span><span class="p">,</span> <span class="s1">'Biomass/Biogas'</span><span class="p">,</span>
    <span class="s1">'Hydro'</span><span class="p">,</span> <span class="s1">'Oil'</span><span class="p">,</span> <span class="s1">'Fossil Gas'</span><span class="p">,</span> <span class="s1">'Waste'</span><span class="p">,</span> <span class="s1">'Geothermal'</span><span class="p">,</span>
    <span class="s1">'Other'</span><span class="p">,</span> <span class="s1">'Battery Storage'</span><span class="p">,</span> <span class="s1">'LT Storage'</span>  <span class="c1"># UPDATED: Include both storage types</span>
<span class="p">]</span>

<span class="n">RELEVANT_DEMAND_KEYS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Industry'</span><span class="p">,</span> <span class="s1">'Others'</span><span class="p">,</span> <span class="s1">'Transport'</span><span class="p">,</span> <span class="s1">'Transform'</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">clean_graph_attributes_only</span><span class="p">(</span><span class="n">G</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Cleans node and edge attributes without applying dispatch logic.</span>
<span class="sd">    Reports how many default replacements were made.</span>
<span class="sd">    """</span>
    <span class="n">missing_node_attrs</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">missing_capacity</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">invalid_retention</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># --- Clean node attributes ---</span>
    <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">RELEVANT_GENERATION_KEYS</span> <span class="o">+</span> <span class="n">RELEVANT_DEMAND_KEYS</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">missing_node_attrs</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">value</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="c1"># --- Clean edge attributes ---</span>
    <span class="k">for</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">cap</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'capacity MW'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cap</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cap</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="n">missing_capacity</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">attr</span><span class="p">[</span><span class="s1">'capacity MW'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">cap</span><span class="p">)</span>

        <span class="n">ret</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'retention'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ret</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">ret</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="mf">1.0</span>
            <span class="n">invalid_retention</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">attr</span><span class="p">[</span><span class="s1">'retention'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>

    <span class="c1"># Report</span>
    <span class="c1">#print(f" Graph cleaned:")</span>
    <span class="c1">#print(f"  - Missing node attributes replaced: {missing_node_attrs}")</span>
    <span class="c1">#print(f"  - Missing edge capacities replaced: {missing_capacity}")</span>
    <span class="c1">#print(f"  - Invalid edge retentions replaced: {invalid_retention}")</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">G</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">):</span>
    <span class="c1">#print(f"\n Graph {i} ({graph_metadata[i]['season']} hour {graph_metadata[i]['hour']})")</span>
    <span class="n">clean_graph_attributes_only</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">" Cleaned all graph attributes."</span><span class="p">)</span>

<span class="c1">#Step 3</span>
<span class="c1">#Verify that required attributes exist (they should already exist from combined storage graphs)</span>

<span class="k">def</span> <span class="nf">verify_required_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Verifies that required attributes exist without recalculating them.</span>
<span class="sd">    These should already exist from the CombinedStorage processing.</span>
<span class="sd">    """</span>
    <span class="n">missing_attrs</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="c1"># Verify production_fix (MWh) exists</span>
        <span class="k">if</span> <span class="s1">'production_fix (MWh)'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Warning: Missing 'production_fix (MWh)' for node </span><span class="si">{</span><span class="n">node</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="s1">'production_fix (MWh)'</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="n">missing_attrs</span> <span class="o">+=</span> <span class="mi">1</span>
            
        <span class="c1"># Verify consumption_sum (MWh) exists  </span>
        <span class="k">if</span> <span class="s1">'consumption_sum (MWh)'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Warning: Missing 'consumption_sum (MWh)' for node </span><span class="si">{</span><span class="n">node</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="s1">'consumption_sum (MWh)'</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="n">missing_attrs</span> <span class="o">+=</span> <span class="mi">1</span>
            
        <span class="c1"># UPDATED: Verify both storage impact attributes exist</span>
        <span class="k">if</span> <span class="s1">'storage_impact'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Warning: Missing 'storage_impact' for node </span><span class="si">{</span><span class="n">node</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="s1">'storage_impact'</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="n">missing_attrs</span> <span class="o">+=</span> <span class="mi">1</span>
            
        <span class="k">if</span> <span class="s1">'LT_storage_impact'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Warning: Missing 'LT_storage_impact' for node </span><span class="si">{</span><span class="n">node</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="s1">'LT_storage_impact'</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="n">missing_attrs</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="k">return</span> <span class="n">missing_attrs</span>

<span class="c1"># Apply verification to all graphs</span>
<span class="n">total_missing</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">G</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">):</span>
    <span class="n">total_missing</span> <span class="o">+=</span> <span class="n">verify_required_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>

<span class="k">if</span> <span class="n">total_missing</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">" All required attributes ('production_fix (MWh)', 'consumption_sum (MWh)', 'storage_impact', 'LT_storage_impact') verified present."</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Added </span><span class="si">{</span><span class="n">total_missing</span><span class="si">}</span><span class="s2"> missing attributes with default values."</span><span class="p">)</span>

<span class="c1">#Step 4</span>
<span class="c1">#Capacity factors get distributed according to energy deficits for individual nodes (no network effect)</span>
<span class="c1">#For hydro every hour gets a base of 0.1 per hour (water flow cannot be exactly zero)</span>
<span class="c1">#Then total capacity factor is distributed proportionally to the deficit for each node</span>
<span class="c1">#then all excess (everything above 1) is redistributed multiple (in a loop that can run up to 10 times) in such a way that the values below one get the sum of whats been scrapped for this round proportionally</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">PRODUCERS_CF</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Biomass/Biogas'</span><span class="p">,</span> <span class="s1">'Hydro'</span><span class="p">,</span> <span class="s1">'Waste'</span><span class="p">,</span> <span class="s1">'Other'</span><span class="p">]</span>

<span class="c1"># Define capacity factors</span>
<span class="n">CAPACITY_FACTORS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'Biomass/Biogas'</span><span class="p">:</span> <span class="mf">0.52</span><span class="p">,</span>
    <span class="s1">'Hydro'</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
    <span class="s1">'Waste'</span><span class="p">:</span> <span class="mf">0.77</span><span class="p">,</span>
    <span class="s1">'Other'</span><span class="p">:</span> <span class="mf">0.8</span>
<span class="p">}</span>

<span class="c1"># Ensure Hydro always runs at 10% minimum</span>
<span class="n">MIN_HYDRO_MULTIPLIER</span> <span class="o">=</span> <span class="mf">0.1</span>

<span class="c1"># Process each season separately (each season has its own 24-hour cycle)</span>
<span class="k">for</span> <span class="n">season_idx</span><span class="p">,</span> <span class="n">season</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">SEASONS</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Processing capacity factors for </span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">..."</span><span class="p">)</span>
    
    <span class="c1"># Get the 24 graphs for this season</span>
    <span class="n">season_start_idx</span> <span class="o">=</span> <span class="n">season_idx</span> <span class="o">*</span> <span class="mi">24</span>
    <span class="n">season_graphs</span> <span class="o">=</span> <span class="n">all_graphs</span><span class="p">[</span><span class="n">season_start_idx</span><span class="p">:</span><span class="n">season_start_idx</span> <span class="o">+</span> <span class="mi">24</span><span class="p">]</span>
    
    <span class="c1"># Collect 24h time series for each node and each producer_cf</span>
    <span class="n">node_cf_data</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># First pass: collect capacity and deficit time series</span>
    <span class="k">for</span> <span class="n">hour</span><span class="p">,</span> <span class="n">G</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">season_graphs</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span>
            <span class="c1"># UPDATED: Include both short-term and long-term storage impacts in balance calculation</span>
            <span class="n">prod_fix</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_fix (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="n">cons_sum</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'consumption_sum (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="n">storage_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>  <span class="c1"># Short-term storage impact</span>
            <span class="n">lt_storage_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT_storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>  <span class="c1"># Long-term storage impact</span>
            
            <span class="c1"># UPDATED: Calculate deficit including both storage types</span>
            <span class="c1"># Balance = prod_fix - cons_sum + storage_impact + lt_storage_impact</span>
            <span class="c1"># So deficit = cons_sum - (prod_fix + storage_impact + lt_storage_impact)</span>
            <span class="n">deficit</span> <span class="o">=</span> <span class="n">cons_sum</span> <span class="o">-</span> <span class="p">(</span><span class="n">prod_fix</span> <span class="o">+</span> <span class="n">storage_impact</span> <span class="o">+</span> <span class="n">lt_storage_impact</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">node_cf_data</span><span class="p">:</span>
                <span class="n">node_cf_data</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">p</span><span class="p">:</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">}</span>
                <span class="n">node_cf_data</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">'deficit'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">node_cf_data</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">'differences'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">:</span>
                <span class="n">node_cf_data</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
            <span class="n">node_cf_data</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">'deficit'</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">deficit</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>  <span class="c1"># only store positive deficits</span>
            <span class="c1"># UPDATED: Store differences including both storage impacts</span>
            <span class="n">node_cf_data</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">'differences'</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prod_fix</span> <span class="o">+</span> <span class="n">storage_impact</span> <span class="o">+</span> <span class="n">lt_storage_impact</span> <span class="o">-</span> <span class="n">cons_sum</span><span class="p">)</span>

    <span class="c1"># Second pass: solve multipliers with redistribution</span>
    <span class="n">node_cf_multipliers</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">node_cf_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">differences</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="s1">'differences'</span><span class="p">]</span>  <span class="c1"># production_fix + storage_impact + lt_storage_impact - consumption_sum for each hour</span>
        <span class="n">node_cf_multipliers</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">:</span>
            <span class="n">capacity</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
            <span class="n">cf</span> <span class="o">=</span> <span class="n">CAPACITY_FACTORS</span><span class="p">[</span><span class="n">p</span><span class="p">]</span>
            
            <span class="c1"># Skip if no capacity</span>
            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">capacity</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">node_cf_multipliers</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span>
                <span class="k">continue</span>
            
            <span class="c1"># Calculate total capacity factor budget over 24 hours</span>
            <span class="n">total_cf_budget</span> <span class="o">=</span> <span class="n">cf</span> <span class="o">*</span> <span class="mi">24</span>  <span class="c1"># CF is average, so total over 24 hours is cf * 24</span>
            
            <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="s1">'Hydro'</span><span class="p">:</span>
                <span class="c1"># For Hydro: minimum 0.1 per hour, redistribute remaining</span>
                <span class="n">min_multiplier</span> <span class="o">=</span> <span class="n">MIN_HYDRO_MULTIPLIER</span>
                <span class="n">min_total</span> <span class="o">=</span> <span class="n">min_multiplier</span> <span class="o">*</span> <span class="mi">24</span>  <span class="c1"># 0.1 * 24 = 2.4</span>
                <span class="n">redistributable_cf</span> <span class="o">=</span> <span class="n">total_cf_budget</span> <span class="o">-</span> <span class="n">min_total</span>  <span class="c1"># For Hydro: 0.3*24 - 2.4 = 4.8</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># For non-Hydro: redistribute full CF budget</span>
                <span class="n">min_multiplier</span> <span class="o">=</span> <span class="mf">0.0</span>
                <span class="n">redistributable_cf</span> <span class="o">=</span> <span class="n">total_cf_budget</span>
            
            <span class="c1"># Step 1: Calculate negative sum (total deficit)</span>
            <span class="n">negative_sum</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">differences</span> <span class="k">if</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">negative_sum</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># No deficits, use minimum multipliers</span>
                <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="s1">'Hydro'</span><span class="p">:</span>
                    <span class="n">multiplier</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">24</span><span class="p">,</span> <span class="n">min_multiplier</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">multiplier</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Step 2: Calculate initial ratios based on deficit proportion</span>
                <span class="n">ratios</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">differences</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">ratio</span> <span class="o">=</span> <span class="n">d</span> <span class="o">/</span> <span class="n">negative_sum</span>  <span class="c1"># This gives positive ratios for negative differences</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">ratio</span> <span class="o">=</span> <span class="mf">0.0</span>
                    <span class="n">ratios</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ratio</span><span class="p">)</span>
                
                <span class="c1"># Step 3: Scale ratios by redistributable CF</span>
                <span class="n">ratios_weighted</span> <span class="o">=</span> <span class="p">[</span><span class="n">r</span> <span class="o">*</span> <span class="n">redistributable_cf</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">ratios</span><span class="p">]</span>
                
                <span class="c1"># Step 4: Iterative redistribution (up to 20 rounds)</span>
                <span class="n">ratios_capped</span> <span class="o">=</span> <span class="n">ratios_weighted</span><span class="p">[:]</span>
                <span class="n">locked</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">ratios_capped</span><span class="p">)</span>
                
                <span class="k">for</span> <span class="n">round_num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">):</span>  <span class="c1"># Up to 20 iterations</span>
                    <span class="n">clipped_total</span> <span class="o">=</span> <span class="mf">0.0</span>
                    
                    <span class="c1"># Clip values &gt; 1.0 and track overflow</span>
                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ratios_capped</span><span class="p">)):</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">locked</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="n">ratios_capped</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">1.0</span><span class="p">:</span>
                            <span class="n">clipped_total</span> <span class="o">+=</span> <span class="p">(</span><span class="n">ratios_capped</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span>
                            <span class="n">ratios_capped</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
                            <span class="n">locked</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
                    
                    <span class="c1"># If no overflow, break</span>
                    <span class="k">if</span> <span class="n">clipped_total</span> <span class="o">&lt;=</span> <span class="mf">1e-10</span><span class="p">:</span>
                        <span class="k">break</span>
                    
                    <span class="c1"># Find indices below 1.0 and not locked</span>
                    <span class="n">below_one_indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ratios_capped</span><span class="p">)</span> 
                                       <span class="k">if</span> <span class="ow">not</span> <span class="n">locked</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="mf">1e-10</span><span class="p">]</span>
                    
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">below_one_indices</span><span class="p">:</span>
                        <span class="k">break</span>
                    
                    <span class="c1"># Calculate total of values below 1.0</span>
                    <span class="n">below_one_total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">ratios_capped</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">below_one_indices</span><span class="p">)</span>
                    
                    <span class="c1"># Redistribute overflow proportionally</span>
                    <span class="k">if</span> <span class="n">below_one_total</span> <span class="o">&gt;</span> <span class="mf">1e-10</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">below_one_indices</span><span class="p">:</span>
                            <span class="n">share</span> <span class="o">=</span> <span class="n">ratios_capped</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">below_one_total</span>
                            <span class="n">ratios_capped</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">share</span> <span class="o">*</span> <span class="n">clipped_total</span>
                
                <span class="c1"># Step 5: Create final multipliers</span>
                <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="s1">'Hydro'</span><span class="p">:</span>
                    <span class="c1"># Add minimum multiplier to redistributed values</span>
                    <span class="n">multiplier</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">min_multiplier</span> <span class="o">+</span> <span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">ratios_capped</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">multiplier</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ratios_capped</span><span class="p">)</span>
            
            <span class="c1"># Final safety: ensure multipliers are within bounds</span>
            <span class="n">multiplier</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">multiplier</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
            
            <span class="c1"># For Hydro, ensure minimum is respected</span>
            <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="s1">'Hydro'</span><span class="p">:</span>
                <span class="n">multiplier</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">multiplier</span><span class="p">,</span> <span class="n">min_multiplier</span><span class="p">)</span>
            
            <span class="n">node_cf_multipliers</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">multiplier</span>

    <span class="c1"># Third pass: store results back into season_graphs</span>
    <span class="k">for</span> <span class="n">hour</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">):</span>
        <span class="n">G</span> <span class="o">=</span> <span class="n">season_graphs</span><span class="p">[</span><span class="n">hour</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s2">_multiplier"</span>
                <span class="n">multiplier</span> <span class="o">=</span> <span class="n">node_cf_multipliers</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="n">p</span><span class="p">][</span><span class="n">hour</span><span class="p">]</span>
                <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">multiplier</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">" Capacity-factor-constrained multipliers added for all nodes and hours across all seasons."</span><span class="p">)</span>

<span class="c1"># Fourth pass: apply multipliers to producer_cf and store production_cf</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">G</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="n">node_data</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span>
        <span class="n">production_cf</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">:</span>
            <span class="n">capacity</span> <span class="o">=</span> <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="n">multiplier</span> <span class="o">=</span> <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s2">_multiplier"</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="n">production_cf</span> <span class="o">+=</span> <span class="n">capacity</span> <span class="o">*</span> <span class="n">multiplier</span>
        <span class="n">node_data</span><span class="p">[</span><span class="s1">'production_cf (MWh)'</span><span class="p">]</span> <span class="o">=</span> <span class="n">production_cf</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">" Computed and stored 'production_cf (MWh)' for all nodes and hours across all seasons."</span><span class="p">)</span>

<span class="c1"># Step 5.1 allocate left over CF to multipliers ignoring hard cap of 1 (can exceed 1)</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">PRODUCERS_CF</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Biomass/Biogas'</span><span class="p">,</span> <span class="s1">'Hydro'</span><span class="p">,</span> <span class="s1">'Waste'</span><span class="p">,</span> <span class="s1">'Other'</span><span class="p">]</span>

<span class="n">CAPACITY_FACTORS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'Biomass/Biogas'</span><span class="p">:</span> <span class="mf">0.52</span><span class="p">,</span>
    <span class="s1">'Hydro'</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
    <span class="s1">'Waste'</span><span class="p">:</span> <span class="mf">0.77</span><span class="p">,</span>
    <span class="s1">'Other'</span><span class="p">:</span> <span class="mf">0.8</span>
<span class="p">}</span>

<span class="n">MIN_HYDRO_MULTIPLIER</span> <span class="o">=</span> <span class="mf">0.1</span>

<span class="k">def</span> <span class="nf">redistribute_cf</span><span class="p">(</span><span class="n">season_graphs</span><span class="p">):</span>
    <span class="n">surplus_node_data</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Collect surpluses and multipliers</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="p">{</span><span class="n">n</span> <span class="k">for</span> <span class="n">G</span> <span class="ow">in</span> <span class="n">season_graphs</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">}:</span>
        <span class="n">surpluses</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">capacities</span> <span class="o">=</span> <span class="p">{</span><span class="n">p</span><span class="p">:</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">}</span>
        <span class="n">current_multipliers</span> <span class="o">=</span> <span class="p">{</span><span class="n">p</span><span class="p">:</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">}</span>

        <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">):</span>
            <span class="n">G</span> <span class="o">=</span> <span class="n">season_graphs</span><span class="p">[</span><span class="n">h</span><span class="p">]</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="p">{})</span>
            <span class="n">prod_fix</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_fix (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="n">prod_cf</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_cf (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="n">cons_sum</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'consumption_sum (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="n">storage_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>  <span class="c1"># Short-term storage impact</span>
            <span class="n">lt_storage_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT_storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>  <span class="c1"># Long-term storage impact</span>
            
            <span class="c1"># UPDATED: Include both storage impacts in surplus calculation</span>
            <span class="n">surplus</span> <span class="o">=</span> <span class="n">prod_fix</span> <span class="o">+</span> <span class="n">prod_cf</span> <span class="o">+</span> <span class="n">storage_impact</span> <span class="o">+</span> <span class="n">lt_storage_impact</span> <span class="o">-</span> <span class="n">cons_sum</span>
            <span class="n">surpluses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">surplus</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">:</span>
                <span class="n">capacities</span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
                <span class="n">current_multipliers</span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s2">_multiplier"</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>

        <span class="n">surplus_node_data</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">'surpluses'</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">surpluses</span><span class="p">),</span>
            <span class="s1">'capacities'</span><span class="p">:</span> <span class="p">{</span><span class="n">p</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">capacities</span><span class="p">[</span><span class="n">p</span><span class="p">])</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">},</span>
            <span class="s1">'current_multipliers'</span><span class="p">:</span> <span class="p">{</span><span class="n">p</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">current_multipliers</span><span class="p">[</span><span class="n">p</span><span class="p">])</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">}</span>
        <span class="p">}</span>

    <span class="c1"># Redistribute CF using unified relative surplus method</span>
    <span class="k">for</span> <span class="n">node</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">surplus_node_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">surpluses</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'surpluses'</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">:</span>
            <span class="n">capacity</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'capacities'</span><span class="p">][</span><span class="n">p</span><span class="p">]</span>
            <span class="n">current_mult</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">'current_multipliers'</span><span class="p">][</span><span class="n">p</span><span class="p">]</span>
            <span class="n">cf</span> <span class="o">=</span> <span class="n">CAPACITY_FACTORS</span><span class="p">[</span><span class="n">p</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">capacity</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>  <span class="c1"># Skip if no capacity</span>

            <span class="n">total_cf_budget</span> <span class="o">=</span> <span class="n">cf</span> <span class="o">*</span> <span class="mi">24</span>
            <span class="n">current_cf_used</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_mult</span><span class="p">)</span>
            <span class="n">remaining_budget</span> <span class="o">=</span> <span class="n">total_cf_budget</span> <span class="o">-</span> <span class="n">current_cf_used</span>

            <span class="k">if</span> <span class="n">remaining_budget</span> <span class="o">&lt;=</span> <span class="mf">1e-10</span><span class="p">:</span>
                <span class="k">continue</span>  <span class="c1"># No budget to redistribute</span>

            <span class="c1"># Calculate relative surplus values</span>
            <span class="n">min_surplus</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">surpluses</span><span class="p">)</span>
            <span class="n">relative_values</span> <span class="o">=</span> <span class="n">surpluses</span> <span class="o">-</span> <span class="n">min_surplus</span>
            <span class="n">relative_values</span><span class="p">[</span><span class="n">relative_values</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>  <span class="c1"># Avoid division by zero</span>

            <span class="n">total_relative</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">relative_values</span><span class="p">)</span>
            <span class="n">raw_weights</span> <span class="o">=</span> <span class="n">total_relative</span> <span class="o">/</span> <span class="n">relative_values</span>  <span class="c1"># Higher weight for lower surplus</span>
            <span class="n">normalization_multiplier</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">raw_weights</span><span class="p">)</span>
            <span class="n">final_weights</span> <span class="o">=</span> <span class="n">raw_weights</span> <span class="o">/</span> <span class="n">normalization_multiplier</span>  <span class="c1"># Normalized weights sum to 1</span>

            <span class="c1"># Apply redistribution</span>
            <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">):</span>
                <span class="n">cf_to_add</span> <span class="o">=</span> <span class="n">remaining_budget</span> <span class="o">*</span> <span class="n">final_weights</span><span class="p">[</span><span class="n">h</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="s1">'Hydro'</span><span class="p">:</span>
                    <span class="c1"># Ensure at least MIN_HYDRO_MULTIPLIER</span>
                    <span class="n">min_mult</span> <span class="o">=</span> <span class="n">MIN_HYDRO_MULTIPLIER</span>
                    <span class="n">cf_to_add</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">cf_to_add</span><span class="p">,</span> <span class="n">min_mult</span> <span class="o">-</span> <span class="n">current_mult</span><span class="p">[</span><span class="n">h</span><span class="p">])</span>

                <span class="c1"># No upper cap as per your request</span>
                <span class="n">new_mult</span> <span class="o">=</span> <span class="n">current_mult</span><span class="p">[</span><span class="n">h</span><span class="p">]</span> <span class="o">+</span> <span class="n">cf_to_add</span>
                <span class="n">season_graphs</span><span class="p">[</span><span class="n">h</span><span class="p">]</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s2">_multiplier"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">new_mult</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">season_graphs</span>  <span class="c1"># updated in place</span>

<span class="c1"># Process each season separately for redistribution</span>
<span class="k">for</span> <span class="n">season_idx</span><span class="p">,</span> <span class="n">season</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">SEASONS</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Redistributing CF for </span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">..."</span><span class="p">)</span>
    <span class="n">season_start_idx</span> <span class="o">=</span> <span class="n">season_idx</span> <span class="o">*</span> <span class="mi">24</span>
    <span class="n">season_graphs</span> <span class="o">=</span> <span class="n">all_graphs</span><span class="p">[</span><span class="n">season_start_idx</span><span class="p">:</span><span class="n">season_start_idx</span> <span class="o">+</span> <span class="mi">24</span><span class="p">]</span>
    <span class="n">redistribute_cf</span><span class="p">(</span><span class="n">season_graphs</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">" CF redistribution completed for all seasons."</span><span class="p">)</span>

<span class="c1"># Step 5.2: redistribution of excess CF on multiplier above 1 so that the cap at 1 is enforced</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">PRODUCERS_CF</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Biomass/Biogas'</span><span class="p">,</span> <span class="s1">'Hydro'</span><span class="p">,</span> <span class="s1">'Waste'</span><span class="p">,</span> <span class="s1">'Other'</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">enforce_cf_cap</span><span class="p">(</span><span class="n">season_graphs</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="p">{</span><span class="n">n</span> <span class="k">for</span> <span class="n">G</span> <span class="ow">in</span> <span class="n">season_graphs</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">}:</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">:</span>
            <span class="c1"># Gather multipliers for all 24 hours</span>
            <span class="n">multipliers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
                <span class="n">season_graphs</span><span class="p">[</span><span class="n">h</span><span class="p">]</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s2">_multiplier"</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span>
            <span class="p">])</span>

            <span class="c1"># Check if any multipliers exceed 1.0</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="c1"># Identify multipliers that exceed 1.0</span>
                <span class="n">over_cap</span> <span class="o">=</span> <span class="n">multipliers</span> <span class="o">&gt;</span> <span class="mf">1.0</span>
                <span class="n">excess</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">multipliers</span><span class="p">[</span><span class="n">over_cap</span><span class="p">]</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">excess</span> <span class="o">&lt;=</span> <span class="mf">1e-6</span><span class="p">:</span>
                    <span class="k">break</span>  <span class="c1"># No significant excess left to redistribute</span>

                <span class="c1"># Cap the multipliers at 1.0</span>
                <span class="n">multipliers</span><span class="p">[</span><span class="n">over_cap</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>

                <span class="c1"># Find indices of multipliers still below 1.0</span>
                <span class="n">under_cap</span> <span class="o">=</span> <span class="n">multipliers</span> <span class="o">&lt;</span> <span class="mf">1.0</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">under_cap</span><span class="p">):</span>
                    <span class="k">break</span>  <span class="c1"># Nowhere to put the excess (all capped)</span>

                <span class="c1"># Proportional redistribution</span>
                <span class="n">total_under</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">multipliers</span><span class="p">[</span><span class="n">under_cap</span><span class="p">])</span>

                <span class="k">if</span> <span class="n">total_under</span> <span class="o">&lt;=</span> <span class="mf">1e-6</span><span class="p">:</span>
                    <span class="k">break</span>  <span class="c1"># Prevent division by zero or meaningless distribution</span>

                <span class="c1"># Compute proportional shares</span>
                <span class="n">shares</span> <span class="o">=</span> <span class="n">multipliers</span><span class="p">[</span><span class="n">under_cap</span><span class="p">]</span> <span class="o">/</span> <span class="n">total_under</span>
                <span class="n">multipliers</span><span class="p">[</span><span class="n">under_cap</span><span class="p">]</span> <span class="o">+=</span> <span class="n">shares</span> <span class="o">*</span> <span class="n">excess</span>

            <span class="c1"># Apply corrected multipliers back to the graph</span>
            <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">season_graphs</span><span class="p">[</span><span class="n">h</span><span class="p">]</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                    <span class="n">season_graphs</span><span class="p">[</span><span class="n">h</span><span class="p">]</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s2">_multiplier"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">multipliers</span><span class="p">[</span><span class="n">h</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">season_graphs</span>  <span class="c1"># updated in place</span>

<span class="c1"># Process each season separately for cap enforcement</span>
<span class="k">for</span> <span class="n">season_idx</span><span class="p">,</span> <span class="n">season</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">SEASONS</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Enforcing CF caps for </span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">..."</span><span class="p">)</span>
    <span class="n">season_start_idx</span> <span class="o">=</span> <span class="n">season_idx</span> <span class="o">*</span> <span class="mi">24</span>
    <span class="n">season_graphs</span> <span class="o">=</span> <span class="n">all_graphs</span><span class="p">[</span><span class="n">season_start_idx</span><span class="p">:</span><span class="n">season_start_idx</span> <span class="o">+</span> <span class="mi">24</span><span class="p">]</span>
    <span class="n">enforce_cf_cap</span><span class="p">(</span><span class="n">season_graphs</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">" CF cap enforcement completed for all seasons."</span><span class="p">)</span>

<span class="c1"># Step 5.3: Normalize CF multipliers to ensure exact seasonal totals</span>
<span class="k">def</span> <span class="nf">normalize_seasonal_cf</span><span class="p">(</span><span class="n">season_graphs</span><span class="p">,</span> <span class="n">target_capacity_factors</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Ensure that total CF used per season matches exactly CF  24 for each producer.</span>
<span class="sd">    This fixes the seasonal variation bug caused by combined storage impacts.</span>
<span class="sd">    """</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="p">{</span><span class="n">n</span> <span class="k">for</span> <span class="n">G</span> <span class="ow">in</span> <span class="n">season_graphs</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">}:</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">:</span>
            <span class="c1"># Get current multipliers for this node and producer</span>
            <span class="n">multipliers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
                <span class="n">season_graphs</span><span class="p">[</span><span class="n">h</span><span class="p">]</span><span class="o">.</span><span class="n">nodes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s2">_multiplier"</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span>
            <span class="p">])</span>
            
            <span class="c1"># Skip if no multipliers</span>
            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">multipliers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>
                
            <span class="c1"># Calculate target total CF for this season</span>
            <span class="n">target_cf_total</span> <span class="o">=</span> <span class="n">target_capacity_factors</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">*</span> <span class="mi">24</span>
            <span class="n">current_cf_total</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">multipliers</span><span class="p">)</span>
            
            <span class="c1"># Calculate scale factor to match target exactly</span>
            <span class="k">if</span> <span class="n">current_cf_total</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">scale_factor</span> <span class="o">=</span> <span class="n">target_cf_total</span> <span class="o">/</span> <span class="n">current_cf_total</span>
                <span class="n">normalized_multipliers</span> <span class="o">=</span> <span class="n">multipliers</span> <span class="o">*</span> <span class="n">scale_factor</span>
                
                <span class="c1"># Handle Hydro minimum constraint</span>
                <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="s1">'Hydro'</span><span class="p">:</span>
                    <span class="n">normalized_multipliers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">normalized_multipliers</span><span class="p">,</span> <span class="n">MIN_HYDRO_MULTIPLIER</span><span class="p">)</span>
                    <span class="c1"># Recalculate if minimum was applied</span>
                    <span class="n">new_total</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">normalized_multipliers</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">new_total</span> <span class="o">&gt;</span> <span class="n">target_cf_total</span><span class="p">:</span>
                        <span class="c1"># Proportionally reduce excess while maintaining minimum</span>
                        <span class="n">excess</span> <span class="o">=</span> <span class="n">new_total</span> <span class="o">-</span> <span class="n">target_cf_total</span>
                        <span class="n">above_min</span> <span class="o">=</span> <span class="n">normalized_multipliers</span> <span class="o">&gt;</span> <span class="n">MIN_HYDRO_MULTIPLIER</span>
                        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">above_min</span><span class="p">):</span>
                            <span class="n">reducible_total</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">normalized_multipliers</span><span class="p">[</span><span class="n">above_min</span><span class="p">]</span> <span class="o">-</span> <span class="n">MIN_HYDRO_MULTIPLIER</span><span class="p">)</span>
                            <span class="k">if</span> <span class="n">reducible_total</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">reduction_factor</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">excess</span> <span class="o">/</span> <span class="n">reducible_total</span><span class="p">)</span>
                                <span class="n">normalized_multipliers</span><span class="p">[</span><span class="n">above_min</span><span class="p">]</span> <span class="o">-=</span> <span class="p">(</span><span class="n">normalized_multipliers</span><span class="p">[</span><span class="n">above_min</span><span class="p">]</span> <span class="o">-</span> <span class="n">MIN_HYDRO_MULTIPLIER</span><span class="p">)</span> <span class="o">*</span> <span class="n">reduction_factor</span>
                
                <span class="c1"># Apply normalized multipliers back to graphs</span>
                <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">season_graphs</span><span class="p">[</span><span class="n">h</span><span class="p">]</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                        <span class="n">season_graphs</span><span class="p">[</span><span class="n">h</span><span class="p">]</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s2">_multiplier"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">normalized_multipliers</span><span class="p">[</span><span class="n">h</span><span class="p">])</span>

<span class="c1"># Apply normalization to each season</span>
<span class="k">for</span> <span class="n">season_idx</span><span class="p">,</span> <span class="n">season</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">SEASONS</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Normalizing CF totals for </span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">..."</span><span class="p">)</span>
    <span class="n">season_start_idx</span> <span class="o">=</span> <span class="n">season_idx</span> <span class="o">*</span> <span class="mi">24</span>
    <span class="n">season_graphs</span> <span class="o">=</span> <span class="n">all_graphs</span><span class="p">[</span><span class="n">season_start_idx</span><span class="p">:</span><span class="n">season_start_idx</span> <span class="o">+</span> <span class="mi">24</span><span class="p">]</span>
    <span class="n">normalize_seasonal_cf</span><span class="p">(</span><span class="n">season_graphs</span><span class="p">,</span> <span class="n">CAPACITY_FACTORS</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">" CF normalization completed for all seasons."</span><span class="p">)</span>

<span class="c1"># Step 5.3: enforce the multipliers to produce production_cf (MWh)</span>

<span class="n">PRODUCERS_CF</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Biomass/Biogas'</span><span class="p">,</span> <span class="s1">'Hydro'</span><span class="p">,</span> <span class="s1">'Waste'</span><span class="p">,</span> <span class="s1">'Other'</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">calculate_production_cf</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)):</span>
        <span class="n">G</span> <span class="o">=</span> <span class="n">all_graphs</span><span class="p">[</span><span class="n">h</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="n">total_production_cf</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># Start at zero</span>

            <span class="k">for</span> <span class="n">producer</span> <span class="ow">in</span> <span class="n">PRODUCERS_CF</span><span class="p">:</span>
                <span class="n">production</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">producer</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>  <span class="c1"># MWh</span>
                <span class="n">multiplier</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">producer</span><span class="si">}</span><span class="s2">_multiplier"</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
                <span class="n">total_production_cf</span> <span class="o">+=</span> <span class="n">production</span> <span class="o">*</span> <span class="n">multiplier</span>

            <span class="c1"># Assign calculated value to 'production_cf (MWh)'</span>
            <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">'production_cf (MWh)'</span><span class="p">]</span> <span class="o">=</span> <span class="n">total_production_cf</span>

    <span class="k">return</span> <span class="n">all_graphs</span>  <span class="c1"># Updated in-place</span>
<span class="c1"># Recalculate production_cf with normalized multipliers</span>
<span class="n">calculate_production_cf</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">" Updated production_cf calculations with normalized multipliers."</span><span class="p">)</span>

<span class="c1">#Step 6</span>
<span class="c1">#Save the graphs on disk (all inflexible and personal non-network production using CFs has been applied)</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>

<span class="c1"># UPDATED: Save to CombinedStorage CF directory</span>
<span class="n">save_dir</span> <span class="o">=</span> <span class="s2">"/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/CF"</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">save_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">G</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">):</span>
    <span class="n">season</span> <span class="o">=</span> <span class="n">graph_metadata</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">'season'</span><span class="p">]</span>
    <span class="n">hour</span> <span class="o">=</span> <span class="n">graph_metadata</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">'hour'</span><span class="p">]</span>
    <span class="c1"># UPDATED: Use CombinedStorage naming convention</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">save_dir</span><span class="p">,</span> <span class="sa">f</span><span class="s2">"SolarStorage_CF_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">.pkl"</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">"wb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"  Error saving </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">" Saved </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_graphs</span><span class="p">)</span><span class="si">}</span><span class="s2"> graphs to '</span><span class="si">{</span><span class="n">save_dir</span><span class="si">}</span><span class="s2">'"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Loading spring graphs...
Loading summer graphs...
Loading fall graphs...
Loading winter graphs...
 Loaded and converted 96 graphs to DiGraphs.
 Cleaned all graph attributes.
 All required attributes ('production_fix (MWh)', 'consumption_sum (MWh)', 'storage_impact', 'LT_storage_impact') verified present.
Processing capacity factors for spring...
Processing capacity factors for summer...
Processing capacity factors for fall...
Processing capacity factors for winter...
 Capacity-factor-constrained multipliers added for all nodes and hours across all seasons.
 Computed and stored 'production_cf (MWh)' for all nodes and hours across all seasons.
Redistributing CF for spring...
Redistributing CF for summer...
Redistributing CF for fall...
Redistributing CF for winter...
 CF redistribution completed for all seasons.
Enforcing CF caps for spring...
Enforcing CF caps for summer...
Enforcing CF caps for fall...
Enforcing CF caps for winter...
 CF cap enforcement completed for all seasons.
Normalizing CF totals for spring...
Normalizing CF totals for summer...
Normalizing CF totals for fall...
Normalizing CF totals for winter...
 CF normalization completed for all seasons.
 Updated production_cf calculations with normalized multipliers.
 Saved 96 graphs to '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/CF'
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=f0546078-db1b-476f-a21b-b34f9bf4a327">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In[28]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Adds the attributes effective_coal, effective_gas and effective_oil to all nodes and sets them as 0 for now</span>

<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">import</span> <span class="nn">gzip</span> <span class="c1"># Still needed for .gz compression</span>

<span class="c1"># --- IMPORTANT CONFIGURATION ---</span>
<span class="c1"># Base directory where the previously generated CF graphs are stored</span>
<span class="n">CF_INPUT_DIR</span> <span class="o">=</span> <span class="s1">'/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/CF/'</span>
<span class="c1"># Directory where the updated graphs will be saved (can be the same as input if overwriting is desired)</span>
<span class="n">UPDATED_OUTPUT_DIR</span> <span class="o">=</span> <span class="s1">'/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/CF/'</span>

<span class="c1"># Define seasons and hours</span>
<span class="n">SEASONS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"spring"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">,</span> <span class="s2">"fall"</span><span class="p">,</span> <span class="s2">"winter"</span><span class="p">]</span>
<span class="n">HOURS</span> <span class="o">=</span> <span class="mi">24</span>

<span class="k">def</span> <span class="nf">add_new_attributes_to_graph_nodes</span><span class="p">(</span><span class="n">graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Adds 'effective_coal', 'effective_gas', and 'effective_oil' attributes</span>
<span class="sd">    to all nodes in the given graph and initializes them to 0.0.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        graph (nx.MultiDiGraph): The input graph.</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        nx.MultiDiGraph: The graph with the new attributes added to its nodes.</span>
<span class="sd">    """</span>
    <span class="c1">#print(f"Adding new attributes to {len(graph.nodes())} nodes...")</span>
    <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="s1">'effective_coal'</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="s1">'effective_gas'</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="s1">'effective_oil'</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="c1">#print("New attributes added successfully.")</span>
    <span class="k">return</span> <span class="n">graph</span>

<span class="c1"># --- Main execution block ---</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"--- Starting to add new attributes to all CF graphs (All Seasons) ---"</span><span class="p">)</span>
    
    <span class="c1"># Ensure the output directory exists</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">UPDATED_OUTPUT_DIR</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Ensured updated output directory exists: </span><span class="si">{</span><span class="n">UPDATED_OUTPUT_DIR</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="n">total_graphs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">SEASONS</span><span class="p">)</span> <span class="o">*</span> <span class="n">HOURS</span>
    <span class="n">processed_graphs</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="c1"># Process all seasons and hours</span>
    <span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">SEASONS</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">=== Processing </span><span class="si">{</span><span class="n">season</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2"> Season ==="</span><span class="p">)</span>
        
        <span class="k">for</span> <span class="n">hour</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">HOURS</span><span class="p">):</span>
            <span class="c1"># Input file naming matches the CF processing output</span>
            <span class="n">input_graph_file_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"SolarStorage_CF_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">.pkl"</span>
            <span class="n">input_graph_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">CF_INPUT_DIR</span><span class="p">,</span> <span class="n">input_graph_file_name</span><span class="p">)</span>
            
            <span class="c1"># Output file naming (overwriting the existing file)</span>
            <span class="n">output_graph_file_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"SolarStorage_CF_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">.pkl"</span>
            <span class="n">output_graph_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">UPDATED_OUTPUT_DIR</span><span class="p">,</span> <span class="n">output_graph_file_name</span><span class="p">)</span>
            
            <span class="n">processed_graphs</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="c1">#print(f"\n--- Processing {input_graph_file_name} ({season.capitalize()} Hour {hour}) [{processed_graphs}/{total_graphs}] ---")</span>
            
            <span class="k">try</span><span class="p">:</span>
                <span class="c1">#print(f"Attempting to load graph from: {input_graph_file_path}")</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">input_graph_file_path</span><span class="p">,</span> <span class="s1">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">G_cf</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                <span class="c1">#print(f"Successfully loaded graph with {len(G_cf.nodes())} nodes and {len(G_cf.edges())} edges.")</span>
                
                <span class="c1"># Add the new attributes to the loaded graph</span>
                <span class="n">updated_G_cf</span> <span class="o">=</span> <span class="n">add_new_attributes_to_graph_nodes</span><span class="p">(</span><span class="n">G_cf</span><span class="p">)</span>
                
                <span class="c1"># Save the updated graph</span>
                <span class="c1">#print(f"Saving updated graph to: {output_graph_file_path}")</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_graph_file_path</span><span class="p">,</span> <span class="s1">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">updated_G_cf</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
                <span class="c1">#print(f"Successfully saved {output_graph_file_name}.")</span>
                
                <span class="c1">#print(f"Verification: Checking attributes for a sample node in {output_graph_file_name}")</span>
                <span class="c1"># Load again to verify (optional, for debugging)</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_graph_file_path</span><span class="p">,</span> <span class="s1">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f_verify</span><span class="p">:</span>
                    <span class="n">verified_graph</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f_verify</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">verified_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
                        <span class="n">sample_node_id</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">verified_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">))</span>
                        <span class="n">node_data</span> <span class="o">=</span> <span class="n">verified_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">sample_node_id</span><span class="p">]</span>
                        <span class="c1"># print(f"  Sample Node '{sample_node_id}' attributes: "</span>
                              <span class="c1">#f"effective_coal={node_data.get('effective_coal')}, "</span>
                              <span class="c1">#f"effective_gas={node_data.get('effective_gas')}, "</span>
                              <span class="c1">#f"effective_oil={node_data.get('effective_oil')}")</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">"  Graph has no nodes to verify."</span><span class="p">)</span>
                
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">" Completed processing </span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2"> hour </span><span class="si">{</span><span class="n">hour</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
                        
            <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2"> Error: The file '</span><span class="si">{</span><span class="n">input_graph_file_path</span><span class="si">}</span><span class="s2">' was not found."</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">"Please ensure the path is correct and the file exists from the previous step."</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2"> An error occurred while loading or processing the graph for </span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2"> hour </span><span class="si">{</span><span class="n">hour</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2"> === All CF Graphs Updated with New Attributes (</span><span class="si">{</span><span class="n">processed_graphs</span><span class="si">}</span><span class="s2"> graphs processed) ==="</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>--- Starting to add new attributes to all CF graphs (All Seasons) ---
Ensured updated output directory exists: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/CF/

=== Processing SPRING Season ===
 Completed processing spring hour 0
 Completed processing spring hour 1
 Completed processing spring hour 2
 Completed processing spring hour 3
 Completed processing spring hour 4
 Completed processing spring hour 5
 Completed processing spring hour 6
 Completed processing spring hour 7
 Completed processing spring hour 8
 Completed processing spring hour 9
 Completed processing spring hour 10
 Completed processing spring hour 11
 Completed processing spring hour 12
 Completed processing spring hour 13
 Completed processing spring hour 14
 Completed processing spring hour 15
 Completed processing spring hour 16
 Completed processing spring hour 17
 Completed processing spring hour 18
 Completed processing spring hour 19
 Completed processing spring hour 20
 Completed processing spring hour 21
 Completed processing spring hour 22
 Completed processing spring hour 23

=== Processing SUMMER Season ===
 Completed processing summer hour 0
 Completed processing summer hour 1
 Completed processing summer hour 2
 Completed processing summer hour 3
 Completed processing summer hour 4
 Completed processing summer hour 5
 Completed processing summer hour 6
 Completed processing summer hour 7
 Completed processing summer hour 8
 Completed processing summer hour 9
 Completed processing summer hour 10
 Completed processing summer hour 11
 Completed processing summer hour 12
 Completed processing summer hour 13
 Completed processing summer hour 14
 Completed processing summer hour 15
 Completed processing summer hour 16
 Completed processing summer hour 17
 Completed processing summer hour 18
 Completed processing summer hour 19
 Completed processing summer hour 20
 Completed processing summer hour 21
 Completed processing summer hour 22
 Completed processing summer hour 23

=== Processing FALL Season ===
 Completed processing fall hour 0
 Completed processing fall hour 1
 Completed processing fall hour 2
 Completed processing fall hour 3
 Completed processing fall hour 4
 Completed processing fall hour 5
 Completed processing fall hour 6
 Completed processing fall hour 7
 Completed processing fall hour 8
 Completed processing fall hour 9
 Completed processing fall hour 10
 Completed processing fall hour 11
 Completed processing fall hour 12
 Completed processing fall hour 13
 Completed processing fall hour 14
 Completed processing fall hour 15
 Completed processing fall hour 16
 Completed processing fall hour 17
 Completed processing fall hour 18
 Completed processing fall hour 19
 Completed processing fall hour 20
 Completed processing fall hour 21
 Completed processing fall hour 22
 Completed processing fall hour 23

=== Processing WINTER Season ===
 Completed processing winter hour 0
 Completed processing winter hour 1
 Completed processing winter hour 2
 Completed processing winter hour 3
 Completed processing winter hour 4
 Completed processing winter hour 5
 Completed processing winter hour 6
 Completed processing winter hour 7
 Completed processing winter hour 8
 Completed processing winter hour 9
 Completed processing winter hour 10
 Completed processing winter hour 11
 Completed processing winter hour 12
 Completed processing winter hour 13
 Completed processing winter hour 14
 Completed processing winter hour 15
 Completed processing winter hour 16
 Completed processing winter hour 17
 Completed processing winter hour 18
 Completed processing winter hour 19
 Completed processing winter hour 20
 Completed processing winter hour 21
 Completed processing winter hour 22
 Completed processing winter hour 23

 === All CF Graphs Updated with New Attributes (96 graphs processed) ===
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=509d1173-d353-42fb-88ca-2f230b170e15">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In[1]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Creates heat map for each of the graphs across all seasons</span>
<span class="c1"># Heat is the cumulative effect of all nodes within range on a given node</span>
<span class="c1"># The range is defined as a retention amount which once crossed is out of bounds</span>
<span class="c1"># Meant to show surplus and deficit regions</span>
<span class="c1"># Code also creates a directory so that heat can be calculated faster after modifications</span>

<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">heapq</span>
<span class="kn">import</span> <span class="nn">gzip</span> <span class="c1"># Still needed for .gz compression</span>

<span class="c1"># --- IMPORTANT CONFIGURATION ---</span>
<span class="c1"># Base directory for input files (original CF graphs)</span>
<span class="n">BASE_INPUT_DIR</span> <span class="o">=</span> <span class="s1">'/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/CF/'</span>
<span class="c1"># Directory for output HeatMap graphs</span>
<span class="n">OUTPUT_DIR</span> <span class="o">=</span> <span class="s1">'/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/'</span>
<span class="c1"># NEW: Directory for output Propagation Effects Dictionaries</span>
<span class="n">DICTIONARIES_OUTPUT_DIR</span> <span class="o">=</span> <span class="s1">'/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/Dictionaries/'</span>

<span class="c1"># Define seasons and hours</span>
<span class="n">SEASONS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"spring"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">,</span> <span class="s2">"fall"</span><span class="p">,</span> <span class="s2">"winter"</span><span class="p">]</span>
<span class="n">HOURS</span> <span class="o">=</span> <span class="mi">24</span>

<span class="c1"># Define the cumulative retention threshold. Paths will be explored only if</span>
<span class="c1"># their cumulative retention is greater than this value.</span>
<span class="n">CUMULATIVE_RETENTION_THRESHOLD</span> <span class="o">=</span> <span class="mf">0.9</span>

<span class="c1"># The convert_defaultdict_to_dict function is removed as it's not strictly needed for pickle</span>

<span class="k">def</span> <span class="nf">_run_single_source_propagation</span><span class="p">(</span><span class="n">graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">,</span> <span class="n">source_node_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">source_balance</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Helper function to run the Best-First Search propagation for a single source node.</span>
<span class="sd">    This function calculates how much heat from `source_node_id` propagates to other nodes.</span>

<span class="sd">    Args:</span>
<span class="sd">        graph (nx.MultiDiGraph): The current state of the electricity grid graph.</span>
<span class="sd">        source_node_id (str): The ID of the node acting as the heat source.</span>
<span class="sd">        source_balance (float): The 'heat' (balance) value of the source node.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A dictionary where keys are target node IDs and values are the propagated heat</span>
<span class="sd">              effects from `source_node_id` to that target. This will be stored in global_propagation_effects.</span>
<span class="sd">    """</span>
    <span class="n">propagated_values_from_this_source</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="c1"># max_abs_propagated_from_this_source helps prune redundant paths within this single source's BFS</span>
    <span class="n">max_abs_propagated_from_this_source</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span> 

    <span class="c1"># Priority queue for Best-First Search:</span>
    <span class="c1"># Stores: (-potential_abs_heat, current_node, tuple_of_nodes_in_path, cumulative_retention, lowest_capacity)</span>
    <span class="c1"># We use negative 'potential_abs_heat' to make heapq act as a max-priority queue.</span>
    <span class="n">priority_queue</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Initial state: Push the source node itself onto the queue.</span>
    <span class="c1"># The initial 'potential_abs_heat' is based on the source's own balance.</span>
    <span class="c1"># We don't store the source's own heat in propagated_values_from_this_source directly for total_propagated_heat,</span>
    <span class="c1"># as per definition (it's part of initial_heat).</span>
    <span class="n">heapq</span><span class="o">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">priority_queue</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="nb">abs</span><span class="p">(</span><span class="n">source_balance</span><span class="p">),</span> <span class="n">source_node_id</span><span class="p">,</span> <span class="p">(</span><span class="n">source_node_id</span><span class="p">,),</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'inf'</span><span class="p">)))</span>

    <span class="k">while</span> <span class="n">priority_queue</span><span class="p">:</span>
        <span class="n">neg_potential_abs_heat</span><span class="p">,</span> <span class="n">current_node</span><span class="p">,</span> <span class="n">path_nodes_tuple</span><span class="p">,</span> <span class="n">current_cumulative_retention</span><span class="p">,</span> <span class="n">current_lowest_capacity</span> <span class="o">=</span> <span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="n">priority_queue</span><span class="p">)</span>
        
        <span class="n">path_nodes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">path_nodes_tuple</span><span class="p">)</span>

        <span class="c1"># Calculate propagated heat for the current_node (if it's not the source itself)</span>
        <span class="k">if</span> <span class="n">current_node</span> <span class="o">!=</span> <span class="n">source_node_id</span><span class="p">:</span> <span class="c1"># Only consider actual propagation to other nodes</span>
            <span class="n">capped_source_balance_abs</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">source_balance</span><span class="p">),</span> <span class="n">current_lowest_capacity</span><span class="p">)</span>
            <span class="n">propagated_heat</span> <span class="o">=</span> <span class="n">capped_source_balance_abs</span> <span class="o">*</span> <span class="n">current_cumulative_retention</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="n">source_balance</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            
            <span class="c1"># Pruning: If this path doesn't offer a better (higher absolute) propagation to current_node, skip.</span>
            <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">propagated_heat</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">max_abs_propagated_from_this_source</span><span class="p">[</span><span class="n">current_node</span><span class="p">]:</span>
                <span class="k">continue</span>
            
            <span class="n">max_abs_propagated_from_this_source</span><span class="p">[</span><span class="n">current_node</span><span class="p">]</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">propagated_heat</span><span class="p">)</span>
            <span class="n">propagated_values_from_this_source</span><span class="p">[</span><span class="n">current_node</span><span class="p">]</span> <span class="o">=</span> <span class="n">propagated_heat</span>
            
        <span class="c1"># Explore neighbors of the current_node</span>
        <span class="k">for</span> <span class="n">neighbor_node</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">current_node</span><span class="p">):</span>
            <span class="c1"># Avoid loops in the path</span>
            <span class="k">if</span> <span class="n">neighbor_node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">path_nodes</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">edge_key</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">current_node</span><span class="p">][</span><span class="n">neighbor_node</span><span class="p">]:</span>
                    <span class="n">edge_data</span> <span class="o">=</span> <span class="n">graph</span><span class="p">[</span><span class="n">current_node</span><span class="p">][</span><span class="n">neighbor_node</span><span class="p">][</span><span class="n">edge_key</span><span class="p">]</span>
                    
                    <span class="n">edge_capacity</span> <span class="o">=</span> <span class="n">edge_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'capacity MW'</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'inf'</span><span class="p">))</span>
                    <span class="n">edge_retention</span> <span class="o">=</span> <span class="n">edge_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'retention'</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

                    <span class="n">new_cumulative_retention</span> <span class="o">=</span> <span class="n">current_cumulative_retention</span> <span class="o">*</span> <span class="n">edge_retention</span>
                    <span class="n">new_lowest_capacity</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">current_lowest_capacity</span><span class="p">,</span> <span class="n">edge_capacity</span><span class="p">)</span>

                    <span class="c1"># Only propagate if cumulative retention is above the threshold</span>
                    <span class="k">if</span> <span class="n">new_cumulative_retention</span> <span class="o">&gt;</span> <span class="n">CUMULATIVE_RETENTION_THRESHOLD</span><span class="p">:</span>
                        <span class="n">potential_next_abs_heat</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">source_balance</span><span class="p">),</span> <span class="n">new_lowest_capacity</span><span class="p">)</span> <span class="o">*</span> <span class="n">new_cumulative_retention</span>
                        <span class="n">heapq</span><span class="o">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">priority_queue</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="n">potential_next_abs_heat</span><span class="p">,</span> <span class="n">neighbor_node</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">path_nodes</span> <span class="o">+</span> <span class="p">[</span><span class="n">neighbor_node</span><span class="p">]),</span> <span class="n">new_cumulative_retention</span><span class="p">,</span> <span class="n">new_lowest_capacity</span><span class="p">))</span>
                        
    <span class="k">return</span> <span class="n">propagated_values_from_this_source</span>


<span class="k">def</span> <span class="nf">calculate_grid_heat_effects</span><span class="p">(</span><span class="n">graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">,</span> <span class="n">defaultdict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Calculates the 'heat' balance for each node and then propagates</span>
<span class="sd">    the heat effects throughout the grid, summing them up for each node.</span>
<span class="sd">    It uses a priority queue to optimize path exploration by pruning</span>
<span class="sd">    branches that cannot yield a better result.</span>
<span class="sd">    Finally, it calculates an 'effective_heat' attribute for each node.</span>
<span class="sd">    Additionally, it now builds and returns the global_propagation_effects map.</span>

<span class="sd">    Args:</span>
<span class="sd">        graph (nx.MultiDiGraph): The input electricity grid graph.</span>
<span class="sd">                                  Nodes must have 'production_fix (MWh)',</span>
<span class="sd">                                  'production_cf (MWh)', and 'consumption_sum (MWh)' attributes.</span>
<span class="sd">                                  Edges must have 'capacity MW' and 'retention' attributes.</span>

<span class="sd">    Returns:</span>
<span class="sd">        tuple:</span>
<span class="sd">            - nx.MultiDiGraph: The input graph object with three new attributes added to its nodes:</span>
<span class="sd">                                 - 'heat': The initial balance (production - consumption) for each node.</span>
<span class="sd">                                 - 'total_propagated_heat': The sum of heat effects received by</span>
<span class="sd">                                                           this node from all other source nodes.</span>
<span class="sd">                                 - 'effective_heat': The sum of 'heat' and 'total_propagated_heat'</span>
<span class="sd">                                                     for each node.</span>
<span class="sd">            - defaultdict: The global_propagation_effects dictionary for this graph's state.</span>
<span class="sd">    """</span>

    <span class="c1"># 1. Calculate and add 'heat' attribute (balance) to each node</span>
    <span class="c1"># This 'heat' represents the initial surplus or deficit of the node.</span>
    <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">production_fix</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_fix (MWh)'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">production_cf</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_cf (MWh)'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">consumption_sum</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'consumption_sum (MWh)'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">effective_coal</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_coal'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">effective_gas</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_gas'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">lt_storage_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT_storage_impact'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">st_storage_impact</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'storage_impact'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">effective_oil</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_oil'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">total_production</span> <span class="o">=</span> <span class="n">production_fix</span> <span class="o">+</span> <span class="n">production_cf</span> <span class="o">+</span> <span class="n">effective_coal</span> <span class="o">+</span> <span class="n">effective_gas</span> <span class="o">+</span> <span class="n">effective_oil</span> 
        <span class="n">node_balance</span> <span class="o">=</span> <span class="n">total_production</span> <span class="o">-</span> <span class="n">consumption_sum</span> <span class="o">+</span> <span class="n">lt_storage_impact</span> <span class="o">+</span> <span class="n">st_storage_impact</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="s1">'heat'</span><span class="p">]</span> <span class="o">=</span> <span class="n">node_balance</span>

    <span class="c1"># This will accumulate the total propagated heat for each node</span>
    <span class="n">node_total_propagated_heat_accumulator</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
    <span class="c1"># This will store the detailed propagation effects for saving to file</span>
    <span class="n">global_propagation_effects_for_output</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>

    <span class="c1"># 2. Iterate through each node as a potential source of heat propagation</span>
    <span class="k">for</span> <span class="n">source_node_id</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
        <span class="n">source_balance</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">source_node_id</span><span class="p">][</span><span class="s1">'heat'</span><span class="p">]</span>

        <span class="c1"># Run propagation for this single source using the helper function</span>
        <span class="n">propagated_values</span> <span class="o">=</span> <span class="n">_run_single_source_propagation</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">source_node_id</span><span class="p">,</span> <span class="n">source_balance</span><span class="p">)</span>
        
        <span class="c1"># Store these specific source's propagation effects in the dictionary for output</span>
        <span class="c1"># And accumulate for the total_propagated_heat of each target node</span>
        <span class="k">for</span> <span class="n">target_node_id</span><span class="p">,</span> <span class="n">heat_value</span> <span class="ow">in</span> <span class="n">propagated_values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Source node itself's propagation effect on its own total_propagated_heat is 0.</span>
            <span class="k">if</span> <span class="n">target_node_id</span> <span class="o">==</span> <span class="n">source_node_id</span><span class="p">:</span>
                <span class="n">global_propagation_effects_for_output</span><span class="p">[</span><span class="n">source_node_id</span><span class="p">][</span><span class="n">target_node_id</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">global_propagation_effects_for_output</span><span class="p">[</span><span class="n">source_node_id</span><span class="p">][</span><span class="n">target_node_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">heat_value</span>
            <span class="n">node_total_propagated_heat_accumulator</span><span class="p">[</span><span class="n">target_node_id</span><span class="p">]</span> <span class="o">+=</span> <span class="n">global_propagation_effects_for_output</span><span class="p">[</span><span class="n">source_node_id</span><span class="p">][</span><span class="n">target_node_id</span><span class="p">]</span>

    <span class="c1"># 3. Aggregate total propagated heat for each node</span>
    <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">():</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="s1">'total_propagated_heat'</span><span class="p">]</span> <span class="o">=</span> <span class="n">node_total_propagated_heat_accumulator</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span>

    <span class="c1"># 4. Calculate 'effective_heat' for each node</span>
    <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">initial_heat</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'heat'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">propagated_heat</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_propagated_heat'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="s1">'effective_heat'</span><span class="p">]</span> <span class="o">=</span> <span class="n">initial_heat</span> <span class="o">+</span> <span class="n">propagated_heat</span>

    <span class="k">return</span> <span class="n">graph</span><span class="p">,</span> <span class="n">global_propagation_effects_for_output</span> <span class="c1"># Return both graph and the dictionary</span>


<span class="c1"># --- Main execution block ---</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"--- Starting Electricity Grid Analysis for All Seasonal Hourly Graphs ---"</span><span class="p">)</span>

    <span class="c1"># Create the output directories if they don't exist</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">OUTPUT_DIR</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">DICTIONARIES_OUTPUT_DIR</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">total_graphs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">SEASONS</span><span class="p">)</span> <span class="o">*</span> <span class="n">HOURS</span>
    <span class="n">processed_graphs</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># Process all seasons and hours</span>
    <span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">SEASONS</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">hour</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">HOURS</span><span class="p">):</span>
            <span class="c1"># Input file naming matches the CF processing output</span>
            <span class="n">input_file_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"SolarStorage_CF_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">.pkl"</span>
            <span class="n">input_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_INPUT_DIR</span><span class="p">,</span> <span class="n">input_file_name</span><span class="p">)</span>
            
            <span class="c1"># Output file naming includes season</span>
            <span class="n">output_graph_file_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"SolarStorage_HeatMap_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">.pkl"</span>
            <span class="n">output_graph_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">OUTPUT_DIR</span><span class="p">,</span> <span class="n">output_graph_file_name</span><span class="p">)</span>
            
            <span class="c1"># Define path for the dictionary output file with .pkl.gz extension</span>
            <span class="n">output_dict_file_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"SolarStorage_PropagationEffects_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">.pkl.gz"</span>
            <span class="n">output_dict_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DICTIONARIES_OUTPUT_DIR</span><span class="p">,</span> <span class="n">output_dict_file_name</span><span class="p">)</span>

            <span class="n">processed_graphs</span> <span class="o">+=</span> <span class="mi">1</span>
            
            <span class="k">try</span><span class="p">:</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">input_file_path</span><span class="p">,</span> <span class="s1">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">G</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

                <span class="c1"># The function now returns two values: the graph and the propagation effects dictionary</span>
                <span class="n">updated_graph</span><span class="p">,</span> <span class="n">global_propagation_effects_for_this_hour</span> <span class="o">=</span> <span class="n">calculate_grid_heat_effects</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>

                <span class="c1"># Save the updated graph</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_graph_file_path</span><span class="p">,</span> <span class="s1">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">updated_graph</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

                <span class="c1"># Save the generated global_propagation_effects dictionary using pickle and gzip</span>
                <span class="k">with</span> <span class="n">gzip</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">output_dict_file_path</span><span class="p">,</span> <span class="s1">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">global_propagation_effects_for_this_hour</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">protocol</span><span class="o">=</span><span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span><span class="p">)</span>

                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">" Successfully processed and saved '</span><span class="si">{</span><span class="n">output_graph_file_path</span><span class="si">}</span><span class="s2">' [</span><span class="si">{</span><span class="n">processed_graphs</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">total_graphs</span><span class="si">}</span><span class="s2">]"</span><span class="p">)</span>

            <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">" Error: File not found '</span><span class="si">{</span><span class="n">input_file_path</span><span class="si">}</span><span class="s2">' [</span><span class="si">{</span><span class="n">processed_graphs</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">total_graphs</span><span class="si">}</span><span class="s2">]"</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">" Error processing '</span><span class="si">{</span><span class="n">input_file_path</span><span class="si">}</span><span class="s2">': </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2"> [</span><span class="si">{</span><span class="n">processed_graphs</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">total_graphs</span><span class="si">}</span><span class="s2">]"</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2"> All processing complete (</span><span class="si">{</span><span class="n">processed_graphs</span><span class="si">}</span><span class="s2"> graphs processed)"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>--- Starting Electricity Grid Analysis for All Seasonal Hourly Graphs ---
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour00.pkl' [1/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour01.pkl' [2/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour02.pkl' [3/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour03.pkl' [4/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour04.pkl' [5/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour05.pkl' [6/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour06.pkl' [7/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour07.pkl' [8/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour08.pkl' [9/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour09.pkl' [10/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour10.pkl' [11/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour11.pkl' [12/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour12.pkl' [13/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour13.pkl' [14/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour14.pkl' [15/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour15.pkl' [16/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour16.pkl' [17/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour17.pkl' [18/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour18.pkl' [19/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour19.pkl' [20/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour20.pkl' [21/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour21.pkl' [22/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour22.pkl' [23/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_spring_hour23.pkl' [24/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour00.pkl' [25/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour01.pkl' [26/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour02.pkl' [27/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour03.pkl' [28/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour04.pkl' [29/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour05.pkl' [30/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour06.pkl' [31/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour07.pkl' [32/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour08.pkl' [33/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour09.pkl' [34/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour10.pkl' [35/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour11.pkl' [36/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour12.pkl' [37/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour13.pkl' [38/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour14.pkl' [39/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour15.pkl' [40/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour16.pkl' [41/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour17.pkl' [42/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour18.pkl' [43/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour19.pkl' [44/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour20.pkl' [45/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour21.pkl' [46/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour22.pkl' [47/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_summer_hour23.pkl' [48/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour00.pkl' [49/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour01.pkl' [50/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour02.pkl' [51/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour03.pkl' [52/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour04.pkl' [53/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour05.pkl' [54/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour06.pkl' [55/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour07.pkl' [56/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour08.pkl' [57/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour09.pkl' [58/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour10.pkl' [59/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour11.pkl' [60/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour12.pkl' [61/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour13.pkl' [62/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour14.pkl' [63/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour15.pkl' [64/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour16.pkl' [65/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour17.pkl' [66/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour18.pkl' [67/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour19.pkl' [68/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour20.pkl' [69/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour21.pkl' [70/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour22.pkl' [71/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_fall_hour23.pkl' [72/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour00.pkl' [73/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour01.pkl' [74/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour02.pkl' [75/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour03.pkl' [76/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour04.pkl' [77/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour05.pkl' [78/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour06.pkl' [79/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour07.pkl' [80/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour08.pkl' [81/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour09.pkl' [82/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour10.pkl' [83/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour11.pkl' [84/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour12.pkl' [85/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour13.pkl' [86/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour14.pkl' [87/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour15.pkl' [88/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour16.pkl' [89/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour17.pkl' [90/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour18.pkl' [91/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour19.pkl' [92/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour20.pkl' [93/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour21.pkl' [94/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour22.pkl' [95/96]
 Successfully processed and saved '/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/SolarStorage_HeatMap_winter_hour23.pkl' [96/96]

 All processing complete (96 graphs processed)
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell" id="cell-id=519eb7e3-9c93-406f-beb8-703fedf7d805">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In[2]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Fixed compressed version of the three allocation mechanisms by Claude Opus</span>

<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">import</span> <span class="nn">gzip</span>
<span class="kn">import</span> <span class="nn">heapq</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">traceback</span>

<span class="c1"># --- CONFIGURATION ---</span>
<span class="n">BASE_INPUT_DIR</span> <span class="o">=</span> <span class="s1">'/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/'</span>
<span class="n">BASE_OUTPUT_DIR</span> <span class="o">=</span> <span class="s1">'/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/'</span>
<span class="n">BASE_PROPAGATION_DIR</span> <span class="o">=</span> <span class="s1">'/Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/HeatMap/Dictionaries/'</span>

<span class="c1"># Define seasons and hours to process</span>
<span class="n">SEASONS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"spring"</span><span class="p">,</span> <span class="s2">"summer"</span><span class="p">,</span> <span class="s2">"fall"</span><span class="p">,</span> <span class="s2">"winter"</span><span class="p">]</span>
<span class="n">HOURS_TO_PROCESS</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">))</span>

<span class="c1"># Retention thresholds for propagation</span>
<span class="n">CUMULATIVE_RETENTION_THRESHOLD</span> <span class="o">=</span> <span class="mf">0.9</span>  <span class="c1"># For propagation effects</span>
<span class="n">CUMULATIVE_RETENTION_THRESHOLD_Dump</span> <span class="o">=</span> <span class="mf">0.975</span>  <span class="c1"># For dumpable calculations</span>

<span class="c1"># OPTIMIZATION: Cache loaded graphs to avoid reloading</span>
<span class="n">_graph_cache</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">def</span> <span class="nf">_load_graph_cached</span><span class="p">(</span><span class="n">graph_filepath</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Load graph from file with caching to avoid repeated I/O."""</span>
    <span class="k">if</span> <span class="n">graph_filepath</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_graph_cache</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">graph_filepath</span><span class="p">,</span> <span class="s1">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">_graph_cache</span><span class="p">[</span><span class="n">graph_filepath</span><span class="p">]</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_graph_cache</span><span class="p">[</span><span class="n">graph_filepath</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">_precompute_node_properties</span><span class="p">(</span><span class="n">graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Pre-compute all node properties to avoid repeated calculations."""</span>
    <span class="n">node_properties</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="n">node_data</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span>
        <span class="n">balance</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_fix (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_cf (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_coal'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_oil'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_gas'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT_storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span><span class="o">+</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">-</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'consumption_sum (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> 
        <span class="p">)</span>
        
        <span class="c1"># Pre-compute outgoing edges</span>
        <span class="n">outgoing_edges</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">outgoing_capacity</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">edge_data</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">out_edges</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">keys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
            <span class="n">capacity</span> <span class="o">=</span> <span class="n">edge_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'capacity MW'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
            <span class="n">retention</span> <span class="o">=</span> <span class="n">edge_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'retention'</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="n">outgoing_edges</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">v</span><span class="p">,</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">retention</span><span class="p">))</span>
            <span class="n">outgoing_capacity</span> <span class="o">+=</span> <span class="n">capacity</span>
        
        <span class="c1"># Sort by retention descending</span>
        <span class="n">outgoing_edges</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        
        <span class="n">node_properties</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">'balance'</span><span class="p">:</span> <span class="n">balance</span><span class="p">,</span>
            <span class="s1">'outgoing_capacity'</span><span class="p">:</span> <span class="n">outgoing_capacity</span><span class="p">,</span>
            <span class="s1">'outgoing_edges'</span><span class="p">:</span> <span class="n">outgoing_edges</span><span class="p">,</span>
            <span class="s1">'max_absorption'</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">balance</span><span class="p">),</span>
            <span class="s1">'local_surplus'</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">balance</span><span class="p">),</span>
            <span class="s1">'coal_available'</span><span class="p">:</span> <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Coal'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span>
            <span class="s1">'gas_available'</span><span class="p">:</span> <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Fossil Gas'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span>
            <span class="s1">'oil_available'</span><span class="p">:</span> <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Oil'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="p">}</span>
    
    <span class="k">return</span> <span class="n">node_properties</span>

<span class="k">def</span> <span class="nf">update_node_properties_after_allocation</span><span class="p">(</span><span class="n">graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">,</span> <span class="n">node_properties</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Update node properties after energy allocation to reflect new balances.</span>
<span class="sd">    This is crucial for correct dumpable calculations in subsequent phases.</span>
<span class="sd">    """</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="n">node_data</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">]</span>
        <span class="c1"># Recalculate balance with current effective energy values</span>
        <span class="n">balance</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_fix (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'production_cf (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_coal'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_oil'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_gas'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'LT_storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span><span class="o">+</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'storage_impact'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">-</span>
            <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'consumption_sum (MWh)'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="p">)</span>
        
        <span class="c1"># Update the properties that depend on balance</span>
        <span class="n">node_properties</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">=</span> <span class="n">balance</span>
        <span class="n">node_properties</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">'max_absorption'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">balance</span><span class="p">)</span>
        <span class="n">node_properties</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">'local_surplus'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">balance</span><span class="p">)</span>
        
        <span class="c1"># Also update available resources</span>
        <span class="n">node_properties</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">'coal_available'</span><span class="p">]</span> <span class="o">=</span> <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Coal'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">node_properties</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">'gas_available'</span><span class="p">]</span> <span class="o">=</span> <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Fossil Gas'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">node_properties</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">'oil_available'</span><span class="p">]</span> <span class="o">=</span> <span class="n">node_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Oil'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_node_dumpable_capacity</span><span class="p">(</span><span class="n">node_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">,</span> <span class="n">node_properties</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> 
                              <span class="n">energy_amount</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">energy_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">'coal'</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Calculate the dumpable capacity for a given node with energy addition.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        node_id: The ID of the node for which to calculate dumpable capacity.</span>
<span class="sd">        graph: The loaded graph</span>
<span class="sd">        node_properties: Pre-computed node properties</span>
<span class="sd">        energy_amount: The hypothetical amount of energy to add to the node</span>
<span class="sd">        energy_type: Type of energy being added ('coal', 'gas', or 'oil')</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        float: The calculated dumpable capacity for the node.</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">node_properties</span><span class="p">:</span>
        <span class="k">return</span> <span class="mf">0.0</span>
    
    <span class="n">source_node</span> <span class="o">=</span> <span class="n">node_id</span>
    
    <span class="c1"># Use pre-computed properties and adjust for energy addition</span>
    <span class="n">source_props</span> <span class="o">=</span> <span class="n">node_properties</span><span class="p">[</span><span class="n">source_node</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">source_props</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span> <span class="o">+=</span> <span class="n">energy_amount</span>
    <span class="n">source_props</span><span class="p">[</span><span class="s1">'max_absorption'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="p">(</span><span class="n">source_props</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]))</span>
    <span class="n">source_props</span><span class="p">[</span><span class="s1">'local_surplus'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">source_props</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">])</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">source_props</span><span class="p">[</span><span class="s1">'outgoing_edges'</span><span class="p">]:</span>
        <span class="k">return</span> <span class="mf">0.0</span>  <span class="c1"># Sink node, no dumpable capacity</span>

    <span class="k">def</span> <span class="nf">_spread_surplus_internal</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">surplus</span><span class="p">,</span> <span class="n">retention</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">node_capacity_used</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Internal helper for spreading surplus."""</span>
        <span class="c1"># Get node properties - use source_props for source node, node_properties for others</span>
        <span class="k">if</span> <span class="n">node</span> <span class="o">==</span> <span class="n">source_node</span><span class="p">:</span>
            <span class="n">props</span> <span class="o">=</span> <span class="n">source_props</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">props</span> <span class="o">=</span> <span class="n">node_properties</span><span class="p">[</span><span class="n">node</span><span class="p">]</span>
            
        <span class="c1"># Check available absorption capacity</span>
        <span class="n">already_used</span> <span class="o">=</span> <span class="n">node_capacity_used</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">available_absorption</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">props</span><span class="p">[</span><span class="s1">'max_absorption'</span><span class="p">]</span> <span class="o">-</span> <span class="n">already_used</span><span class="p">)</span>
        
        <span class="c1"># Process incoming surplus</span>
        <span class="n">total_surplus</span> <span class="o">=</span> <span class="n">surplus</span>
        
        <span class="c1"># Local absorption</span>
        <span class="n">absorbed_locally</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">total_surplus</span><span class="p">,</span> <span class="n">available_absorption</span><span class="p">)</span>
        <span class="n">total_surplus</span> <span class="o">-=</span> <span class="n">absorbed_locally</span>
        <span class="n">node_capacity_used</span><span class="p">[</span><span class="n">node</span><span class="p">]</span> <span class="o">=</span> <span class="n">already_used</span> <span class="o">+</span> <span class="n">absorbed_locally</span>
        
        <span class="c1"># Add local surplus</span>
        <span class="n">total_surplus</span> <span class="o">+=</span> <span class="n">props</span><span class="p">[</span><span class="s1">'local_surplus'</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">total_surplus</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[],</span> <span class="n">total_surplus</span>

        <span class="n">visited</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="n">rests</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Get outgoing edges for current node</span>
        <span class="k">if</span> <span class="n">node</span> <span class="o">==</span> <span class="n">source_node</span><span class="p">:</span>
            <span class="n">curr_outgoing_edges</span> <span class="o">=</span> <span class="n">source_props</span><span class="p">[</span><span class="s1">'outgoing_edges'</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">curr_outgoing_edges</span> <span class="o">=</span> <span class="n">props</span><span class="p">[</span><span class="s1">'outgoing_edges'</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">v</span><span class="p">,</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">edge_retention</span> <span class="ow">in</span> <span class="n">curr_outgoing_edges</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">total_surplus</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">break</span>

            <span class="n">send_amount</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">total_surplus</span><span class="p">,</span> <span class="n">capacity</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">send_amount</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="n">next_retention</span> <span class="o">=</span> <span class="n">retention</span> <span class="o">*</span> <span class="n">edge_retention</span>
            <span class="k">if</span> <span class="n">next_retention</span> <span class="o">&lt;</span> <span class="n">CUMULATIVE_RETENTION_THRESHOLD_Dump</span><span class="p">:</span>
                <span class="n">rests</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">send_amount</span><span class="p">,</span> <span class="n">retention</span><span class="p">))</span>
                <span class="n">total_surplus</span> <span class="o">-=</span> <span class="n">send_amount</span>
                <span class="k">continue</span>

            <span class="n">delivered</span> <span class="o">=</span> <span class="n">send_amount</span> <span class="o">*</span> <span class="n">edge_retention</span>
            <span class="n">total_surplus</span> <span class="o">-=</span> <span class="n">send_amount</span>

            <span class="n">branch_rests</span><span class="p">,</span> <span class="n">branch_unhandled</span> <span class="o">=</span> <span class="n">_spread_surplus_internal</span><span class="p">(</span>
                <span class="n">v</span><span class="p">,</span> <span class="n">delivered</span><span class="p">,</span> <span class="n">next_retention</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">node_capacity_used</span>
            <span class="p">)</span>
            <span class="n">rests</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">branch_rests</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">branch_unhandled</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">returned</span> <span class="o">=</span> <span class="n">branch_unhandled</span> <span class="o">/</span> <span class="n">edge_retention</span> <span class="k">if</span> <span class="n">edge_retention</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">branch_unhandled</span>
                <span class="n">total_surplus</span> <span class="o">+=</span> <span class="n">returned</span>

        <span class="n">visited</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rests</span><span class="p">,</span> <span class="n">total_surplus</span>
        
    <span class="c1"># Calculate rest for the source node</span>
    <span class="n">rests</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">visited</span> <span class="o">=</span> <span class="p">{</span><span class="n">source_node</span><span class="p">}</span>
    <span class="n">node_capacity_used</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="k">for</span> <span class="n">neighbor</span><span class="p">,</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">edge_retention</span> <span class="ow">in</span> <span class="n">source_props</span><span class="p">[</span><span class="s1">'outgoing_edges'</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">capacity</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">continue</span>
            
        <span class="n">delivered</span> <span class="o">=</span> <span class="n">capacity</span> <span class="o">*</span> <span class="n">edge_retention</span>
        
        <span class="n">branch_rests</span><span class="p">,</span> <span class="n">branch_unhandled</span> <span class="o">=</span> <span class="n">_spread_surplus_internal</span><span class="p">(</span>
            <span class="n">neighbor</span><span class="p">,</span> <span class="n">delivered</span><span class="p">,</span> <span class="n">edge_retention</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">node_capacity_used</span>
        <span class="p">)</span>
        <span class="n">rests</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">branch_rests</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">branch_unhandled</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">returned</span> <span class="o">=</span> <span class="n">branch_unhandled</span> <span class="o">/</span> <span class="n">edge_retention</span> <span class="k">if</span> <span class="n">edge_retention</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">branch_unhandled</span>
            <span class="n">rests</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">returned</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
    
    <span class="c1"># Calculate total unabsorbed</span>
    <span class="n">total_unabsorbed</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">for</span> <span class="n">rest_val</span><span class="p">,</span> <span class="n">retention</span> <span class="ow">in</span> <span class="n">rests</span><span class="p">:</span>
        <span class="n">total_unabsorbed</span> <span class="o">+=</span> <span class="n">rest_val</span> <span class="o">/</span> <span class="n">retention</span> <span class="k">if</span> <span class="n">retention</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">rest_val</span>

    <span class="c1"># Calculate dumpable</span>
    <span class="n">dumpable</span> <span class="o">=</span> <span class="n">source_props</span><span class="p">[</span><span class="s1">'outgoing_capacity'</span><span class="p">]</span> <span class="o">-</span> <span class="n">total_unabsorbed</span> <span class="o">-</span> <span class="n">source_props</span><span class="p">[</span><span class="s1">'balance'</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="n">dumpable</span>

<span class="k">def</span> <span class="nf">_run_single_source_propagation</span><span class="p">(</span><span class="n">graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">,</span> <span class="n">source_node_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">energy_added</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Calculate propagation effects for energy added to a specific source node.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        graph: The electricity grid graph</span>
<span class="sd">        source_node_id: The node where energy was added</span>
<span class="sd">        energy_added: Amount of energy added</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        dict: Dictionary of propagated effects from this energy addition</span>
<span class="sd">    """</span>
    <span class="n">propagated_values</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
    <span class="n">max_abs_propagated</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
    
    <span class="c1"># Priority queue for Best-First Search</span>
    <span class="n">priority_queue</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="n">initial_path_nodes_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="n">source_node_id</span><span class="p">,)</span>

    <span class="k">for</span> <span class="n">neighbor_node</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">source_node_id</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">edge_key</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">source_node_id</span><span class="p">][</span><span class="n">neighbor_node</span><span class="p">]:</span>
            <span class="n">edge_data</span> <span class="o">=</span> <span class="n">graph</span><span class="p">[</span><span class="n">source_node_id</span><span class="p">][</span><span class="n">neighbor_node</span><span class="p">][</span><span class="n">edge_key</span><span class="p">]</span>
            <span class="n">edge_capacity</span> <span class="o">=</span> <span class="n">edge_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'capacity MW'</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'inf'</span><span class="p">))</span>
            <span class="n">edge_retention</span> <span class="o">=</span> <span class="n">edge_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'retention'</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
            
            <span class="n">send_amount</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">energy_added</span><span class="p">),</span> <span class="n">edge_capacity</span><span class="p">)</span>
            
            <span class="n">new_cumulative_retention</span> <span class="o">=</span> <span class="n">edge_retention</span>
            <span class="n">new_lowest_capacity</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">edge_capacity</span><span class="p">,</span> <span class="nb">abs</span><span class="p">(</span><span class="n">energy_added</span><span class="p">))</span>

            <span class="k">if</span> <span class="n">new_cumulative_retention</span> <span class="o">&gt;</span> <span class="n">CUMULATIVE_RETENTION_THRESHOLD</span><span class="p">:</span>
                <span class="n">potential_next_heat</span> <span class="o">=</span> <span class="n">send_amount</span> <span class="o">*</span> <span class="n">new_cumulative_retention</span>
                <span class="n">signed_potential_next_heat</span> <span class="o">=</span> <span class="n">potential_next_heat</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="n">energy_added</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

                <span class="n">heapq</span><span class="o">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">priority_queue</span><span class="p">,</span>
                               <span class="p">(</span><span class="o">-</span><span class="nb">abs</span><span class="p">(</span><span class="n">signed_potential_next_heat</span><span class="p">),</span> <span class="n">neighbor_node</span><span class="p">,</span>
                                <span class="nb">tuple</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">initial_path_nodes_tuple</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="n">neighbor_node</span><span class="p">]),</span>
                                <span class="n">new_cumulative_retention</span><span class="p">,</span> <span class="n">new_lowest_capacity</span><span class="p">))</span>

    <span class="k">while</span> <span class="n">priority_queue</span><span class="p">:</span>
        <span class="n">neg_potential_abs_heat</span><span class="p">,</span> <span class="n">current_node</span><span class="p">,</span> <span class="n">path_nodes_tuple</span><span class="p">,</span> <span class="n">current_cumulative_retention</span><span class="p">,</span> <span class="n">current_lowest_capacity</span> <span class="o">=</span> <span class="n">heapq</span><span class="o">.</span><span class="n">heappop</span><span class="p">(</span><span class="n">priority_queue</span><span class="p">)</span>
        
        <span class="n">path_nodes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">path_nodes_tuple</span><span class="p">)</span>
        
        <span class="n">effective_flow_potential</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">energy_added</span><span class="p">),</span> <span class="n">current_lowest_capacity</span><span class="p">)</span>
        <span class="n">propagated_heat_at_node</span> <span class="o">=</span> <span class="n">effective_flow_potential</span> <span class="o">*</span> <span class="n">current_cumulative_retention</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="k">if</span> <span class="n">energy_added</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">propagated_heat_at_node</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">max_abs_propagated</span><span class="p">[</span><span class="n">current_node</span><span class="p">]:</span>
            <span class="k">continue</span>
            
        <span class="n">max_abs_propagated</span><span class="p">[</span><span class="n">current_node</span><span class="p">]</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">propagated_heat_at_node</span><span class="p">)</span>
        <span class="n">propagated_values</span><span class="p">[</span><span class="n">current_node</span><span class="p">]</span> <span class="o">=</span> <span class="n">propagated_heat_at_node</span>
        
        <span class="k">for</span> <span class="n">neighbor_node</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">current_node</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">neighbor_node</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">path_nodes</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">edge_key</span> <span class="ow">in</span> <span class="n">graph</span><span class="p">[</span><span class="n">current_node</span><span class="p">][</span><span class="n">neighbor_node</span><span class="p">]:</span>
                    <span class="n">edge_data</span> <span class="o">=</span> <span class="n">graph</span><span class="p">[</span><span class="n">current_node</span><span class="p">][</span><span class="n">neighbor_node</span><span class="p">][</span><span class="n">edge_key</span><span class="p">]</span>
                    <span class="n">edge_capacity</span> <span class="o">=</span> <span class="n">edge_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'capacity MW'</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'inf'</span><span class="p">))</span>
                    <span class="n">edge_retention</span> <span class="o">=</span> <span class="n">edge_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'retention'</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
                    
                    <span class="n">new_cumulative_retention</span> <span class="o">=</span> <span class="n">current_cumulative_retention</span> <span class="o">*</span> <span class="n">edge_retention</span>
                    <span class="n">new_lowest_capacity</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">current_lowest_capacity</span><span class="p">,</span> <span class="n">edge_capacity</span><span class="p">)</span>
                    
                    <span class="k">if</span> <span class="n">new_cumulative_retention</span> <span class="o">&gt;</span> <span class="n">CUMULATIVE_RETENTION_THRESHOLD</span><span class="p">:</span>
                        <span class="n">potential_next_abs_heat_to_neighbor</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">energy_added</span><span class="p">),</span> <span class="n">new_lowest_capacity</span><span class="p">)</span> <span class="o">*</span> <span class="n">new_cumulative_retention</span>

                        <span class="n">heapq</span><span class="o">.</span><span class="n">heappush</span><span class="p">(</span><span class="n">priority_queue</span><span class="p">,</span>
                                       <span class="p">(</span><span class="o">-</span><span class="n">potential_next_abs_heat_to_neighbor</span><span class="p">,</span> <span class="n">neighbor_node</span><span class="p">,</span>
                                        <span class="nb">tuple</span><span class="p">(</span><span class="n">path_nodes</span> <span class="o">+</span> <span class="p">[</span><span class="n">neighbor_node</span><span class="p">]),</span>
                                        <span class="n">new_cumulative_retention</span><span class="p">,</span> <span class="n">new_lowest_capacity</span><span class="p">))</span>
    
    <span class="k">return</span> <span class="n">propagated_values</span>

<span class="k">def</span> <span class="nf">update_effective_heat_with_energy_addition</span><span class="p">(</span><span class="n">graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">,</span> <span class="n">source_node_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">energy_added</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Update effective_heat for all nodes affected by adding energy to source_node_id.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        graph: The electricity grid graph</span>
<span class="sd">        source_node_id: The node where energy was added</span>
<span class="sd">        energy_added: Amount of energy production added</span>
<span class="sd">    """</span>
    <span class="c1"># Update the source node's effective_heat directly</span>
    <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">source_node_id</span><span class="p">][</span><span class="s1">'effective_heat'</span><span class="p">]</span> <span class="o">+=</span> <span class="n">energy_added</span>
    
    <span class="c1"># Calculate propagation effects for this energy addition</span>
    <span class="n">propagated_effects</span> <span class="o">=</span> <span class="n">_run_single_source_propagation</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">source_node_id</span><span class="p">,</span> <span class="n">energy_added</span><span class="p">)</span>
    
    <span class="c1"># Update all affected nodes based on the calculated propagation</span>
    <span class="k">for</span> <span class="n">target_node_id</span><span class="p">,</span> <span class="n">propagated_heat</span> <span class="ow">in</span> <span class="n">propagated_effects</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">target_node_id</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">target_node_id</span> <span class="o">!=</span> <span class="n">source_node_id</span><span class="p">:</span>
                <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">target_node_id</span><span class="p">][</span><span class="s1">'effective_heat'</span><span class="p">]</span> <span class="o">+=</span> <span class="n">propagated_heat</span>

<span class="k">def</span> <span class="nf">allocate_energy_source</span><span class="p">(</span><span class="n">graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">,</span> <span class="n">original_graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">,</span> 
                          <span class="n">node_properties</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">energy_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Allocate a specific energy source (coal, gas, or oil) to deficit nodes.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        graph: The working graph being modified</span>
<span class="sd">        original_graph: The original graph for dumpable calculations</span>
<span class="sd">        node_properties: Pre-computed node properties</span>
<span class="sd">        energy_type: Type of energy to allocate ('coal', 'gas', or 'oil')</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: True if any energy was allocated, False otherwise</span>
<span class="sd">    """</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Starting </span><span class="si">{</span><span class="n">energy_type</span><span class="si">}</span><span class="s2"> allocation algorithm..."</span><span class="p">)</span>
    
    <span class="c1"># Map energy types to their corresponding attributes</span>
    <span class="n">energy_mapping</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">'coal'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'available'</span><span class="p">:</span> <span class="s1">'Coal'</span><span class="p">,</span> <span class="s1">'effective'</span><span class="p">:</span> <span class="s1">'effective_coal'</span><span class="p">},</span>
        <span class="s1">'gas'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'available'</span><span class="p">:</span> <span class="s1">'Fossil Gas'</span><span class="p">,</span> <span class="s1">'effective'</span><span class="p">:</span> <span class="s1">'effective_gas'</span><span class="p">},</span>
        <span class="s1">'oil'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'available'</span><span class="p">:</span> <span class="s1">'Oil'</span><span class="p">,</span> <span class="s1">'effective'</span><span class="p">:</span> <span class="s1">'effective_oil'</span><span class="p">}</span>
    <span class="p">}</span>
    
    <span class="k">if</span> <span class="n">energy_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">energy_mapping</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Error: Unknown energy type '</span><span class="si">{</span><span class="n">energy_type</span><span class="si">}</span><span class="s2">'"</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    
    <span class="n">available_attr</span> <span class="o">=</span> <span class="n">energy_mapping</span><span class="p">[</span><span class="n">energy_type</span><span class="p">][</span><span class="s1">'available'</span><span class="p">]</span>
    <span class="n">effective_attr</span> <span class="o">=</span> <span class="n">energy_mapping</span><span class="p">[</span><span class="n">energy_type</span><span class="p">][</span><span class="s1">'effective'</span><span class="p">]</span>
    
    <span class="n">all_visited_nodes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">successfully_processed</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    
    <span class="n">iteration</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">total_allocated</span> <span class="o">=</span> <span class="mf">0.0</span>
    
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">iteration</span> <span class="o">+=</span> <span class="mi">1</span>
        
        <span class="c1"># Find eligible deficit nodes</span>
        <span class="n">eligible_deficit_nodes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_heat'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="n">node_id</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_heat'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">and</span>
                <span class="n">available_attr</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span>
                <span class="n">data</span><span class="p">[</span><span class="n">available_attr</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span>
                <span class="n">node_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">all_visited_nodes</span><span class="p">)</span>
        <span class="p">]</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">eligible_deficit_nodes</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"No more eligible deficit nodes found for </span><span class="si">{</span><span class="n">energy_type</span><span class="si">}</span><span class="s2">."</span><span class="p">)</span>
            <span class="k">break</span>
        
        <span class="c1"># Sort by most negative effective heat first</span>
        <span class="n">eligible_deficit_nodes</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        
        <span class="n">energy_allocated_in_this_iteration</span> <span class="o">=</span> <span class="kc">False</span>
        
        <span class="k">for</span> <span class="n">effective_heat</span><span class="p">,</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">eligible_deficit_nodes</span><span class="p">:</span>
            <span class="c1"># Mark this node as visited regardless of outcome</span>
            <span class="n">all_visited_nodes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
            
            <span class="n">node_data</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span>
            <span class="n">available_energy</span> <span class="o">=</span> <span class="n">node_data</span><span class="p">[</span><span class="n">available_attr</span><span class="p">]</span>
            
            <span class="k">if</span> <span class="n">available_energy</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>
            
            <span class="n">node_deficit</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">effective_heat</span><span class="p">)</span>
            
            <span class="c1"># Calculate maximum allocatable by dumpable capacity</span>
            <span class="c1"># CRITICAL: Use the updated node_properties that reflect current state</span>
            <span class="n">max_allocatable_by_dumpable</span> <span class="o">=</span> <span class="n">get_node_dumpable_capacity</span><span class="p">(</span>
                <span class="n">node_id</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">node_properties</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">energy_type</span>
            <span class="p">)</span>
            
            <span class="n">min_allocation_threshold</span> <span class="o">=</span> <span class="mf">0.5</span>
            
            <span class="n">energy_to_allocate</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">node_deficit</span><span class="p">,</span> <span class="n">available_energy</span><span class="p">,</span> <span class="n">max_allocatable_by_dumpable</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">energy_to_allocate</span> <span class="o">&lt;=</span> <span class="n">min_allocation_threshold</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="c1"># Update effective energy attribute for this node</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="n">effective_attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">effective_attr</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="o">+</span> <span class="n">energy_to_allocate</span>
            
            <span class="c1"># Update the remaining energy available at the node</span>
            <span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="n">available_attr</span><span class="p">]</span> <span class="o">-=</span> <span class="n">energy_to_allocate</span>
            
            <span class="c1"># Update node properties to reflect the change</span>
            <span class="n">node_properties</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">energy_type</span><span class="si">}</span><span class="s1">_available'</span><span class="p">]</span> <span class="o">-=</span> <span class="n">energy_to_allocate</span>
            
            <span class="c1"># Update the global effective_heat for this node and all affected nodes</span>
            <span class="n">update_effective_heat_with_energy_addition</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">energy_to_allocate</span><span class="p">)</span>
            
            <span class="c1"># CRITICAL: Update node properties after this allocation to reflect new balances</span>
            <span class="c1"># This ensures subsequent dumpable calculations use the correct state</span>
            <span class="n">update_node_properties_after_allocation</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">node_properties</span><span class="p">)</span>
            
            <span class="c1"># Mark as successfully processed</span>
            <span class="n">successfully_processed</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
            <span class="n">total_allocated</span> <span class="o">+=</span> <span class="n">energy_to_allocate</span>
            
            <span class="n">energy_allocated_in_this_iteration</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">break</span>  <span class="c1"># Move to the next iteration to re-evaluate deficits</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">energy_allocated_in_this_iteration</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"No </span><span class="si">{</span><span class="n">energy_type</span><span class="si">}</span><span class="s2"> allocated in this iteration. </span><span class="si">{</span><span class="n">energy_type</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2"> allocation complete!"</span><span class="p">)</span>
            <span class="k">break</span>
            
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="si">{</span><span class="n">energy_type</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2"> allocation completed after </span><span class="si">{</span><span class="n">iteration</span><span class="si">}</span><span class="s2"> iterations."</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total </span><span class="si">{</span><span class="n">energy_type</span><span class="si">}</span><span class="s2"> allocated: </span><span class="si">{</span><span class="n">total_allocated</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total nodes visited: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_visited_nodes</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Nodes successfully processed (received </span><span class="si">{</span><span class="n">energy_type</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">successfully_processed</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Nodes visited without receiving </span><span class="si">{</span><span class="n">energy_type</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_visited_nodes</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">successfully_processed</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">successfully_processed</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">solve_combined_energy_allocation</span><span class="p">(</span><span class="n">graph</span><span class="p">:</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">,</span> <span class="n">input_heatmap_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Main function to solve combined energy allocation problem (coal, then gas, then oil).</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        graph: Input heatmap graph</span>
<span class="sd">        input_heatmap_file: Path to the input heatmap file for dumpable calculations</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        nx.MultiDiGraph: Graph with all energy allocations solved</span>
<span class="sd">    """</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Starting combined energy allocation algorithm..."</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Order of allocation: Coal  Gas  Oil"</span><span class="p">)</span>
    
    <span class="c1"># Pre-compute node properties once</span>
    <span class="n">node_properties</span> <span class="o">=</span> <span class="n">_precompute_node_properties</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
    
    <span class="c1"># Load the original graph once and reuse</span>
    <span class="n">original_graph</span> <span class="o">=</span> <span class="n">_load_graph_cached</span><span class="p">(</span><span class="n">input_heatmap_file</span><span class="p">)</span>
    
    <span class="c1"># Allocate energy sources in order: coal, gas, oil</span>
    <span class="n">energy_sources</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'coal'</span><span class="p">,</span> <span class="s1">'gas'</span><span class="p">,</span> <span class="s1">'oil'</span><span class="p">]</span>
    
    <span class="k">for</span> <span class="n">energy_type</span> <span class="ow">in</span> <span class="n">energy_sources</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="si">{</span><span class="s1">'='</span><span class="o">*</span><span class="mi">50</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Phase </span><span class="si">{</span><span class="n">energy_sources</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">energy_type</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">energy_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2"> ALLOCATION"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="s1">'='</span><span class="o">*</span><span class="mi">50</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        
        <span class="n">allocated</span> <span class="o">=</span> <span class="n">allocate_energy_source</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">original_graph</span><span class="p">,</span> <span class="n">node_properties</span><span class="p">,</span> <span class="n">energy_type</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">allocated</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"No </span><span class="si">{</span><span class="n">energy_type</span><span class="si">}</span><span class="s2"> was allocated in this phase."</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># CRITICAL: Update node properties after each energy type allocation</span>
            <span class="c1"># This ensures the next phase uses the correct network state</span>
            <span class="n">update_node_properties_after_allocation</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">node_properties</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="si">{</span><span class="s1">'='</span><span class="o">*</span><span class="mi">50</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"COMBINED ENERGY ALLOCATION COMPLETE"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="s1">'='</span><span class="o">*</span><span class="mi">50</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">graph</span>

<span class="k">def</span> <span class="nf">process_single_graph</span><span class="p">(</span><span class="n">season</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">hour</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Process a single hour's heatmap for a given season and solve all energy allocations.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        season: The season to process ("spring", "summer", "fall", "winter")</span>
<span class="sd">        hour: Hour number (0-23)</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: True if successful, False otherwise</span>
<span class="sd">    """</span>
    <span class="c1"># Construct file paths for this hour and season</span>
    <span class="n">input_heatmap_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">BASE_INPUT_DIR</span><span class="si">}</span><span class="s2">SolarStorage_HeatMap_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">.pkl"</span>
    <span class="n">output_solved_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">BASE_OUTPUT_DIR</span><span class="si">}</span><span class="s2">SolarStorage_FinalSolvedHeatMap_</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">_hour</span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">.pkl"</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">=== Processing </span><span class="si">{</span><span class="n">season</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2"> - Hour </span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2"> ==="</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Load the heatmap graph</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">input_heatmap_file</span><span class="p">,</span> <span class="s1">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">G</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        
        <span class="c1"># Run combined energy allocation algorithm</span>
        <span class="n">solved_graph</span> <span class="o">=</span> <span class="n">solve_combined_energy_allocation</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">input_heatmap_file</span><span class="p">)</span>
        
        <span class="c1"># Save the final solved graph</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Saving final solved graph to: </span><span class="si">{</span><span class="n">output_solved_file</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_solved_file</span><span class="p">,</span> <span class="s1">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">solved_graph</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Successfully saved final solved heatmap graph for </span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2"> hour </span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        
        <span class="c1"># Print comprehensive summary statistics</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">--- </span><span class="si">{</span><span class="n">season</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span><span class="si">}</span><span class="s2"> Hour </span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2"> FINAL SUMMARY STATISTICS ---"</span><span class="p">)</span>
        <span class="n">total_coal_allocated</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">total_gas_allocated</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">total_oil_allocated</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">nodes_with_coal</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">nodes_with_gas</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">nodes_with_oil</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">remaining_deficits</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">total_remaining_deficit</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">solved_graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
            <span class="n">effective_coal</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_coal'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">effective_gas</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_gas'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">effective_oil</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_oil'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">effective_heat</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'effective_heat'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">effective_coal</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">nodes_with_coal</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">total_coal_allocated</span> <span class="o">+=</span> <span class="n">effective_coal</span>
            
            <span class="k">if</span> <span class="n">effective_gas</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">nodes_with_gas</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">total_gas_allocated</span> <span class="o">+=</span> <span class="n">effective_gas</span>
                
            <span class="k">if</span> <span class="n">effective_oil</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">nodes_with_oil</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">total_oil_allocated</span> <span class="o">+=</span> <span class="n">effective_oil</span>
            
            <span class="k">if</span> <span class="n">effective_heat</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">remaining_deficits</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">total_remaining_deficit</span> <span class="o">+=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">effective_heat</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total coal allocated: </span><span class="si">{</span><span class="n">total_coal_allocated</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total gas allocated: </span><span class="si">{</span><span class="n">total_gas_allocated</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total oil allocated: </span><span class="si">{</span><span class="n">total_oil_allocated</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total energy allocated: </span><span class="si">{</span><span class="p">(</span><span class="n">total_coal_allocated</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">total_gas_allocated</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">total_oil_allocated</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Number of nodes with coal production: </span><span class="si">{</span><span class="n">nodes_with_coal</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Number of nodes with gas production: </span><span class="si">{</span><span class="n">nodes_with_gas</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Number of nodes with oil production: </span><span class="si">{</span><span class="n">nodes_with_oil</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Number of nodes with remaining deficits: </span><span class="si">{</span><span class="n">remaining_deficits</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total remaining deficit: </span><span class="si">{</span><span class="n">total_remaining_deficit</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MWh"</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="kc">True</span>
        
    <span class="k">except</span> <span class="ne">FileNotFoundError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Error: Required file not found for </span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2"> hour </span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"An error occurred processing </span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2"> hour </span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="w">    </span><span class="sd">"""Main execution function."""</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"--- Combined Energy Production Allocation Script (FIXED) ---"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"This script processes Coal  Gas  Oil allocations sequentially"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Output: Single set of final graphs with all energy sources allocated"</span><span class="p">)</span>
    
    <span class="c1"># Create output directory if it doesn't exist</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">BASE_OUTPUT_DIR</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Ensured output directory exists: </span><span class="si">{</span><span class="n">BASE_OUTPUT_DIR</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="n">total_graphs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">SEASONS</span><span class="p">)</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">HOURS_TO_PROCESS</span><span class="p">)</span>
    <span class="n">processed_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">successful_graphs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">failed_graphs</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># Process each season and hour</span>
    <span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">SEASONS</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">hour</span> <span class="ow">in</span> <span class="n">HOURS_TO_PROCESS</span><span class="p">:</span>
            <span class="n">processed_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Processing graph </span><span class="si">{</span><span class="n">processed_count</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">total_graphs</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            <span class="n">success</span> <span class="o">=</span> <span class="n">process_single_graph</span><span class="p">(</span><span class="n">season</span><span class="p">,</span> <span class="n">hour</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">success</span><span class="p">:</span>
                <span class="n">successful_graphs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">-hour</span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">failed_graphs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">season</span><span class="si">}</span><span class="s2">-hour</span><span class="si">{</span><span class="n">hour</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="c1"># Final summary</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span> <span class="o">+</span> <span class="s2">"="</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"FINAL PROCESSING SUMMARY"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"="</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Total graphs to process: </span><span class="si">{</span><span class="n">total_graphs</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Successfully processed: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">successful_graphs</span><span class="p">)</span><span class="si">}</span><span class="s2"> graphs"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Failed to process: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">failed_graphs</span><span class="p">)</span><span class="si">}</span><span class="s2"> graphs"</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">successful_graphs</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Successful graphs: </span><span class="si">{</span><span class="n">successful_graphs</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">failed_graphs</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Failed graphs: </span><span class="si">{</span><span class="n">failed_graphs</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">successful_graphs</span><span class="p">)</span> <span class="o">==</span> <span class="n">total_graphs</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2"> All graphs processed successfully!"</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"All energy allocations (Coal  Gas  Oil) completed for all seasons and hours."</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">  </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">failed_graphs</span><span class="p">)</span><span class="si">}</span><span class="s2"> graphs failed to process. Check error messages above."</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>--- Combined Energy Production Allocation Script (FIXED) ---
This script processes Coal  Gas  Oil allocations sequentially
Output: Single set of final graphs with all energy sources allocated
Ensured output directory exists: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/

Processing graph 1/96

=== Processing Spring - Hour 00 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 83 iterations.
Total coal allocated: 28025.30 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 82
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 116 iterations.
Total gas allocated: 26450.80 MWh
Total nodes visited: 327
Nodes successfully processed (received gas): 115
Nodes visited without receiving gas: 212

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 2265.64 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour00.pkl
Successfully saved final solved heatmap graph for spring hour 00

--- Spring Hour 00 FINAL SUMMARY STATISTICS ---
Total coal allocated: 28025.30 MWh
Total gas allocated: 26450.80 MWh
Total oil allocated: 2265.64 MWh
Total energy allocated: 56741.75 MWh
Number of nodes with coal production: 82
Number of nodes with gas production: 115
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4134
Total remaining deficit: 36966644.46 MWh

Processing graph 2/96

=== Processing Spring - Hour 01 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 83 iterations.
Total coal allocated: 28037.29 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 82
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 116 iterations.
Total gas allocated: 26595.33 MWh
Total nodes visited: 328
Nodes successfully processed (received gas): 115
Nodes visited without receiving gas: 213

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 2236.25 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour01.pkl
Successfully saved final solved heatmap graph for spring hour 01

--- Spring Hour 01 FINAL SUMMARY STATISTICS ---
Total coal allocated: 28037.29 MWh
Total gas allocated: 26595.33 MWh
Total oil allocated: 2236.25 MWh
Total energy allocated: 56868.87 MWh
Number of nodes with coal production: 82
Number of nodes with gas production: 115
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 4144
Total remaining deficit: 36849537.77 MWh

Processing graph 3/96

=== Processing Spring - Hour 02 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 83 iterations.
Total coal allocated: 28027.38 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 82
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 116 iterations.
Total gas allocated: 26631.77 MWh
Total nodes visited: 329
Nodes successfully processed (received gas): 115
Nodes visited without receiving gas: 214

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 2211.26 MWh
Total nodes visited: 55
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour02.pkl
Successfully saved final solved heatmap graph for spring hour 02

--- Spring Hour 02 FINAL SUMMARY STATISTICS ---
Total coal allocated: 28027.38 MWh
Total gas allocated: 26631.77 MWh
Total oil allocated: 2211.26 MWh
Total energy allocated: 56870.41 MWh
Number of nodes with coal production: 82
Number of nodes with gas production: 115
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 4169
Total remaining deficit: 36552929.75 MWh

Processing graph 4/96

=== Processing Spring - Hour 03 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 83 iterations.
Total coal allocated: 28027.38 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 82
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 116 iterations.
Total gas allocated: 26631.77 MWh
Total nodes visited: 329
Nodes successfully processed (received gas): 115
Nodes visited without receiving gas: 214

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 2211.26 MWh
Total nodes visited: 55
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour03.pkl
Successfully saved final solved heatmap graph for spring hour 03

--- Spring Hour 03 FINAL SUMMARY STATISTICS ---
Total coal allocated: 28027.38 MWh
Total gas allocated: 26631.77 MWh
Total oil allocated: 2211.26 MWh
Total energy allocated: 56870.41 MWh
Number of nodes with coal production: 82
Number of nodes with gas production: 115
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 4170
Total remaining deficit: 36555019.61 MWh

Processing graph 5/96

=== Processing Spring - Hour 04 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 83 iterations.
Total coal allocated: 28113.14 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 82
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 116 iterations.
Total gas allocated: 26532.79 MWh
Total nodes visited: 329
Nodes successfully processed (received gas): 115
Nodes visited without receiving gas: 214

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 2277.87 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour04.pkl
Successfully saved final solved heatmap graph for spring hour 04

--- Spring Hour 04 FINAL SUMMARY STATISTICS ---
Total coal allocated: 28113.14 MWh
Total gas allocated: 26532.79 MWh
Total oil allocated: 2277.87 MWh
Total energy allocated: 56923.80 MWh
Number of nodes with coal production: 82
Number of nodes with gas production: 115
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 4176
Total remaining deficit: 37273018.04 MWh

Processing graph 6/96

=== Processing Spring - Hour 05 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 83 iterations.
Total coal allocated: 28100.04 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 82
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No more eligible deficit nodes found for gas.

Gas allocation completed after 118 iterations.
Total gas allocated: 26695.48 MWh
Total nodes visited: 332
Nodes successfully processed (received gas): 117
Nodes visited without receiving gas: 215

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 2291.26 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour05.pkl
Successfully saved final solved heatmap graph for spring hour 05

--- Spring Hour 05 FINAL SUMMARY STATISTICS ---
Total coal allocated: 28100.04 MWh
Total gas allocated: 26695.48 MWh
Total oil allocated: 2291.26 MWh
Total energy allocated: 57086.77 MWh
Number of nodes with coal production: 82
Number of nodes with gas production: 117
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 4209
Total remaining deficit: 37810747.51 MWh

Processing graph 7/96

=== Processing Spring - Hour 06 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 84 iterations.
Total coal allocated: 29016.69 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 83
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 124 iterations.
Total gas allocated: 28536.54 MWh
Total nodes visited: 335
Nodes successfully processed (received gas): 123
Nodes visited without receiving gas: 212

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 2371.56 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 37

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour06.pkl
Successfully saved final solved heatmap graph for spring hour 06

--- Spring Hour 06 FINAL SUMMARY STATISTICS ---
Total coal allocated: 29016.69 MWh
Total gas allocated: 28536.54 MWh
Total oil allocated: 2371.56 MWh
Total energy allocated: 59924.78 MWh
Number of nodes with coal production: 83
Number of nodes with gas production: 123
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4299
Total remaining deficit: 42787678.76 MWh

Processing graph 8/96

=== Processing Spring - Hour 07 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 82 iterations.
Total coal allocated: 28887.17 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 81
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 124 iterations.
Total gas allocated: 28435.95 MWh
Total nodes visited: 335
Nodes successfully processed (received gas): 123
Nodes visited without receiving gas: 212

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 2382.39 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 37

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour07.pkl
Successfully saved final solved heatmap graph for spring hour 07

--- Spring Hour 07 FINAL SUMMARY STATISTICS ---
Total coal allocated: 28887.17 MWh
Total gas allocated: 28435.95 MWh
Total oil allocated: 2382.39 MWh
Total energy allocated: 59705.51 MWh
Number of nodes with coal production: 81
Number of nodes with gas production: 123
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4258
Total remaining deficit: 43020682.03 MWh

Processing graph 9/96

=== Processing Spring - Hour 08 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 82 iterations.
Total coal allocated: 28955.95 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 81
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 119 iterations.
Total gas allocated: 27213.26 MWh
Total nodes visited: 329
Nodes successfully processed (received gas): 118
Nodes visited without receiving gas: 211

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 2302.84 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour08.pkl
Successfully saved final solved heatmap graph for spring hour 08

--- Spring Hour 08 FINAL SUMMARY STATISTICS ---
Total coal allocated: 28955.95 MWh
Total gas allocated: 27213.26 MWh
Total oil allocated: 2302.84 MWh
Total energy allocated: 58472.05 MWh
Number of nodes with coal production: 81
Number of nodes with gas production: 118
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4184
Total remaining deficit: 42705206.85 MWh

Processing graph 10/96

=== Processing Spring - Hour 09 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 81 iterations.
Total coal allocated: 29071.52 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 80
Nodes visited without receiving coal: 75

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 122 iterations.
Total gas allocated: 28202.56 MWh
Total nodes visited: 329
Nodes successfully processed (received gas): 121
Nodes visited without receiving gas: 208

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 2387.96 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour09.pkl
Successfully saved final solved heatmap graph for spring hour 09

--- Spring Hour 09 FINAL SUMMARY STATISTICS ---
Total coal allocated: 29071.52 MWh
Total gas allocated: 28202.56 MWh
Total oil allocated: 2387.96 MWh
Total energy allocated: 59662.04 MWh
Number of nodes with coal production: 80
Number of nodes with gas production: 121
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4171
Total remaining deficit: 46353211.97 MWh

Processing graph 11/96

=== Processing Spring - Hour 10 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 81 iterations.
Total coal allocated: 29532.46 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 80
Nodes visited without receiving coal: 75

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 119 iterations.
Total gas allocated: 27327.90 MWh
Total nodes visited: 321
Nodes successfully processed (received gas): 118
Nodes visited without receiving gas: 203

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 1853.52 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour10.pkl
Successfully saved final solved heatmap graph for spring hour 10

--- Spring Hour 10 FINAL SUMMARY STATISTICS ---
Total coal allocated: 29532.46 MWh
Total gas allocated: 27327.90 MWh
Total oil allocated: 1853.52 MWh
Total energy allocated: 58713.88 MWh
Number of nodes with coal production: 80
Number of nodes with gas production: 118
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 4025
Total remaining deficit: 43978381.35 MWh

Processing graph 12/96

=== Processing Spring - Hour 11 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 81 iterations.
Total coal allocated: 28704.99 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 80
Nodes visited without receiving coal: 75

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 117 iterations.
Total gas allocated: 27454.16 MWh
Total nodes visited: 322
Nodes successfully processed (received gas): 116
Nodes visited without receiving gas: 206

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 1816.25 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour11.pkl
Successfully saved final solved heatmap graph for spring hour 11

--- Spring Hour 11 FINAL SUMMARY STATISTICS ---
Total coal allocated: 28704.99 MWh
Total gas allocated: 27454.16 MWh
Total oil allocated: 1816.25 MWh
Total energy allocated: 57975.40 MWh
Number of nodes with coal production: 80
Number of nodes with gas production: 116
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 3967
Total remaining deficit: 43361705.75 MWh

Processing graph 13/96

=== Processing Spring - Hour 12 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 82 iterations.
Total coal allocated: 29148.20 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 81
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 115 iterations.
Total gas allocated: 26948.59 MWh
Total nodes visited: 322
Nodes successfully processed (received gas): 114
Nodes visited without receiving gas: 208

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 1745.78 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour12.pkl
Successfully saved final solved heatmap graph for spring hour 12

--- Spring Hour 12 FINAL SUMMARY STATISTICS ---
Total coal allocated: 29148.20 MWh
Total gas allocated: 26948.59 MWh
Total oil allocated: 1745.78 MWh
Total energy allocated: 57842.58 MWh
Number of nodes with coal production: 81
Number of nodes with gas production: 114
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 3944
Total remaining deficit: 41243125.38 MWh

Processing graph 14/96

=== Processing Spring - Hour 13 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 81 iterations.
Total coal allocated: 29171.71 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 80
Nodes visited without receiving coal: 75

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 115 iterations.
Total gas allocated: 27010.18 MWh
Total nodes visited: 321
Nodes successfully processed (received gas): 114
Nodes visited without receiving gas: 207

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 1795.12 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour13.pkl
Successfully saved final solved heatmap graph for spring hour 13

--- Spring Hour 13 FINAL SUMMARY STATISTICS ---
Total coal allocated: 29171.71 MWh
Total gas allocated: 27010.18 MWh
Total oil allocated: 1795.12 MWh
Total energy allocated: 57977.01 MWh
Number of nodes with coal production: 80
Number of nodes with gas production: 114
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 3956
Total remaining deficit: 41755847.93 MWh

Processing graph 15/96

=== Processing Spring - Hour 14 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 81 iterations.
Total coal allocated: 29538.91 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 80
Nodes visited without receiving coal: 75

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 119 iterations.
Total gas allocated: 27319.10 MWh
Total nodes visited: 321
Nodes successfully processed (received gas): 118
Nodes visited without receiving gas: 203

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 1851.26 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour14.pkl
Successfully saved final solved heatmap graph for spring hour 14

--- Spring Hour 14 FINAL SUMMARY STATISTICS ---
Total coal allocated: 29538.91 MWh
Total gas allocated: 27319.10 MWh
Total oil allocated: 1851.26 MWh
Total energy allocated: 58709.27 MWh
Number of nodes with coal production: 80
Number of nodes with gas production: 118
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 4021
Total remaining deficit: 43878686.39 MWh

Processing graph 16/96

=== Processing Spring - Hour 15 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 81 iterations.
Total coal allocated: 29120.79 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 80
Nodes visited without receiving coal: 75

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 119 iterations.
Total gas allocated: 28063.73 MWh
Total nodes visited: 325
Nodes successfully processed (received gas): 118
Nodes visited without receiving gas: 207

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 1881.93 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour15.pkl
Successfully saved final solved heatmap graph for spring hour 15

--- Spring Hour 15 FINAL SUMMARY STATISTICS ---
Total coal allocated: 29120.79 MWh
Total gas allocated: 28063.73 MWh
Total oil allocated: 1881.93 MWh
Total energy allocated: 59066.45 MWh
Number of nodes with coal production: 80
Number of nodes with gas production: 118
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 4133
Total remaining deficit: 47439985.11 MWh

Processing graph 17/96

=== Processing Spring - Hour 16 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 82 iterations.
Total coal allocated: 29408.17 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 81
Nodes visited without receiving coal: 76

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 127 iterations.
Total gas allocated: 29436.43 MWh
Total nodes visited: 338
Nodes successfully processed (received gas): 126
Nodes visited without receiving gas: 212

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 2483.92 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour16.pkl
Successfully saved final solved heatmap graph for spring hour 16

--- Spring Hour 16 FINAL SUMMARY STATISTICS ---
Total coal allocated: 29408.17 MWh
Total gas allocated: 29436.43 MWh
Total oil allocated: 2483.92 MWh
Total energy allocated: 61328.52 MWh
Number of nodes with coal production: 81
Number of nodes with gas production: 126
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4294
Total remaining deficit: 49585848.80 MWh

Processing graph 18/96

=== Processing Spring - Hour 17 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 85 iterations.
Total coal allocated: 29563.52 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 84
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No more eligible deficit nodes found for gas.

Gas allocation completed after 126 iterations.
Total gas allocated: 30350.95 MWh
Total nodes visited: 339
Nodes successfully processed (received gas): 125
Nodes visited without receiving gas: 214

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 2467.48 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour17.pkl
Successfully saved final solved heatmap graph for spring hour 17

--- Spring Hour 17 FINAL SUMMARY STATISTICS ---
Total coal allocated: 29563.52 MWh
Total gas allocated: 30350.95 MWh
Total oil allocated: 2467.48 MWh
Total energy allocated: 62381.95 MWh
Number of nodes with coal production: 84
Number of nodes with gas production: 125
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4312
Total remaining deficit: 48495082.93 MWh

Processing graph 19/96

=== Processing Spring - Hour 18 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 84 iterations.
Total coal allocated: 30095.75 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 83
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 126 iterations.
Total gas allocated: 30588.46 MWh
Total nodes visited: 340
Nodes successfully processed (received gas): 125
Nodes visited without receiving gas: 215

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 2481.14 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour18.pkl
Successfully saved final solved heatmap graph for spring hour 18

--- Spring Hour 18 FINAL SUMMARY STATISTICS ---
Total coal allocated: 30095.75 MWh
Total gas allocated: 30588.46 MWh
Total oil allocated: 2481.14 MWh
Total energy allocated: 63165.35 MWh
Number of nodes with coal production: 83
Number of nodes with gas production: 125
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4310
Total remaining deficit: 49385185.42 MWh

Processing graph 20/96

=== Processing Spring - Hour 19 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 84 iterations.
Total coal allocated: 30714.59 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 83
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 126 iterations.
Total gas allocated: 31062.00 MWh
Total nodes visited: 343
Nodes successfully processed (received gas): 125
Nodes visited without receiving gas: 218

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 2543.96 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour19.pkl
Successfully saved final solved heatmap graph for spring hour 19

--- Spring Hour 19 FINAL SUMMARY STATISTICS ---
Total coal allocated: 30714.59 MWh
Total gas allocated: 31062.00 MWh
Total oil allocated: 2543.96 MWh
Total energy allocated: 64320.54 MWh
Number of nodes with coal production: 83
Number of nodes with gas production: 125
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4326
Total remaining deficit: 50293252.38 MWh

Processing graph 21/96

=== Processing Spring - Hour 20 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 84 iterations.
Total coal allocated: 29787.94 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 83
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 125 iterations.
Total gas allocated: 30934.56 MWh
Total nodes visited: 344
Nodes successfully processed (received gas): 124
Nodes visited without receiving gas: 220

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 2532.23 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour20.pkl
Successfully saved final solved heatmap graph for spring hour 20

--- Spring Hour 20 FINAL SUMMARY STATISTICS ---
Total coal allocated: 29787.94 MWh
Total gas allocated: 30934.56 MWh
Total oil allocated: 2532.23 MWh
Total energy allocated: 63254.73 MWh
Number of nodes with coal production: 83
Number of nodes with gas production: 124
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4371
Total remaining deficit: 50059902.93 MWh

Processing graph 22/96

=== Processing Spring - Hour 21 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 84 iterations.
Total coal allocated: 30568.34 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 83
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 125 iterations.
Total gas allocated: 30592.65 MWh
Total nodes visited: 339
Nodes successfully processed (received gas): 124
Nodes visited without receiving gas: 215

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 2500.73 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour21.pkl
Successfully saved final solved heatmap graph for spring hour 21

--- Spring Hour 21 FINAL SUMMARY STATISTICS ---
Total coal allocated: 30568.34 MWh
Total gas allocated: 30592.65 MWh
Total oil allocated: 2500.73 MWh
Total energy allocated: 63661.72 MWh
Number of nodes with coal production: 83
Number of nodes with gas production: 124
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4291
Total remaining deficit: 48427577.53 MWh

Processing graph 23/96

=== Processing Spring - Hour 22 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 82 iterations.
Total coal allocated: 28127.82 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 81
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 119 iterations.
Total gas allocated: 26713.33 MWh
Total nodes visited: 327
Nodes successfully processed (received gas): 118
Nodes visited without receiving gas: 209

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 2329.92 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour22.pkl
Successfully saved final solved heatmap graph for spring hour 22

--- Spring Hour 22 FINAL SUMMARY STATISTICS ---
Total coal allocated: 28127.82 MWh
Total gas allocated: 26713.33 MWh
Total oil allocated: 2329.92 MWh
Total energy allocated: 57171.07 MWh
Number of nodes with coal production: 81
Number of nodes with gas production: 118
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 4151
Total remaining deficit: 39089502.95 MWh

Processing graph 24/96

=== Processing Spring - Hour 23 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 83 iterations.
Total coal allocated: 28102.31 MWh
Total nodes visited: 155
Nodes successfully processed (received coal): 82
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 115 iterations.
Total gas allocated: 26409.61 MWh
Total nodes visited: 326
Nodes successfully processed (received gas): 114
Nodes visited without receiving gas: 212

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 2302.07 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_spring_hour23.pkl
Successfully saved final solved heatmap graph for spring hour 23

--- Spring Hour 23 FINAL SUMMARY STATISTICS ---
Total coal allocated: 28102.31 MWh
Total gas allocated: 26409.61 MWh
Total oil allocated: 2302.07 MWh
Total energy allocated: 56813.99 MWh
Number of nodes with coal production: 82
Number of nodes with gas production: 114
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 4144
Total remaining deficit: 37356295.02 MWh

Processing graph 25/96

=== Processing Summer - Hour 00 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 54 iterations.
Total coal allocated: 13371.75 MWh
Total nodes visited: 105
Nodes successfully processed (received coal): 53
Nodes visited without receiving coal: 52

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 82 iterations.
Total gas allocated: 18229.17 MWh
Total nodes visited: 194
Nodes successfully processed (received gas): 81
Nodes visited without receiving gas: 113

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 1552.53 MWh
Total nodes visited: 44
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 28

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour00.pkl
Successfully saved final solved heatmap graph for summer hour 00

--- Summer Hour 00 FINAL SUMMARY STATISTICS ---
Total coal allocated: 13371.75 MWh
Total gas allocated: 18229.17 MWh
Total oil allocated: 1552.53 MWh
Total energy allocated: 33153.44 MWh
Number of nodes with coal production: 53
Number of nodes with gas production: 81
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 2853
Total remaining deficit: 10212640.47 MWh

Processing graph 26/96

=== Processing Summer - Hour 01 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 54 iterations.
Total coal allocated: 13564.74 MWh
Total nodes visited: 104
Nodes successfully processed (received coal): 53
Nodes visited without receiving coal: 51

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 83 iterations.
Total gas allocated: 18411.65 MWh
Total nodes visited: 196
Nodes successfully processed (received gas): 82
Nodes visited without receiving gas: 114

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 1793.49 MWh
Total nodes visited: 44
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 28

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour01.pkl
Successfully saved final solved heatmap graph for summer hour 01

--- Summer Hour 01 FINAL SUMMARY STATISTICS ---
Total coal allocated: 13564.74 MWh
Total gas allocated: 18411.65 MWh
Total oil allocated: 1793.49 MWh
Total energy allocated: 33769.88 MWh
Number of nodes with coal production: 53
Number of nodes with gas production: 82
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 2877
Total remaining deficit: 10208457.62 MWh

Processing graph 27/96

=== Processing Summer - Hour 02 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 54 iterations.
Total coal allocated: 13421.83 MWh
Total nodes visited: 105
Nodes successfully processed (received coal): 53
Nodes visited without receiving coal: 52

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 79 iterations.
Total gas allocated: 18412.42 MWh
Total nodes visited: 195
Nodes successfully processed (received gas): 78
Nodes visited without receiving gas: 117

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 1637.52 MWh
Total nodes visited: 43
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 27

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour02.pkl
Successfully saved final solved heatmap graph for summer hour 02

--- Summer Hour 02 FINAL SUMMARY STATISTICS ---
Total coal allocated: 13421.83 MWh
Total gas allocated: 18412.42 MWh
Total oil allocated: 1637.52 MWh
Total energy allocated: 33471.77 MWh
Number of nodes with coal production: 53
Number of nodes with gas production: 78
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 2856
Total remaining deficit: 9992122.00 MWh

Processing graph 28/96

=== Processing Summer - Hour 03 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 54 iterations.
Total coal allocated: 13421.83 MWh
Total nodes visited: 105
Nodes successfully processed (received coal): 53
Nodes visited without receiving coal: 52

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 79 iterations.
Total gas allocated: 18412.42 MWh
Total nodes visited: 195
Nodes successfully processed (received gas): 78
Nodes visited without receiving gas: 117

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 1637.63 MWh
Total nodes visited: 43
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 27

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour03.pkl
Successfully saved final solved heatmap graph for summer hour 03

--- Summer Hour 03 FINAL SUMMARY STATISTICS ---
Total coal allocated: 13421.83 MWh
Total gas allocated: 18412.42 MWh
Total oil allocated: 1637.63 MWh
Total energy allocated: 33471.88 MWh
Number of nodes with coal production: 53
Number of nodes with gas production: 78
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 2856
Total remaining deficit: 9992741.81 MWh

Processing graph 29/96

=== Processing Summer - Hour 04 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 54 iterations.
Total coal allocated: 13610.21 MWh
Total nodes visited: 105
Nodes successfully processed (received coal): 53
Nodes visited without receiving coal: 52

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 84 iterations.
Total gas allocated: 19177.99 MWh
Total nodes visited: 199
Nodes successfully processed (received gas): 83
Nodes visited without receiving gas: 116

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 1799.56 MWh
Total nodes visited: 45
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 29

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour04.pkl
Successfully saved final solved heatmap graph for summer hour 04

--- Summer Hour 04 FINAL SUMMARY STATISTICS ---
Total coal allocated: 13610.21 MWh
Total gas allocated: 19177.99 MWh
Total oil allocated: 1799.56 MWh
Total energy allocated: 34587.76 MWh
Number of nodes with coal production: 53
Number of nodes with gas production: 83
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 2876
Total remaining deficit: 10231486.85 MWh

Processing graph 30/96

=== Processing Summer - Hour 05 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 54 iterations.
Total coal allocated: 13267.91 MWh
Total nodes visited: 106
Nodes successfully processed (received coal): 53
Nodes visited without receiving coal: 53

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 86 iterations.
Total gas allocated: 19504.03 MWh
Total nodes visited: 201
Nodes successfully processed (received gas): 85
Nodes visited without receiving gas: 116

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 1559.42 MWh
Total nodes visited: 44
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 28

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour05.pkl
Successfully saved final solved heatmap graph for summer hour 05

--- Summer Hour 05 FINAL SUMMARY STATISTICS ---
Total coal allocated: 13267.91 MWh
Total gas allocated: 19504.03 MWh
Total oil allocated: 1559.42 MWh
Total energy allocated: 34331.36 MWh
Number of nodes with coal production: 53
Number of nodes with gas production: 85
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 2953
Total remaining deficit: 10462344.14 MWh

Processing graph 31/96

=== Processing Summer - Hour 06 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 55 iterations.
Total coal allocated: 15870.23 MWh
Total nodes visited: 118
Nodes successfully processed (received coal): 54
Nodes visited without receiving coal: 64

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 97 iterations.
Total gas allocated: 22319.67 MWh
Total nodes visited: 222
Nodes successfully processed (received gas): 96
Nodes visited without receiving gas: 126

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 1927.74 MWh
Total nodes visited: 47
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 31

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour06.pkl
Successfully saved final solved heatmap graph for summer hour 06

--- Summer Hour 06 FINAL SUMMARY STATISTICS ---
Total coal allocated: 15870.23 MWh
Total gas allocated: 22319.67 MWh
Total oil allocated: 1927.74 MWh
Total energy allocated: 40117.63 MWh
Number of nodes with coal production: 54
Number of nodes with gas production: 96
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 3231
Total remaining deficit: 13806166.14 MWh

Processing graph 32/96

=== Processing Summer - Hour 07 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 54 iterations.
Total coal allocated: 15665.35 MWh
Total nodes visited: 116
Nodes successfully processed (received coal): 53
Nodes visited without receiving coal: 63

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 92 iterations.
Total gas allocated: 20498.74 MWh
Total nodes visited: 212
Nodes successfully processed (received gas): 91
Nodes visited without receiving gas: 121

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 1939.60 MWh
Total nodes visited: 47
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 30

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour07.pkl
Successfully saved final solved heatmap graph for summer hour 07

--- Summer Hour 07 FINAL SUMMARY STATISTICS ---
Total coal allocated: 15665.35 MWh
Total gas allocated: 20498.74 MWh
Total oil allocated: 1939.60 MWh
Total energy allocated: 38103.69 MWh
Number of nodes with coal production: 53
Number of nodes with gas production: 91
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 3111
Total remaining deficit: 13717950.94 MWh

Processing graph 33/96

=== Processing Summer - Hour 08 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 52 iterations.
Total coal allocated: 14672.27 MWh
Total nodes visited: 109
Nodes successfully processed (received coal): 51
Nodes visited without receiving coal: 58

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 85 iterations.
Total gas allocated: 19091.24 MWh
Total nodes visited: 202
Nodes successfully processed (received gas): 84
Nodes visited without receiving gas: 118

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 1947.55 MWh
Total nodes visited: 46
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 29

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour08.pkl
Successfully saved final solved heatmap graph for summer hour 08

--- Summer Hour 08 FINAL SUMMARY STATISTICS ---
Total coal allocated: 14672.27 MWh
Total gas allocated: 19091.24 MWh
Total oil allocated: 1947.55 MWh
Total energy allocated: 35711.07 MWh
Number of nodes with coal production: 51
Number of nodes with gas production: 84
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 2909
Total remaining deficit: 13484800.73 MWh

Processing graph 34/96

=== Processing Summer - Hour 09 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 52 iterations.
Total coal allocated: 16114.79 MWh
Total nodes visited: 117
Nodes successfully processed (received coal): 51
Nodes visited without receiving coal: 66

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 87 iterations.
Total gas allocated: 20296.11 MWh
Total nodes visited: 206
Nodes successfully processed (received gas): 86
Nodes visited without receiving gas: 120

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 1995.47 MWh
Total nodes visited: 44
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 27

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour09.pkl
Successfully saved final solved heatmap graph for summer hour 09

--- Summer Hour 09 FINAL SUMMARY STATISTICS ---
Total coal allocated: 16114.79 MWh
Total gas allocated: 20296.11 MWh
Total oil allocated: 1995.47 MWh
Total energy allocated: 38406.36 MWh
Number of nodes with coal production: 51
Number of nodes with gas production: 86
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 2982
Total remaining deficit: 14662172.47 MWh

Processing graph 35/96

=== Processing Summer - Hour 10 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 50 iterations.
Total coal allocated: 14037.50 MWh
Total nodes visited: 102
Nodes successfully processed (received coal): 49
Nodes visited without receiving coal: 53

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 79 iterations.
Total gas allocated: 17571.14 MWh
Total nodes visited: 195
Nodes successfully processed (received gas): 78
Nodes visited without receiving gas: 117

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 1260.83 MWh
Total nodes visited: 44
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 28

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour10.pkl
Successfully saved final solved heatmap graph for summer hour 10

--- Summer Hour 10 FINAL SUMMARY STATISTICS ---
Total coal allocated: 14037.50 MWh
Total gas allocated: 17571.14 MWh
Total oil allocated: 1260.83 MWh
Total energy allocated: 32869.47 MWh
Number of nodes with coal production: 49
Number of nodes with gas production: 78
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 2797
Total remaining deficit: 11958953.72 MWh

Processing graph 36/96

=== Processing Summer - Hour 11 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 49 iterations.
Total coal allocated: 14304.98 MWh
Total nodes visited: 104
Nodes successfully processed (received coal): 48
Nodes visited without receiving coal: 56

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 80 iterations.
Total gas allocated: 17160.28 MWh
Total nodes visited: 191
Nodes successfully processed (received gas): 79
Nodes visited without receiving gas: 112

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No more eligible deficit nodes found for oil.

Oil allocation completed after 16 iterations.
Total oil allocated: 1128.09 MWh
Total nodes visited: 43
Nodes successfully processed (received oil): 15
Nodes visited without receiving oil: 28

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour11.pkl
Successfully saved final solved heatmap graph for summer hour 11

--- Summer Hour 11 FINAL SUMMARY STATISTICS ---
Total coal allocated: 14304.98 MWh
Total gas allocated: 17160.28 MWh
Total oil allocated: 1128.09 MWh
Total energy allocated: 32593.34 MWh
Number of nodes with coal production: 48
Number of nodes with gas production: 79
Number of nodes with oil production: 15
Number of nodes with remaining deficits: 2767
Total remaining deficit: 10541118.50 MWh

Processing graph 37/96

=== Processing Summer - Hour 12 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 46 iterations.
Total coal allocated: 13776.44 MWh
Total nodes visited: 98
Nodes successfully processed (received coal): 45
Nodes visited without receiving coal: 53

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 72 iterations.
Total gas allocated: 16383.43 MWh
Total nodes visited: 183
Nodes successfully processed (received gas): 71
Nodes visited without receiving gas: 112

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No more eligible deficit nodes found for oil.

Oil allocation completed after 15 iterations.
Total oil allocated: 1116.12 MWh
Total nodes visited: 41
Nodes successfully processed (received oil): 14
Nodes visited without receiving oil: 27

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour12.pkl
Successfully saved final solved heatmap graph for summer hour 12

--- Summer Hour 12 FINAL SUMMARY STATISTICS ---
Total coal allocated: 13776.44 MWh
Total gas allocated: 16383.43 MWh
Total oil allocated: 1116.12 MWh
Total energy allocated: 31275.99 MWh
Number of nodes with coal production: 45
Number of nodes with gas production: 71
Number of nodes with oil production: 14
Number of nodes with remaining deficits: 2595
Total remaining deficit: 8549668.51 MWh

Processing graph 38/96

=== Processing Summer - Hour 13 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 50 iterations.
Total coal allocated: 14361.92 MWh
Total nodes visited: 104
Nodes successfully processed (received coal): 49
Nodes visited without receiving coal: 55

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 76 iterations.
Total gas allocated: 16750.22 MWh
Total nodes visited: 186
Nodes successfully processed (received gas): 75
Nodes visited without receiving gas: 111

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 15 iterations.
Total oil allocated: 1076.08 MWh
Total nodes visited: 41
Nodes successfully processed (received oil): 14
Nodes visited without receiving oil: 27

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour13.pkl
Successfully saved final solved heatmap graph for summer hour 13

--- Summer Hour 13 FINAL SUMMARY STATISTICS ---
Total coal allocated: 14361.92 MWh
Total gas allocated: 16750.22 MWh
Total oil allocated: 1076.08 MWh
Total energy allocated: 32188.23 MWh
Number of nodes with coal production: 49
Number of nodes with gas production: 75
Number of nodes with oil production: 14
Number of nodes with remaining deficits: 2717
Total remaining deficit: 10028123.99 MWh

Processing graph 39/96

=== Processing Summer - Hour 14 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 52 iterations.
Total coal allocated: 15025.32 MWh
Total nodes visited: 104
Nodes successfully processed (received coal): 51
Nodes visited without receiving coal: 53

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 83 iterations.
Total gas allocated: 17719.27 MWh
Total nodes visited: 198
Nodes successfully processed (received gas): 82
Nodes visited without receiving gas: 116

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 1257.06 MWh
Total nodes visited: 43
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 27

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour14.pkl
Successfully saved final solved heatmap graph for summer hour 14

--- Summer Hour 14 FINAL SUMMARY STATISTICS ---
Total coal allocated: 15025.32 MWh
Total gas allocated: 17719.27 MWh
Total oil allocated: 1257.06 MWh
Total energy allocated: 34001.65 MWh
Number of nodes with coal production: 51
Number of nodes with gas production: 82
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 2822
Total remaining deficit: 11985960.31 MWh

Processing graph 40/96

=== Processing Summer - Hour 15 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 51 iterations.
Total coal allocated: 15903.06 MWh
Total nodes visited: 118
Nodes successfully processed (received coal): 50
Nodes visited without receiving coal: 68

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 87 iterations.
Total gas allocated: 20653.01 MWh
Total nodes visited: 204
Nodes successfully processed (received gas): 86
Nodes visited without receiving gas: 118

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 1996.33 MWh
Total nodes visited: 44
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 27

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour15.pkl
Successfully saved final solved heatmap graph for summer hour 15

--- Summer Hour 15 FINAL SUMMARY STATISTICS ---
Total coal allocated: 15903.06 MWh
Total gas allocated: 20653.01 MWh
Total oil allocated: 1996.33 MWh
Total energy allocated: 38552.40 MWh
Number of nodes with coal production: 50
Number of nodes with gas production: 86
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 2974
Total remaining deficit: 15282967.26 MWh

Processing graph 41/96

=== Processing Summer - Hour 16 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 55 iterations.
Total coal allocated: 16795.74 MWh
Total nodes visited: 132
Nodes successfully processed (received coal): 54
Nodes visited without receiving coal: 78

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 100 iterations.
Total gas allocated: 23131.80 MWh
Total nodes visited: 237
Nodes successfully processed (received gas): 99
Nodes visited without receiving gas: 138

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 2059.33 MWh
Total nodes visited: 47
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 30

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour16.pkl
Successfully saved final solved heatmap graph for summer hour 16

--- Summer Hour 16 FINAL SUMMARY STATISTICS ---
Total coal allocated: 16795.74 MWh
Total gas allocated: 23131.80 MWh
Total oil allocated: 2059.33 MWh
Total energy allocated: 41986.87 MWh
Number of nodes with coal production: 54
Number of nodes with gas production: 99
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 3267
Total remaining deficit: 17907842.28 MWh

Processing graph 42/96

=== Processing Summer - Hour 17 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 58 iterations.
Total coal allocated: 16393.41 MWh
Total nodes visited: 135
Nodes successfully processed (received coal): 57
Nodes visited without receiving coal: 78

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No more eligible deficit nodes found for gas.

Gas allocation completed after 101 iterations.
Total gas allocated: 23630.91 MWh
Total nodes visited: 248
Nodes successfully processed (received gas): 100
Nodes visited without receiving gas: 148

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 2048.23 MWh
Total nodes visited: 47
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 30

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour17.pkl
Successfully saved final solved heatmap graph for summer hour 17

--- Summer Hour 17 FINAL SUMMARY STATISTICS ---
Total coal allocated: 16393.41 MWh
Total gas allocated: 23630.91 MWh
Total oil allocated: 2048.23 MWh
Total energy allocated: 42072.55 MWh
Number of nodes with coal production: 57
Number of nodes with gas production: 100
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 3442
Total remaining deficit: 17684811.07 MWh

Processing graph 43/96

=== Processing Summer - Hour 18 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 57 iterations.
Total coal allocated: 17624.84 MWh
Total nodes visited: 145
Nodes successfully processed (received coal): 56
Nodes visited without receiving coal: 89

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 103 iterations.
Total gas allocated: 24663.60 MWh
Total nodes visited: 262
Nodes successfully processed (received gas): 102
Nodes visited without receiving gas: 160

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 2071.05 MWh
Total nodes visited: 49
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 33

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour18.pkl
Successfully saved final solved heatmap graph for summer hour 18

--- Summer Hour 18 FINAL SUMMARY STATISTICS ---
Total coal allocated: 17624.84 MWh
Total gas allocated: 24663.60 MWh
Total oil allocated: 2071.05 MWh
Total energy allocated: 44359.50 MWh
Number of nodes with coal production: 56
Number of nodes with gas production: 102
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 3533
Total remaining deficit: 18601627.08 MWh

Processing graph 44/96

=== Processing Summer - Hour 19 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 57 iterations.
Total coal allocated: 17336.24 MWh
Total nodes visited: 147
Nodes successfully processed (received coal): 56
Nodes visited without receiving coal: 91

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 102 iterations.
Total gas allocated: 24928.64 MWh
Total nodes visited: 276
Nodes successfully processed (received gas): 101
Nodes visited without receiving gas: 175

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 2091.39 MWh
Total nodes visited: 50
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 34

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour19.pkl
Successfully saved final solved heatmap graph for summer hour 19

--- Summer Hour 19 FINAL SUMMARY STATISTICS ---
Total coal allocated: 17336.24 MWh
Total gas allocated: 24928.64 MWh
Total oil allocated: 2091.39 MWh
Total energy allocated: 44356.27 MWh
Number of nodes with coal production: 56
Number of nodes with gas production: 101
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 3620
Total remaining deficit: 19870340.60 MWh

Processing graph 45/96

=== Processing Summer - Hour 20 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 56 iterations.
Total coal allocated: 17461.29 MWh
Total nodes visited: 146
Nodes successfully processed (received coal): 55
Nodes visited without receiving coal: 91

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 103 iterations.
Total gas allocated: 25367.41 MWh
Total nodes visited: 264
Nodes successfully processed (received gas): 102
Nodes visited without receiving gas: 162

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 2082.33 MWh
Total nodes visited: 49
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 33

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour20.pkl
Successfully saved final solved heatmap graph for summer hour 20

--- Summer Hour 20 FINAL SUMMARY STATISTICS ---
Total coal allocated: 17461.29 MWh
Total gas allocated: 25367.41 MWh
Total oil allocated: 2082.33 MWh
Total energy allocated: 44911.03 MWh
Number of nodes with coal production: 55
Number of nodes with gas production: 102
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 3570
Total remaining deficit: 19071216.32 MWh

Processing graph 46/96

=== Processing Summer - Hour 21 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 58 iterations.
Total coal allocated: 16973.90 MWh
Total nodes visited: 144
Nodes successfully processed (received coal): 57
Nodes visited without receiving coal: 87

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 102 iterations.
Total gas allocated: 24048.26 MWh
Total nodes visited: 256
Nodes successfully processed (received gas): 101
Nodes visited without receiving gas: 155

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 2051.04 MWh
Total nodes visited: 49
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 33

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour21.pkl
Successfully saved final solved heatmap graph for summer hour 21

--- Summer Hour 21 FINAL SUMMARY STATISTICS ---
Total coal allocated: 16973.90 MWh
Total gas allocated: 24048.26 MWh
Total oil allocated: 2051.04 MWh
Total energy allocated: 43073.19 MWh
Number of nodes with coal production: 57
Number of nodes with gas production: 101
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 3425
Total remaining deficit: 17647270.57 MWh

Processing graph 47/96

=== Processing Summer - Hour 22 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 54 iterations.
Total coal allocated: 14243.40 MWh
Total nodes visited: 112
Nodes successfully processed (received coal): 53
Nodes visited without receiving coal: 59

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 88 iterations.
Total gas allocated: 20131.97 MWh
Total nodes visited: 206
Nodes successfully processed (received gas): 87
Nodes visited without receiving gas: 119

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 1940.45 MWh
Total nodes visited: 44
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 28

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour22.pkl
Successfully saved final solved heatmap graph for summer hour 22

--- Summer Hour 22 FINAL SUMMARY STATISTICS ---
Total coal allocated: 14243.40 MWh
Total gas allocated: 20131.97 MWh
Total oil allocated: 1940.45 MWh
Total energy allocated: 36315.82 MWh
Number of nodes with coal production: 53
Number of nodes with gas production: 87
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 3003
Total remaining deficit: 12005211.52 MWh

Processing graph 48/96

=== Processing Summer - Hour 23 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 54 iterations.
Total coal allocated: 13928.26 MWh
Total nodes visited: 108
Nodes successfully processed (received coal): 53
Nodes visited without receiving coal: 55

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 85 iterations.
Total gas allocated: 19138.74 MWh
Total nodes visited: 200
Nodes successfully processed (received gas): 84
Nodes visited without receiving gas: 116

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 17 iterations.
Total oil allocated: 1865.08 MWh
Total nodes visited: 45
Nodes successfully processed (received oil): 16
Nodes visited without receiving oil: 29

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_summer_hour23.pkl
Successfully saved final solved heatmap graph for summer hour 23

--- Summer Hour 23 FINAL SUMMARY STATISTICS ---
Total coal allocated: 13928.26 MWh
Total gas allocated: 19138.74 MWh
Total oil allocated: 1865.08 MWh
Total energy allocated: 34932.08 MWh
Number of nodes with coal production: 53
Number of nodes with gas production: 84
Number of nodes with oil production: 16
Number of nodes with remaining deficits: 2913
Total remaining deficit: 10846632.24 MWh

Processing graph 49/96

=== Processing Fall - Hour 00 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 87 iterations.
Total coal allocated: 30798.20 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 86
Nodes visited without receiving coal: 70

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 122 iterations.
Total gas allocated: 29585.28 MWh
Total nodes visited: 335
Nodes successfully processed (received gas): 121
Nodes visited without receiving gas: 214

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 2445.63 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 37

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour00.pkl
Successfully saved final solved heatmap graph for fall hour 00

--- Fall Hour 00 FINAL SUMMARY STATISTICS ---
Total coal allocated: 30798.20 MWh
Total gas allocated: 29585.28 MWh
Total oil allocated: 2445.63 MWh
Total energy allocated: 62829.11 MWh
Number of nodes with coal production: 86
Number of nodes with gas production: 121
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4310
Total remaining deficit: 46013897.40 MWh

Processing graph 50/96

=== Processing Fall - Hour 01 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 87 iterations.
Total coal allocated: 30579.79 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 86
Nodes visited without receiving coal: 70

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 124 iterations.
Total gas allocated: 29642.91 MWh
Total nodes visited: 335
Nodes successfully processed (received gas): 123
Nodes visited without receiving gas: 212

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 2423.96 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour01.pkl
Successfully saved final solved heatmap graph for fall hour 01

--- Fall Hour 01 FINAL SUMMARY STATISTICS ---
Total coal allocated: 30579.79 MWh
Total gas allocated: 29642.91 MWh
Total oil allocated: 2423.96 MWh
Total energy allocated: 62646.67 MWh
Number of nodes with coal production: 86
Number of nodes with gas production: 123
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4326
Total remaining deficit: 45515830.81 MWh

Processing graph 51/96

=== Processing Fall - Hour 02 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 87 iterations.
Total coal allocated: 30662.91 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 86
Nodes visited without receiving coal: 70

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 121 iterations.
Total gas allocated: 29589.70 MWh
Total nodes visited: 335
Nodes successfully processed (received gas): 120
Nodes visited without receiving gas: 215

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 2410.59 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour02.pkl
Successfully saved final solved heatmap graph for fall hour 02

--- Fall Hour 02 FINAL SUMMARY STATISTICS ---
Total coal allocated: 30662.91 MWh
Total gas allocated: 29589.70 MWh
Total oil allocated: 2410.59 MWh
Total energy allocated: 62663.20 MWh
Number of nodes with coal production: 86
Number of nodes with gas production: 120
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4343
Total remaining deficit: 45368390.41 MWh

Processing graph 52/96

=== Processing Fall - Hour 03 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 87 iterations.
Total coal allocated: 30662.91 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 86
Nodes visited without receiving coal: 70

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 121 iterations.
Total gas allocated: 29589.70 MWh
Total nodes visited: 335
Nodes successfully processed (received gas): 120
Nodes visited without receiving gas: 215

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 2410.59 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour03.pkl
Successfully saved final solved heatmap graph for fall hour 03

--- Fall Hour 03 FINAL SUMMARY STATISTICS ---
Total coal allocated: 30662.91 MWh
Total gas allocated: 29589.70 MWh
Total oil allocated: 2410.59 MWh
Total energy allocated: 62663.20 MWh
Number of nodes with coal production: 86
Number of nodes with gas production: 120
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4343
Total remaining deficit: 45370419.33 MWh

Processing graph 53/96

=== Processing Fall - Hour 04 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 87 iterations.
Total coal allocated: 30988.17 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 86
Nodes visited without receiving coal: 70

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 122 iterations.
Total gas allocated: 29669.46 MWh
Total nodes visited: 336
Nodes successfully processed (received gas): 121
Nodes visited without receiving gas: 215

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 2421.57 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour04.pkl
Successfully saved final solved heatmap graph for fall hour 04

--- Fall Hour 04 FINAL SUMMARY STATISTICS ---
Total coal allocated: 30988.17 MWh
Total gas allocated: 29669.46 MWh
Total oil allocated: 2421.57 MWh
Total energy allocated: 63079.21 MWh
Number of nodes with coal production: 86
Number of nodes with gas production: 121
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 4350
Total remaining deficit: 45855272.97 MWh

Processing graph 54/96

=== Processing Fall - Hour 05 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 87 iterations.
Total coal allocated: 31302.56 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 86
Nodes visited without receiving coal: 71

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No more eligible deficit nodes found for gas.

Gas allocation completed after 123 iterations.
Total gas allocated: 29960.88 MWh
Total nodes visited: 339
Nodes successfully processed (received gas): 122
Nodes visited without receiving gas: 217

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 2436.54 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour05.pkl
Successfully saved final solved heatmap graph for fall hour 05

--- Fall Hour 05 FINAL SUMMARY STATISTICS ---
Total coal allocated: 31302.56 MWh
Total gas allocated: 29960.88 MWh
Total oil allocated: 2436.54 MWh
Total energy allocated: 63699.97 MWh
Number of nodes with coal production: 86
Number of nodes with gas production: 122
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 4380
Total remaining deficit: 46555351.60 MWh

Processing graph 55/96

=== Processing Fall - Hour 06 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 84 iterations.
Total coal allocated: 32203.37 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 83
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 129 iterations.
Total gas allocated: 31386.46 MWh
Total nodes visited: 344
Nodes successfully processed (received gas): 128
Nodes visited without receiving gas: 216

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 2524.43 MWh
Total nodes visited: 58
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour06.pkl
Successfully saved final solved heatmap graph for fall hour 06

--- Fall Hour 06 FINAL SUMMARY STATISTICS ---
Total coal allocated: 32203.37 MWh
Total gas allocated: 31386.46 MWh
Total oil allocated: 2524.43 MWh
Total energy allocated: 66114.26 MWh
Number of nodes with coal production: 83
Number of nodes with gas production: 128
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4519
Total remaining deficit: 52543651.39 MWh

Processing graph 56/96

=== Processing Fall - Hour 07 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 84 iterations.
Total coal allocated: 32470.32 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 83
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 129 iterations.
Total gas allocated: 31118.13 MWh
Total nodes visited: 344
Nodes successfully processed (received gas): 128
Nodes visited without receiving gas: 216

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 2530.00 MWh
Total nodes visited: 58
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour07.pkl
Successfully saved final solved heatmap graph for fall hour 07

--- Fall Hour 07 FINAL SUMMARY STATISTICS ---
Total coal allocated: 32470.32 MWh
Total gas allocated: 31118.13 MWh
Total oil allocated: 2530.00 MWh
Total energy allocated: 66118.45 MWh
Number of nodes with coal production: 83
Number of nodes with gas production: 128
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4487
Total remaining deficit: 52365580.64 MWh

Processing graph 57/96

=== Processing Fall - Hour 08 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 84 iterations.
Total coal allocated: 31866.13 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 83
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 132 iterations.
Total gas allocated: 30780.32 MWh
Total nodes visited: 342
Nodes successfully processed (received gas): 131
Nodes visited without receiving gas: 211

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 2548.30 MWh
Total nodes visited: 58
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour08.pkl
Successfully saved final solved heatmap graph for fall hour 08

--- Fall Hour 08 FINAL SUMMARY STATISTICS ---
Total coal allocated: 31866.13 MWh
Total gas allocated: 30780.32 MWh
Total oil allocated: 2548.30 MWh
Total energy allocated: 65194.75 MWh
Number of nodes with coal production: 83
Number of nodes with gas production: 131
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4384
Total remaining deficit: 52742978.34 MWh

Processing graph 58/96

=== Processing Fall - Hour 09 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 83 iterations.
Total coal allocated: 32900.85 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 82
Nodes visited without receiving coal: 75

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No more eligible deficit nodes found for gas.

Gas allocation completed after 136 iterations.
Total gas allocated: 31708.64 MWh
Total nodes visited: 342
Nodes successfully processed (received gas): 135
Nodes visited without receiving gas: 207

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 2604.57 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 37

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour09.pkl
Successfully saved final solved heatmap graph for fall hour 09

--- Fall Hour 09 FINAL SUMMARY STATISTICS ---
Total coal allocated: 32900.85 MWh
Total gas allocated: 31708.64 MWh
Total oil allocated: 2604.57 MWh
Total energy allocated: 67214.06 MWh
Number of nodes with coal production: 82
Number of nodes with gas production: 135
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4343
Total remaining deficit: 55674757.04 MWh

Processing graph 59/96

=== Processing Fall - Hour 10 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 80 iterations.
Total coal allocated: 31775.40 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 79
Nodes visited without receiving coal: 77

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 131 iterations.
Total gas allocated: 29675.74 MWh
Total nodes visited: 333
Nodes successfully processed (received gas): 130
Nodes visited without receiving gas: 203

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 2368.69 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 36

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour10.pkl
Successfully saved final solved heatmap graph for fall hour 10

--- Fall Hour 10 FINAL SUMMARY STATISTICS ---
Total coal allocated: 31775.40 MWh
Total gas allocated: 29675.74 MWh
Total oil allocated: 2368.69 MWh
Total energy allocated: 63819.83 MWh
Number of nodes with coal production: 79
Number of nodes with gas production: 130
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4198
Total remaining deficit: 53870955.19 MWh

Processing graph 60/96

=== Processing Fall - Hour 11 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 81 iterations.
Total coal allocated: 31632.87 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 80
Nodes visited without receiving coal: 76

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 130 iterations.
Total gas allocated: 29703.80 MWh
Total nodes visited: 329
Nodes successfully processed (received gas): 129
Nodes visited without receiving gas: 200

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 2009.07 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 37

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour11.pkl
Successfully saved final solved heatmap graph for fall hour 11

--- Fall Hour 11 FINAL SUMMARY STATISTICS ---
Total coal allocated: 31632.87 MWh
Total gas allocated: 29703.80 MWh
Total oil allocated: 2009.07 MWh
Total energy allocated: 63345.75 MWh
Number of nodes with coal production: 80
Number of nodes with gas production: 129
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4103
Total remaining deficit: 53748628.80 MWh

Processing graph 61/96

=== Processing Fall - Hour 12 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 81 iterations.
Total coal allocated: 30999.82 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 80
Nodes visited without receiving coal: 76

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 122 iterations.
Total gas allocated: 29092.47 MWh
Total nodes visited: 326
Nodes successfully processed (received gas): 121
Nodes visited without receiving gas: 205

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 18 iterations.
Total oil allocated: 1916.86 MWh
Total nodes visited: 58
Nodes successfully processed (received oil): 17
Nodes visited without receiving oil: 41

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour12.pkl
Successfully saved final solved heatmap graph for fall hour 12

--- Fall Hour 12 FINAL SUMMARY STATISTICS ---
Total coal allocated: 30999.82 MWh
Total gas allocated: 29092.47 MWh
Total oil allocated: 1916.86 MWh
Total energy allocated: 62009.15 MWh
Number of nodes with coal production: 80
Number of nodes with gas production: 121
Number of nodes with oil production: 17
Number of nodes with remaining deficits: 4031
Total remaining deficit: 51683212.50 MWh

Processing graph 62/96

=== Processing Fall - Hour 13 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 81 iterations.
Total coal allocated: 31514.05 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 80
Nodes visited without receiving coal: 76

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 126 iterations.
Total gas allocated: 29219.36 MWh
Total nodes visited: 326
Nodes successfully processed (received gas): 125
Nodes visited without receiving gas: 201

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 1960.38 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour13.pkl
Successfully saved final solved heatmap graph for fall hour 13

--- Fall Hour 13 FINAL SUMMARY STATISTICS ---
Total coal allocated: 31514.05 MWh
Total gas allocated: 29219.36 MWh
Total oil allocated: 1960.38 MWh
Total energy allocated: 62693.79 MWh
Number of nodes with coal production: 80
Number of nodes with gas production: 125
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4060
Total remaining deficit: 51516782.16 MWh

Processing graph 63/96

=== Processing Fall - Hour 14 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 81 iterations.
Total coal allocated: 31819.79 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 80
Nodes visited without receiving coal: 76

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 130 iterations.
Total gas allocated: 29715.33 MWh
Total nodes visited: 332
Nodes successfully processed (received gas): 129
Nodes visited without receiving gas: 203

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No more eligible deficit nodes found for oil.

Oil allocation completed after 21 iterations.
Total oil allocated: 2353.93 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 36

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour14.pkl
Successfully saved final solved heatmap graph for fall hour 14

--- Fall Hour 14 FINAL SUMMARY STATISTICS ---
Total coal allocated: 31819.79 MWh
Total gas allocated: 29715.33 MWh
Total oil allocated: 2353.93 MWh
Total energy allocated: 63889.05 MWh
Number of nodes with coal production: 80
Number of nodes with gas production: 129
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4196
Total remaining deficit: 53663200.77 MWh

Processing graph 64/96

=== Processing Fall - Hour 15 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 83 iterations.
Total coal allocated: 32824.01 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 82
Nodes visited without receiving coal: 75

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 135 iterations.
Total gas allocated: 31463.57 MWh
Total nodes visited: 340
Nodes successfully processed (received gas): 134
Nodes visited without receiving gas: 206

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 2627.24 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 37

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour15.pkl
Successfully saved final solved heatmap graph for fall hour 15

--- Fall Hour 15 FINAL SUMMARY STATISTICS ---
Total coal allocated: 32824.01 MWh
Total gas allocated: 31463.57 MWh
Total oil allocated: 2627.24 MWh
Total energy allocated: 66914.82 MWh
Number of nodes with coal production: 82
Number of nodes with gas production: 134
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4337
Total remaining deficit: 57053132.31 MWh

Processing graph 65/96

=== Processing Fall - Hour 16 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 84 iterations.
Total coal allocated: 33246.97 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 83
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 138 iterations.
Total gas allocated: 32800.33 MWh
Total nodes visited: 347
Nodes successfully processed (received gas): 137
Nodes visited without receiving gas: 210

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 2664.71 MWh
Total nodes visited: 59
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour16.pkl
Successfully saved final solved heatmap graph for fall hour 16

--- Fall Hour 16 FINAL SUMMARY STATISTICS ---
Total coal allocated: 33246.97 MWh
Total gas allocated: 32800.33 MWh
Total oil allocated: 2664.71 MWh
Total energy allocated: 68712.00 MWh
Number of nodes with coal production: 83
Number of nodes with gas production: 137
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4547
Total remaining deficit: 60616830.89 MWh

Processing graph 66/96

=== Processing Fall - Hour 17 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 86 iterations.
Total coal allocated: 32928.08 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 85
Nodes visited without receiving coal: 72

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 137 iterations.
Total gas allocated: 32972.08 MWh
Total nodes visited: 347
Nodes successfully processed (received gas): 136
Nodes visited without receiving gas: 211

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 2649.39 MWh
Total nodes visited: 59
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour17.pkl
Successfully saved final solved heatmap graph for fall hour 17

--- Fall Hour 17 FINAL SUMMARY STATISTICS ---
Total coal allocated: 32928.08 MWh
Total gas allocated: 32972.08 MWh
Total oil allocated: 2649.39 MWh
Total energy allocated: 68549.55 MWh
Number of nodes with coal production: 85
Number of nodes with gas production: 136
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4600
Total remaining deficit: 59788640.52 MWh

Processing graph 67/96

=== Processing Fall - Hour 18 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 82 iterations.
Total coal allocated: 31581.49 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 81
Nodes visited without receiving coal: 76

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 133 iterations.
Total gas allocated: 33192.16 MWh
Total nodes visited: 348
Nodes successfully processed (received gas): 132
Nodes visited without receiving gas: 216

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No more eligible deficit nodes found for oil.

Oil allocation completed after 21 iterations.
Total oil allocated: 2710.70 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 40

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour18.pkl
Successfully saved final solved heatmap graph for fall hour 18

--- Fall Hour 18 FINAL SUMMARY STATISTICS ---
Total coal allocated: 31581.49 MWh
Total gas allocated: 33192.16 MWh
Total oil allocated: 2710.70 MWh
Total energy allocated: 67484.35 MWh
Number of nodes with coal production: 81
Number of nodes with gas production: 132
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4631
Total remaining deficit: 62226703.64 MWh

Processing graph 68/96

=== Processing Fall - Hour 19 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 82 iterations.
Total coal allocated: 31550.27 MWh
Total nodes visited: 158
Nodes successfully processed (received coal): 81
Nodes visited without receiving coal: 77

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 130 iterations.
Total gas allocated: 33332.55 MWh
Total nodes visited: 349
Nodes successfully processed (received gas): 129
Nodes visited without receiving gas: 220

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No more eligible deficit nodes found for oil.

Oil allocation completed after 21 iterations.
Total oil allocated: 2729.88 MWh
Total nodes visited: 61
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 41

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour19.pkl
Successfully saved final solved heatmap graph for fall hour 19

--- Fall Hour 19 FINAL SUMMARY STATISTICS ---
Total coal allocated: 31550.27 MWh
Total gas allocated: 33332.55 MWh
Total oil allocated: 2729.88 MWh
Total energy allocated: 67612.70 MWh
Number of nodes with coal production: 81
Number of nodes with gas production: 129
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4665
Total remaining deficit: 63598309.36 MWh

Processing graph 69/96

=== Processing Fall - Hour 20 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 82 iterations.
Total coal allocated: 31617.23 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 81
Nodes visited without receiving coal: 76

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 132 iterations.
Total gas allocated: 33516.15 MWh
Total nodes visited: 350
Nodes successfully processed (received gas): 131
Nodes visited without receiving gas: 219

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No more eligible deficit nodes found for oil.

Oil allocation completed after 21 iterations.
Total oil allocated: 2716.48 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 40

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour20.pkl
Successfully saved final solved heatmap graph for fall hour 20

--- Fall Hour 20 FINAL SUMMARY STATISTICS ---
Total coal allocated: 31617.23 MWh
Total gas allocated: 33516.15 MWh
Total oil allocated: 2716.48 MWh
Total energy allocated: 67849.86 MWh
Number of nodes with coal production: 81
Number of nodes with gas production: 131
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4685
Total remaining deficit: 63060525.16 MWh

Processing graph 70/96

=== Processing Fall - Hour 21 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 84 iterations.
Total coal allocated: 32908.62 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 83
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 136 iterations.
Total gas allocated: 33441.03 MWh
Total nodes visited: 347
Nodes successfully processed (received gas): 135
Nodes visited without receiving gas: 212

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No more eligible deficit nodes found for oil.

Oil allocation completed after 21 iterations.
Total oil allocated: 2681.84 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 40

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour21.pkl
Successfully saved final solved heatmap graph for fall hour 21

--- Fall Hour 21 FINAL SUMMARY STATISTICS ---
Total coal allocated: 32908.62 MWh
Total gas allocated: 33441.03 MWh
Total oil allocated: 2681.84 MWh
Total energy allocated: 69031.49 MWh
Number of nodes with coal production: 83
Number of nodes with gas production: 135
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4622
Total remaining deficit: 60136541.06 MWh

Processing graph 71/96

=== Processing Fall - Hour 22 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 86 iterations.
Total coal allocated: 30469.21 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 85
Nodes visited without receiving coal: 72

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 123 iterations.
Total gas allocated: 30393.42 MWh
Total nodes visited: 340
Nodes successfully processed (received gas): 122
Nodes visited without receiving gas: 218

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 2523.76 MWh
Total nodes visited: 58
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 40

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour22.pkl
Successfully saved final solved heatmap graph for fall hour 22

--- Fall Hour 22 FINAL SUMMARY STATISTICS ---
Total coal allocated: 30469.21 MWh
Total gas allocated: 30393.42 MWh
Total oil allocated: 2523.76 MWh
Total energy allocated: 63386.38 MWh
Number of nodes with coal production: 85
Number of nodes with gas production: 122
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4353
Total remaining deficit: 49111592.52 MWh

Processing graph 72/96

=== Processing Fall - Hour 23 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 87 iterations.
Total coal allocated: 31263.18 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 86
Nodes visited without receiving coal: 70

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 124 iterations.
Total gas allocated: 29892.46 MWh
Total nodes visited: 335
Nodes successfully processed (received gas): 123
Nodes visited without receiving gas: 212

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 2498.72 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_fall_hour23.pkl
Successfully saved final solved heatmap graph for fall hour 23

--- Fall Hour 23 FINAL SUMMARY STATISTICS ---
Total coal allocated: 31263.18 MWh
Total gas allocated: 29892.46 MWh
Total oil allocated: 2498.72 MWh
Total energy allocated: 63654.36 MWh
Number of nodes with coal production: 86
Number of nodes with gas production: 123
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4327
Total remaining deficit: 46688190.83 MWh

Processing graph 73/96

=== Processing Winter - Hour 00 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 90 iterations.
Total coal allocated: 35267.15 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 89
Nodes visited without receiving coal: 67

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 147 iterations.
Total gas allocated: 36721.99 MWh
Total nodes visited: 344
Nodes successfully processed (received gas): 146
Nodes visited without receiving gas: 198

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 3365.14 MWh
Total nodes visited: 59
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour00.pkl
Successfully saved final solved heatmap graph for winter hour 00

--- Winter Hour 00 FINAL SUMMARY STATISTICS ---
Total coal allocated: 35267.15 MWh
Total gas allocated: 36721.99 MWh
Total oil allocated: 3365.14 MWh
Total energy allocated: 75354.28 MWh
Number of nodes with coal production: 89
Number of nodes with gas production: 146
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4600
Total remaining deficit: 73086139.13 MWh

Processing graph 74/96

=== Processing Winter - Hour 01 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 90 iterations.
Total coal allocated: 35236.93 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 89
Nodes visited without receiving coal: 67

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 148 iterations.
Total gas allocated: 36770.21 MWh
Total nodes visited: 344
Nodes successfully processed (received gas): 147
Nodes visited without receiving gas: 197

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 3348.14 MWh
Total nodes visited: 59
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour01.pkl
Successfully saved final solved heatmap graph for winter hour 01

--- Winter Hour 01 FINAL SUMMARY STATISTICS ---
Total coal allocated: 35236.93 MWh
Total gas allocated: 36770.21 MWh
Total oil allocated: 3348.14 MWh
Total energy allocated: 75355.28 MWh
Number of nodes with coal production: 89
Number of nodes with gas production: 147
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4620
Total remaining deficit: 72685542.29 MWh

Processing graph 75/96

=== Processing Winter - Hour 02 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 90 iterations.
Total coal allocated: 35199.58 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 89
Nodes visited without receiving coal: 67

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 144 iterations.
Total gas allocated: 36709.46 MWh
Total nodes visited: 342
Nodes successfully processed (received gas): 143
Nodes visited without receiving gas: 199

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 3332.27 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 37

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour02.pkl
Successfully saved final solved heatmap graph for winter hour 02

--- Winter Hour 02 FINAL SUMMARY STATISTICS ---
Total coal allocated: 35199.58 MWh
Total gas allocated: 36709.46 MWh
Total oil allocated: 3332.27 MWh
Total energy allocated: 75241.31 MWh
Number of nodes with coal production: 89
Number of nodes with gas production: 143
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4590
Total remaining deficit: 72212442.81 MWh

Processing graph 76/96

=== Processing Winter - Hour 03 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 90 iterations.
Total coal allocated: 35199.58 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 89
Nodes visited without receiving coal: 67

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 144 iterations.
Total gas allocated: 36710.53 MWh
Total nodes visited: 342
Nodes successfully processed (received gas): 143
Nodes visited without receiving gas: 199

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 3332.27 MWh
Total nodes visited: 57
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 37

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour03.pkl
Successfully saved final solved heatmap graph for winter hour 03

--- Winter Hour 03 FINAL SUMMARY STATISTICS ---
Total coal allocated: 35199.58 MWh
Total gas allocated: 36710.53 MWh
Total oil allocated: 3332.27 MWh
Total energy allocated: 75242.38 MWh
Number of nodes with coal production: 89
Number of nodes with gas production: 143
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4590
Total remaining deficit: 72214833.55 MWh

Processing graph 77/96

=== Processing Winter - Hour 04 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 90 iterations.
Total coal allocated: 35429.39 MWh
Total nodes visited: 156
Nodes successfully processed (received coal): 89
Nodes visited without receiving coal: 67

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 147 iterations.
Total gas allocated: 37074.92 MWh
Total nodes visited: 343
Nodes successfully processed (received gas): 146
Nodes visited without receiving gas: 197

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 3352.26 MWh
Total nodes visited: 59
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour04.pkl
Successfully saved final solved heatmap graph for winter hour 04

--- Winter Hour 04 FINAL SUMMARY STATISTICS ---
Total coal allocated: 35429.39 MWh
Total gas allocated: 37074.92 MWh
Total oil allocated: 3352.26 MWh
Total energy allocated: 75856.57 MWh
Number of nodes with coal production: 89
Number of nodes with gas production: 146
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4632
Total remaining deficit: 73102529.71 MWh

Processing graph 78/96

=== Processing Winter - Hour 05 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 90 iterations.
Total coal allocated: 35514.84 MWh
Total nodes visited: 158
Nodes successfully processed (received coal): 89
Nodes visited without receiving coal: 69

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 149 iterations.
Total gas allocated: 37428.37 MWh
Total nodes visited: 351
Nodes successfully processed (received gas): 148
Nodes visited without receiving gas: 203

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 3371.94 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 40

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour05.pkl
Successfully saved final solved heatmap graph for winter hour 05

--- Winter Hour 05 FINAL SUMMARY STATISTICS ---
Total coal allocated: 35514.84 MWh
Total gas allocated: 37428.37 MWh
Total oil allocated: 3371.94 MWh
Total energy allocated: 76315.15 MWh
Number of nodes with coal production: 89
Number of nodes with gas production: 148
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4679
Total remaining deficit: 74088187.49 MWh

Processing graph 79/96

=== Processing Winter - Hour 06 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 89 iterations.
Total coal allocated: 36927.15 MWh
Total nodes visited: 159
Nodes successfully processed (received coal): 88
Nodes visited without receiving coal: 71

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No more eligible deficit nodes found for gas.

Gas allocation completed after 155 iterations.
Total gas allocated: 38830.24 MWh
Total nodes visited: 355
Nodes successfully processed (received gas): 154
Nodes visited without receiving gas: 201

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 22 iterations.
Total oil allocated: 3455.39 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 21
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour06.pkl
Successfully saved final solved heatmap graph for winter hour 06

--- Winter Hour 06 FINAL SUMMARY STATISTICS ---
Total coal allocated: 36927.15 MWh
Total gas allocated: 38830.24 MWh
Total oil allocated: 3455.39 MWh
Total energy allocated: 79212.78 MWh
Number of nodes with coal production: 88
Number of nodes with gas production: 154
Number of nodes with oil production: 21
Number of nodes with remaining deficits: 4806
Total remaining deficit: 80165450.89 MWh

Processing graph 80/96

=== Processing Winter - Hour 07 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 88 iterations.
Total coal allocated: 37572.10 MWh
Total nodes visited: 159
Nodes successfully processed (received coal): 87
Nodes visited without receiving coal: 72

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No more eligible deficit nodes found for gas.

Gas allocation completed after 148 iterations.
Total gas allocated: 38389.94 MWh
Total nodes visited: 353
Nodes successfully processed (received gas): 147
Nodes visited without receiving gas: 206

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 3077.65 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 40

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour07.pkl
Successfully saved final solved heatmap graph for winter hour 07

--- Winter Hour 07 FINAL SUMMARY STATISTICS ---
Total coal allocated: 37572.10 MWh
Total gas allocated: 38389.94 MWh
Total oil allocated: 3077.65 MWh
Total energy allocated: 79039.69 MWh
Number of nodes with coal production: 87
Number of nodes with gas production: 147
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4757
Total remaining deficit: 82678718.41 MWh

Processing graph 81/96

=== Processing Winter - Hour 08 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 86 iterations.
Total coal allocated: 37417.79 MWh
Total nodes visited: 158
Nodes successfully processed (received coal): 85
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No more eligible deficit nodes found for gas.

Gas allocation completed after 147 iterations.
Total gas allocated: 37417.74 MWh
Total nodes visited: 352
Nodes successfully processed (received gas): 146
Nodes visited without receiving gas: 206

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 3123.86 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 40

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour08.pkl
Successfully saved final solved heatmap graph for winter hour 08

--- Winter Hour 08 FINAL SUMMARY STATISTICS ---
Total coal allocated: 37417.79 MWh
Total gas allocated: 37417.74 MWh
Total oil allocated: 3123.86 MWh
Total energy allocated: 77959.40 MWh
Number of nodes with coal production: 85
Number of nodes with gas production: 146
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4679
Total remaining deficit: 84161029.99 MWh

Processing graph 82/96

=== Processing Winter - Hour 09 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No more eligible deficit nodes found for coal.

Coal allocation completed after 86 iterations.
Total coal allocated: 38067.62 MWh
Total nodes visited: 159
Nodes successfully processed (received coal): 85
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No more eligible deficit nodes found for gas.

Gas allocation completed after 145 iterations.
Total gas allocated: 37816.18 MWh
Total nodes visited: 351
Nodes successfully processed (received gas): 144
Nodes visited without receiving gas: 207

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 22 iterations.
Total oil allocated: 3219.65 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 21
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour09.pkl
Successfully saved final solved heatmap graph for winter hour 09

--- Winter Hour 09 FINAL SUMMARY STATISTICS ---
Total coal allocated: 38067.62 MWh
Total gas allocated: 37816.18 MWh
Total oil allocated: 3219.65 MWh
Total energy allocated: 79103.45 MWh
Number of nodes with coal production: 85
Number of nodes with gas production: 144
Number of nodes with oil production: 21
Number of nodes with remaining deficits: 4685
Total remaining deficit: 88373903.36 MWh

Processing graph 83/96

=== Processing Winter - Hour 10 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 85 iterations.
Total coal allocated: 37672.67 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 84
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 143 iterations.
Total gas allocated: 37386.15 MWh
Total nodes visited: 343
Nodes successfully processed (received gas): 142
Nodes visited without receiving gas: 201

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 2633.25 MWh
Total nodes visited: 59
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 40

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour10.pkl
Successfully saved final solved heatmap graph for winter hour 10

--- Winter Hour 10 FINAL SUMMARY STATISTICS ---
Total coal allocated: 37672.67 MWh
Total gas allocated: 37386.15 MWh
Total oil allocated: 2633.25 MWh
Total energy allocated: 77692.07 MWh
Number of nodes with coal production: 84
Number of nodes with gas production: 142
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4531
Total remaining deficit: 86632349.35 MWh

Processing graph 84/96

=== Processing Winter - Hour 11 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 85 iterations.
Total coal allocated: 37686.43 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 84
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 142 iterations.
Total gas allocated: 37575.74 MWh
Total nodes visited: 343
Nodes successfully processed (received gas): 141
Nodes visited without receiving gas: 202

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 2645.26 MWh
Total nodes visited: 59
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 40

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour11.pkl
Successfully saved final solved heatmap graph for winter hour 11

--- Winter Hour 11 FINAL SUMMARY STATISTICS ---
Total coal allocated: 37686.43 MWh
Total gas allocated: 37575.74 MWh
Total oil allocated: 2645.26 MWh
Total energy allocated: 77907.43 MWh
Number of nodes with coal production: 84
Number of nodes with gas production: 141
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4486
Total remaining deficit: 87403804.30 MWh

Processing graph 85/96

=== Processing Winter - Hour 12 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 85 iterations.
Total coal allocated: 37575.06 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 84
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No more eligible deficit nodes found for gas.

Gas allocation completed after 142 iterations.
Total gas allocated: 37384.19 MWh
Total nodes visited: 343
Nodes successfully processed (received gas): 141
Nodes visited without receiving gas: 202

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 2632.77 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour12.pkl
Successfully saved final solved heatmap graph for winter hour 12

--- Winter Hour 12 FINAL SUMMARY STATISTICS ---
Total coal allocated: 37575.06 MWh
Total gas allocated: 37384.19 MWh
Total oil allocated: 2632.77 MWh
Total energy allocated: 77592.02 MWh
Number of nodes with coal production: 84
Number of nodes with gas production: 141
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4413
Total remaining deficit: 86284019.61 MWh

Processing graph 86/96

=== Processing Winter - Hour 13 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 84 iterations.
Total coal allocated: 37530.98 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 83
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 142 iterations.
Total gas allocated: 37068.58 MWh
Total nodes visited: 343
Nodes successfully processed (received gas): 141
Nodes visited without receiving gas: 202

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 19 iterations.
Total oil allocated: 2610.92 MWh
Total nodes visited: 56
Nodes successfully processed (received oil): 18
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour13.pkl
Successfully saved final solved heatmap graph for winter hour 13

--- Winter Hour 13 FINAL SUMMARY STATISTICS ---
Total coal allocated: 37530.98 MWh
Total gas allocated: 37068.58 MWh
Total oil allocated: 2610.92 MWh
Total energy allocated: 77210.48 MWh
Number of nodes with coal production: 83
Number of nodes with gas production: 141
Number of nodes with oil production: 18
Number of nodes with remaining deficits: 4431
Total remaining deficit: 85424695.49 MWh

Processing graph 87/96

=== Processing Winter - Hour 14 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 85 iterations.
Total coal allocated: 37641.08 MWh
Total nodes visited: 157
Nodes successfully processed (received coal): 84
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 143 iterations.
Total gas allocated: 37269.35 MWh
Total nodes visited: 343
Nodes successfully processed (received gas): 142
Nodes visited without receiving gas: 201

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 2632.13 MWh
Total nodes visited: 59
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 40

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour14.pkl
Successfully saved final solved heatmap graph for winter hour 14

--- Winter Hour 14 FINAL SUMMARY STATISTICS ---
Total coal allocated: 37641.08 MWh
Total gas allocated: 37269.35 MWh
Total oil allocated: 2632.13 MWh
Total energy allocated: 77542.56 MWh
Number of nodes with coal production: 84
Number of nodes with gas production: 142
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4516
Total remaining deficit: 86437673.37 MWh

Processing graph 88/96

=== Processing Winter - Hour 15 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 85 iterations.
Total coal allocated: 37951.21 MWh
Total nodes visited: 158
Nodes successfully processed (received coal): 84
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 144 iterations.
Total gas allocated: 37785.57 MWh
Total nodes visited: 348
Nodes successfully processed (received gas): 143
Nodes visited without receiving gas: 205

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 22 iterations.
Total oil allocated: 2868.69 MWh
Total nodes visited: 59
Nodes successfully processed (received oil): 21
Nodes visited without receiving oil: 38

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour15.pkl
Successfully saved final solved heatmap graph for winter hour 15

--- Winter Hour 15 FINAL SUMMARY STATISTICS ---
Total coal allocated: 37951.21 MWh
Total gas allocated: 37785.57 MWh
Total oil allocated: 2868.69 MWh
Total energy allocated: 78605.47 MWh
Number of nodes with coal production: 84
Number of nodes with gas production: 143
Number of nodes with oil production: 21
Number of nodes with remaining deficits: 4632
Total remaining deficit: 89239578.07 MWh

Processing graph 89/96

=== Processing Winter - Hour 16 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 86 iterations.
Total coal allocated: 38354.01 MWh
Total nodes visited: 159
Nodes successfully processed (received coal): 85
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 151 iterations.
Total gas allocated: 39415.46 MWh
Total nodes visited: 359
Nodes successfully processed (received gas): 150
Nodes visited without receiving gas: 209

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 3260.55 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 40

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour16.pkl
Successfully saved final solved heatmap graph for winter hour 16

--- Winter Hour 16 FINAL SUMMARY STATISTICS ---
Total coal allocated: 38354.01 MWh
Total gas allocated: 39415.46 MWh
Total oil allocated: 3260.55 MWh
Total energy allocated: 81030.02 MWh
Number of nodes with coal production: 85
Number of nodes with gas production: 150
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4844
Total remaining deficit: 92446267.87 MWh

Processing graph 90/96

=== Processing Winter - Hour 17 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 87 iterations.
Total coal allocated: 38473.52 MWh
Total nodes visited: 159
Nodes successfully processed (received coal): 86
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 151 iterations.
Total gas allocated: 39000.23 MWh
Total nodes visited: 359
Nodes successfully processed (received gas): 150
Nodes visited without receiving gas: 209

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 3245.20 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 40

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour17.pkl
Successfully saved final solved heatmap graph for winter hour 17

--- Winter Hour 17 FINAL SUMMARY STATISTICS ---
Total coal allocated: 38473.52 MWh
Total gas allocated: 39000.23 MWh
Total oil allocated: 3245.20 MWh
Total energy allocated: 80718.95 MWh
Number of nodes with coal production: 86
Number of nodes with gas production: 150
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4870
Total remaining deficit: 92140397.90 MWh

Processing graph 91/96

=== Processing Winter - Hour 18 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 87 iterations.
Total coal allocated: 38615.13 MWh
Total nodes visited: 159
Nodes successfully processed (received coal): 86
Nodes visited without receiving coal: 73

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 152 iterations.
Total gas allocated: 40242.34 MWh
Total nodes visited: 361
Nodes successfully processed (received gas): 151
Nodes visited without receiving gas: 210

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 3260.55 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 41

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour18.pkl
Successfully saved final solved heatmap graph for winter hour 18

--- Winter Hour 18 FINAL SUMMARY STATISTICS ---
Total coal allocated: 38615.13 MWh
Total gas allocated: 40242.34 MWh
Total oil allocated: 3260.55 MWh
Total energy allocated: 82118.02 MWh
Number of nodes with coal production: 86
Number of nodes with gas production: 151
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4908
Total remaining deficit: 92988040.57 MWh

Processing graph 92/96

=== Processing Winter - Hour 19 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 87 iterations.
Total coal allocated: 38694.51 MWh
Total nodes visited: 160
Nodes successfully processed (received coal): 86
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 154 iterations.
Total gas allocated: 40675.62 MWh
Total nodes visited: 361
Nodes successfully processed (received gas): 153
Nodes visited without receiving gas: 208

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 3281.59 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 41

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour19.pkl
Successfully saved final solved heatmap graph for winter hour 19

--- Winter Hour 19 FINAL SUMMARY STATISTICS ---
Total coal allocated: 38694.51 MWh
Total gas allocated: 40675.62 MWh
Total oil allocated: 3281.59 MWh
Total energy allocated: 82651.71 MWh
Number of nodes with coal production: 86
Number of nodes with gas production: 153
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4924
Total remaining deficit: 94271861.82 MWh

Processing graph 93/96

=== Processing Winter - Hour 20 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 87 iterations.
Total coal allocated: 39171.04 MWh
Total nodes visited: 160
Nodes successfully processed (received coal): 86
Nodes visited without receiving coal: 74

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 154 iterations.
Total gas allocated: 40696.86 MWh
Total nodes visited: 361
Nodes successfully processed (received gas): 153
Nodes visited without receiving gas: 208

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 3263.77 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 41

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour20.pkl
Successfully saved final solved heatmap graph for winter hour 20

--- Winter Hour 20 FINAL SUMMARY STATISTICS ---
Total coal allocated: 39171.04 MWh
Total gas allocated: 40696.86 MWh
Total oil allocated: 3263.77 MWh
Total energy allocated: 83131.67 MWh
Number of nodes with coal production: 86
Number of nodes with gas production: 153
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4935
Total remaining deficit: 93658581.60 MWh

Processing graph 94/96

=== Processing Winter - Hour 21 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 88 iterations.
Total coal allocated: 38591.53 MWh
Total nodes visited: 159
Nodes successfully processed (received coal): 87
Nodes visited without receiving coal: 72

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 152 iterations.
Total gas allocated: 40149.53 MWh
Total nodes visited: 360
Nodes successfully processed (received gas): 151
Nodes visited without receiving gas: 209

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 20 iterations.
Total oil allocated: 3222.67 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 19
Nodes visited without receiving oil: 41

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour21.pkl
Successfully saved final solved heatmap graph for winter hour 21

--- Winter Hour 21 FINAL SUMMARY STATISTICS ---
Total coal allocated: 38591.53 MWh
Total gas allocated: 40149.53 MWh
Total oil allocated: 3222.67 MWh
Total energy allocated: 81963.72 MWh
Number of nodes with coal production: 87
Number of nodes with gas production: 151
Number of nodes with oil production: 19
Number of nodes with remaining deficits: 4892
Total remaining deficit: 91451336.13 MWh

Processing graph 95/96

=== Processing Winter - Hour 22 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 90 iterations.
Total coal allocated: 35758.90 MWh
Total nodes visited: 158
Nodes successfully processed (received coal): 89
Nodes visited without receiving coal: 69

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No gas allocated in this iteration. Gas allocation complete!

Gas allocation completed after 154 iterations.
Total gas allocated: 37849.73 MWh
Total nodes visited: 351
Nodes successfully processed (received gas): 153
Nodes visited without receiving gas: 198

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 22 iterations.
Total oil allocated: 3429.61 MWh
Total nodes visited: 60
Nodes successfully processed (received oil): 21
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour22.pkl
Successfully saved final solved heatmap graph for winter hour 22

--- Winter Hour 22 FINAL SUMMARY STATISTICS ---
Total coal allocated: 35758.90 MWh
Total gas allocated: 37849.73 MWh
Total oil allocated: 3429.61 MWh
Total energy allocated: 77038.25 MWh
Number of nodes with coal production: 89
Number of nodes with gas production: 153
Number of nodes with oil production: 21
Number of nodes with remaining deficits: 4668
Total remaining deficit: 77116816.44 MWh

Processing graph 96/96

=== Processing Winter - Hour 23 ===
Starting combined energy allocation algorithm...
Order of allocation: Coal  Gas  Oil

==================================================
Phase 1: COAL ALLOCATION
==================================================
Starting coal allocation algorithm...
No coal allocated in this iteration. Coal allocation complete!

Coal allocation completed after 90 iterations.
Total coal allocated: 35433.35 MWh
Total nodes visited: 158
Nodes successfully processed (received coal): 89
Nodes visited without receiving coal: 69

==================================================
Phase 2: GAS ALLOCATION
==================================================
Starting gas allocation algorithm...
No more eligible deficit nodes found for gas.

Gas allocation completed after 149 iterations.
Total gas allocated: 37045.51 MWh
Total nodes visited: 347
Nodes successfully processed (received gas): 148
Nodes visited without receiving gas: 199

==================================================
Phase 3: OIL ALLOCATION
==================================================
Starting oil allocation algorithm...
No oil allocated in this iteration. Oil allocation complete!

Oil allocation completed after 21 iterations.
Total oil allocated: 3385.13 MWh
Total nodes visited: 59
Nodes successfully processed (received oil): 20
Nodes visited without receiving oil: 39

==================================================
COMBINED ENERGY ALLOCATION COMPLETE
==================================================
Saving final solved graph to: /Users/kobabendiks/Desktop/UNI/Bachelor Thesis/Scenarios/SolarStorage/FinalSolvedHeatMap/SolarStorage_FinalSolvedHeatMap_winter_hour23.pkl
Successfully saved final solved heatmap graph for winter hour 23

--- Winter Hour 23 FINAL SUMMARY STATISTICS ---
Total coal allocated: 35433.35 MWh
Total gas allocated: 37045.51 MWh
Total oil allocated: 3385.13 MWh
Total energy allocated: 75863.99 MWh
Number of nodes with coal production: 89
Number of nodes with gas production: 148
Number of nodes with oil production: 20
Number of nodes with remaining deficits: 4640
Total remaining deficit: 74032135.86 MWh

================================================================================
FINAL PROCESSING SUMMARY
================================================================================
Total graphs to process: 96
Successfully processed: 96 graphs
Failed to process: 0 graphs

Successful graphs: ['spring-hour00', 'spring-hour01', 'spring-hour02', 'spring-hour03', 'spring-hour04', 'spring-hour05', 'spring-hour06', 'spring-hour07', 'spring-hour08', 'spring-hour09', 'spring-hour10', 'spring-hour11', 'spring-hour12', 'spring-hour13', 'spring-hour14', 'spring-hour15', 'spring-hour16', 'spring-hour17', 'spring-hour18', 'spring-hour19', 'spring-hour20', 'spring-hour21', 'spring-hour22', 'spring-hour23', 'summer-hour00', 'summer-hour01', 'summer-hour02', 'summer-hour03', 'summer-hour04', 'summer-hour05', 'summer-hour06', 'summer-hour07', 'summer-hour08', 'summer-hour09', 'summer-hour10', 'summer-hour11', 'summer-hour12', 'summer-hour13', 'summer-hour14', 'summer-hour15', 'summer-hour16', 'summer-hour17', 'summer-hour18', 'summer-hour19', 'summer-hour20', 'summer-hour21', 'summer-hour22', 'summer-hour23', 'fall-hour00', 'fall-hour01', 'fall-hour02', 'fall-hour03', 'fall-hour04', 'fall-hour05', 'fall-hour06', 'fall-hour07', 'fall-hour08', 'fall-hour09', 'fall-hour10', 'fall-hour11', 'fall-hour12', 'fall-hour13', 'fall-hour14', 'fall-hour15', 'fall-hour16', 'fall-hour17', 'fall-hour18', 'fall-hour19', 'fall-hour20', 'fall-hour21', 'fall-hour22', 'fall-hour23', 'winter-hour00', 'winter-hour01', 'winter-hour02', 'winter-hour03', 'winter-hour04', 'winter-hour05', 'winter-hour06', 'winter-hour07', 'winter-hour08', 'winter-hour09', 'winter-hour10', 'winter-hour11', 'winter-hour12', 'winter-hour13', 'winter-hour14', 'winter-hour15', 'winter-hour16', 'winter-hour17', 'winter-hour18', 'winter-hour19', 'winter-hour20', 'winter-hour21', 'winter-hour22', 'winter-hour23']

 All graphs processed successfully!
All energy allocations (Coal  Gas  Oil) completed for all seasons and hours.
</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs" id="cell-id=06314594-9df3-4618-9db8-9fe417241819">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In[]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span> 
</pre></div>
</div>
</div>
</div>
</div>
</div>
</main>
</body>
</html>
